var Nk=Object.defineProperty;var Vk=(e,t,n)=>t in e?Nk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var be=(e,t,n)=>(Vk(e,typeof t!="symbol"?t+"":t,n),n);var lq=$k((fq,vc)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function am(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Rt={},ja=[],sr=()=>{},Lk=()=>!1,ld=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),om=e=>e.startsWith("onUpdate:"),sn=Object.assign,lm=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Fk=Object.prototype.hasOwnProperty,lt=(e,t)=>Fk.call(e,t),Se=Array.isArray,Ba=e=>tu(e)==="[object Map]",vo=e=>tu(e)==="[object Set]",Yy=e=>tu(e)==="[object Date]",He=e=>typeof e=="function",Ot=e=>typeof e=="string",pi=e=>typeof e=="symbol",Tt=e=>e!==null&&typeof e=="object",ww=e=>(Tt(e)||He(e))&&He(e.then)&&He(e.catch),bw=Object.prototype.toString,tu=e=>bw.call(e),Uk=e=>tu(e).slice(8,-1),Tw=e=>tu(e)==="[object Object]",um=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,nc=am(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ud=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},jk=/-(\w)/g,Zr=ud(e=>e.replace(jk,(t,n)=>n?n.toUpperCase():"")),Bk=/\B([A-Z])/g,fa=ud(e=>e.replace(Bk,"-$1").toLowerCase()),cd=ud(e=>e.charAt(0).toUpperCase()+e.slice(1)),$h=ud(e=>e?`on${cd(e)}`:""),mi=(e,t)=>!Object.is(e,t),rc=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},wc=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},bc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Yk=e=>{const t=Ot(e)?Number(e):NaN;return isNaN(t)?e:t};let Hy;const Ew=()=>Hy||(Hy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function On(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ot(r)?zk(r):On(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Ot(e)||Tt(e))return e}const Hk=/;(?![^(]*\))/g,Wk=/:([^]+)/,qk=/\/\*[^]*?\*\//g;function zk(e){const t={};return e.replace(qk,"").split(Hk).forEach(n=>{if(n){const r=n.split(Wk);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Xe(e){let t="";if(Ot(e))t=e;else if(Se(e))for(let n=0;n<e.length;n++){const r=Xe(e[n]);r&&(t+=r+" ")}else if(Tt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Zt(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Ot(t)&&(e.class=Xe(t)),n&&(e.style=On(n)),e}const Gk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kk=am(Gk);function Iw(e){return!!e||e===""}function Qk(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ra(e[r],t[r]);return n}function ra(e,t){if(e===t)return!0;let n=Yy(e),r=Yy(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=pi(e),r=pi(t),n||r)return e===t;if(n=Se(e),r=Se(t),n||r)return n&&r?Qk(e,t):!1;if(n=Tt(e),r=Tt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!ra(e[a],t[a]))return!1}}return String(e)===String(t)}function cm(e,t){return e.findIndex(n=>ra(n,t))}const We=e=>Ot(e)?e:e==null?"":Se(e)||Tt(e)&&(e.toString===bw||!He(e.toString))?JSON.stringify(e,Aw,2):String(e),Aw=(e,t)=>t&&t.__v_isRef?Aw(e,t.value):Ba(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Lh(r,i)+" =>"]=s,n),{})}:vo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Lh(n))}:pi(t)?Lh(t):Tt(t)&&!Se(t)&&!Tw(t)?String(t):t,Lh=(e,t="")=>{var n;return pi(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let qn;class kw{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qn,!t&&qn&&(this.index=(qn.scopes||(qn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=qn;try{return qn=this,t()}finally{qn=n}}}on(){qn=this}off(){qn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Rw(e){return new kw(e)}function Xk(e,t=qn){t&&t.active&&t.effects.push(e)}function dd(){return qn}function Pw(e){qn&&qn.cleanups.push(e)}let Gi;class dm{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,Xk(this,s)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,pa();for(const t of this.deps)if(t.computed&&(Jk(t.computed),this._dirtyLevel>=2))break;ma(),this._queryings--}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ii,n=Gi;try{return ii=!0,Gi=this,this._runnings++,Wy(this),this.fn()}finally{qy(this),this._runnings--,Gi=n,ii=t}}stop(){var t;this.active&&(Wy(this),qy(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Jk(e){return e.value}function Wy(e){e._trackId++,e._depsLength=0}function qy(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Sw(e.deps[t],e);e.deps.length=e._depsLength}}function Sw(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let ii=!0,Yf=0;const Cw=[];function pa(){Cw.push(ii),ii=!1}function ma(){const e=Cw.pop();ii=e===void 0?!0:e}function hm(){Yf++}function fm(){for(Yf--;!Yf&&Hf.length;)Hf.shift()()}function xw(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Sw(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Hf=[];function Dw(e,t,n){hm();for(const r of e.keys())if(!(!r.allowRecurse&&r._runnings)&&r._dirtyLevel<t&&(!r._runnings||t!==2)){const s=r._dirtyLevel;r._dirtyLevel=t,s===0&&(!r._queryings||t!==2)&&(r.trigger(),r.scheduler&&Hf.push(r.scheduler))}fm()}const Mw=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Tc=new WeakMap,Ki=Symbol(""),Wf=Symbol("");function Wn(e,t,n){if(ii&&Gi){let r=Tc.get(e);r||Tc.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Mw(()=>r.delete(n))),xw(Gi,s)}}function Ts(e,t,n,r,s,i){const a=Tc.get(e);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(n==="length"&&Se(e)){const l=Number(r);a.forEach((u,c)=>{(c==="length"||!pi(c)&&c>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),t){case"add":Se(e)?um(n)&&o.push(a.get("length")):(o.push(a.get(Ki)),Ba(e)&&o.push(a.get(Wf)));break;case"delete":Se(e)||(o.push(a.get(Ki)),Ba(e)&&o.push(a.get(Wf)));break;case"set":Ba(e)&&o.push(a.get(Ki));break}hm();for(const l of o)l&&Dw(l,3);fm()}function Zk(e,t){var n;return(n=Tc.get(e))==null?void 0:n.get(t)}const eR=am("__proto__,__v_isRef,__isVue"),Ow=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pi)),zy=tR();function tR(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=it(this);for(let i=0,a=this.length;i<a;i++)Wn(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(it)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pa(),hm();const r=it(this)[t].apply(this,n);return fm(),ma(),r}}),e}function nR(e){const t=it(this);return Wn(t,"has",e),t.hasOwnProperty(e)}class Nw{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?mR:Fw:i?Lw:$w).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=Se(t);if(!s){if(a&&lt(zy,n))return Reflect.get(zy,n,r);if(n==="hasOwnProperty")return nR}const o=Reflect.get(t,n,r);return(pi(n)?Ow.has(n):eR(n))||(s||Wn(t,"get",n),i)?o:vt(o)?a&&um(n)?o:o.value:Tt(o)?s?jw(o):Zn(o):o}}class Vw extends Nw{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._shallow){const l=sa(i);if(!Ec(r)&&!sa(r)&&(i=it(i),r=it(r)),!Se(t)&&vt(i)&&!vt(r))return l?!1:(i.value=r,!0)}const a=Se(t)&&um(n)?Number(n)<t.length:lt(t,n),o=Reflect.set(t,n,r,s);return t===it(s)&&(a?mi(r,i)&&Ts(t,"set",n,r):Ts(t,"add",n,r)),o}deleteProperty(t,n){const r=lt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ts(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!pi(n)||!Ow.has(n))&&Wn(t,"has",n),r}ownKeys(t){return Wn(t,"iterate",Se(t)?"length":Ki),Reflect.ownKeys(t)}}class rR extends Nw{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const sR=new Vw,iR=new rR,aR=new Vw(!0),pm=e=>e,hd=e=>Reflect.getPrototypeOf(e);function Cu(e,t,n=!1,r=!1){e=e.__v_raw;const s=it(e),i=it(t);n||(mi(t,i)&&Wn(s,"get",t),Wn(s,"get",i));const{has:a}=hd(s),o=r?pm:n?ym:bl;if(a.call(s,t))return o(e.get(t));if(a.call(s,i))return o(e.get(i));e!==s&&e.get(t)}function xu(e,t=!1){const n=this.__v_raw,r=it(n),s=it(e);return t||(mi(e,s)&&Wn(r,"has",e),Wn(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Du(e,t=!1){return e=e.__v_raw,!t&&Wn(it(e),"iterate",Ki),Reflect.get(e,"size",e)}function Gy(e){e=it(e);const t=it(this);return hd(t).has.call(t,e)||(t.add(e),Ts(t,"add",e,e)),this}function Ky(e,t){t=it(t);const n=it(this),{has:r,get:s}=hd(n);let i=r.call(n,e);i||(e=it(e),i=r.call(n,e));const a=s.call(n,e);return n.set(e,t),i?mi(t,a)&&Ts(n,"set",e,t):Ts(n,"add",e,t),this}function Qy(e){const t=it(this),{has:n,get:r}=hd(t);let s=n.call(t,e);s||(e=it(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Ts(t,"delete",e,void 0),i}function Xy(){const e=it(this),t=e.size!==0,n=e.clear();return t&&Ts(e,"clear",void 0,void 0),n}function Mu(e,t){return function(r,s){const i=this,a=i.__v_raw,o=it(a),l=t?pm:e?ym:bl;return!e&&Wn(o,"iterate",Ki),a.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function Ou(e,t,n){return function(...r){const s=this.__v_raw,i=it(s),a=Ba(i),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=s[e](...r),c=n?pm:t?ym:bl;return!t&&Wn(i,"iterate",l?Wf:Ki),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:o?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function $s(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function oR(){const e={get(i){return Cu(this,i)},get size(){return Du(this)},has:xu,add:Gy,set:Ky,delete:Qy,clear:Xy,forEach:Mu(!1,!1)},t={get(i){return Cu(this,i,!1,!0)},get size(){return Du(this)},has:xu,add:Gy,set:Ky,delete:Qy,clear:Xy,forEach:Mu(!1,!0)},n={get(i){return Cu(this,i,!0)},get size(){return Du(this,!0)},has(i){return xu.call(this,i,!0)},add:$s("add"),set:$s("set"),delete:$s("delete"),clear:$s("clear"),forEach:Mu(!0,!1)},r={get(i){return Cu(this,i,!0,!0)},get size(){return Du(this,!0)},has(i){return xu.call(this,i,!0)},add:$s("add"),set:$s("set"),delete:$s("delete"),clear:$s("clear"),forEach:Mu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ou(i,!1,!1),n[i]=Ou(i,!0,!1),t[i]=Ou(i,!1,!0),r[i]=Ou(i,!0,!0)}),[e,n,t,r]}const[lR,uR,cR,dR]=oR();function mm(e,t){const n=t?e?dR:cR:e?uR:lR;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(lt(n,s)&&s in r?n:r,s,i)}const hR={get:mm(!1,!1)},fR={get:mm(!1,!0)},pR={get:mm(!0,!1)},$w=new WeakMap,Lw=new WeakMap,Fw=new WeakMap,mR=new WeakMap;function gR(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yR(e){return e.__v_skip||!Object.isExtensible(e)?0:gR(Uk(e))}function Zn(e){return sa(e)?e:gm(e,!1,sR,hR,$w)}function Uw(e){return gm(e,!1,aR,fR,Lw)}function jw(e){return gm(e,!0,iR,pR,Fw)}function gm(e,t,n,r,s){if(!Tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=yR(e);if(a===0)return e;const o=new Proxy(e,a===2?r:n);return s.set(e,o),o}function Es(e){return sa(e)?Es(e.__v_raw):!!(e&&e.__v_isReactive)}function sa(e){return!!(e&&e.__v_isReadonly)}function Ec(e){return!!(e&&e.__v_isShallow)}function Bw(e){return Es(e)||sa(e)}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function fd(e){return wc(e,"__v_skip",!0),e}const bl=e=>Tt(e)?Zn(e):e,ym=e=>Tt(e)?jw(e):e;class Yw{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new dm(()=>t(this._value),()=>qf(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=it(this);return Hw(t),(!t._cacheable||t.effect.dirty)&&mi(t._value,t._value=t.effect.run())&&qf(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function _R(e,t,n=!1){let r,s;const i=He(e);return i?(r=e,s=sr):(r=e.get,s=e.set),new Yw(r,s,i||!s,n)}function Hw(e){ii&&Gi&&(e=it(e),xw(Gi,e.dep||(e.dep=Mw(()=>e.dep=void 0,e instanceof Yw?e:void 0))))}function qf(e,t=3,n){e=it(e);const r=e.dep;r&&Dw(r,t)}function vt(e){return!!(e&&e.__v_isRef===!0)}function J(e){return Ww(e,!1)}function vR(e){return Ww(e,!0)}function Ww(e,t){return vt(e)?e:new wR(e,t)}class wR{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:it(t),this._value=n?t:bl(t)}get value(){return Hw(this),this._value}set value(t){const n=this.__v_isShallow||Ec(t)||sa(t);t=n?t:it(t),mi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:bl(t),qf(this,3))}}function T(e){return vt(e)?e.value:e}const bR={get:(e,t,n)=>T(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return vt(s)&&!vt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function qw(e){return Es(e)?e:new Proxy(e,bR)}function TR(e){const t=Se(e)?new Array(e.length):{};for(const n in e)t[n]=zw(e,n);return t}class ER{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Zk(it(this._object),this._key)}}class IR{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ic(e,t,n){return vt(e)?e:He(e)?new IR(e):Tt(e)&&arguments.length>1?zw(e,t,n):J(e)}function zw(e,t,n){const r=e[t];return vt(r)?r:new ER(e,t,n)}function ai(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){pd(i,t,n)}return s}function ir(e,t,n,r){if(He(e)){const i=ai(e,t,n,r);return i&&ww(i)&&i.catch(a=>{pd(a,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(ir(e[i],t,n,r));return s}function pd(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,o=`https://vuejs.org/errors/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,a,o)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){ai(l,null,10,[e,a,o]);return}}AR(e,n,s,r)}function AR(e,t,n,r=!0){console.error(e)}let Tl=!1,zf=!1;const En=[];let Lr=0;const Ya=[];let hs=null,Fi=0;const Gw=Promise.resolve();let _m=null;function Ln(e){const t=_m||Gw;return e?t.then(this?e.bind(this):e):t}function kR(e){let t=Lr+1,n=En.length;for(;t<n;){const r=t+n>>>1,s=En[r],i=El(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function vm(e){(!En.length||!En.includes(e,Tl&&e.allowRecurse?Lr+1:Lr))&&(e.id==null?En.push(e):En.splice(kR(e.id),0,e),Kw())}function Kw(){!Tl&&!zf&&(zf=!0,_m=Gw.then(Xw))}function RR(e){const t=En.indexOf(e);t>Lr&&En.splice(t,1)}function PR(e){Se(e)?Ya.push(...e):(!hs||!hs.includes(e,e.allowRecurse?Fi+1:Fi))&&Ya.push(e),Kw()}function Jy(e,t,n=Tl?Lr+1:0){for(;n<En.length;n++){const r=En[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;En.splice(n,1),n--,r()}}}function Qw(e){if(Ya.length){const t=[...new Set(Ya)];if(Ya.length=0,hs){hs.push(...t);return}for(hs=t,hs.sort((n,r)=>El(n)-El(r)),Fi=0;Fi<hs.length;Fi++)hs[Fi]();hs=null,Fi=0}}const El=e=>e.id==null?1/0:e.id,SR=(e,t)=>{const n=El(e)-El(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Xw(e){zf=!1,Tl=!0,En.sort(SR);try{for(Lr=0;Lr<En.length;Lr++){const t=En[Lr];t&&t.active!==!1&&ai(t,null,14)}}finally{Lr=0,En.length=0,Qw(),Tl=!1,_m=null,(En.length||Ya.length)&&Xw()}}function CR(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Rt;let s=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in r){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:h}=r[c]||Rt;h&&(s=n.map(f=>Ot(f)?f.trim():f)),d&&(s=n.map(bc))}let o,l=r[o=$h(t)]||r[o=$h(Zr(t))];!l&&i&&(l=r[o=$h(fa(t))]),l&&ir(l,e,6,s);const u=r[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,ir(u,e,6,s)}}function Jw(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},o=!1;if(!He(e)){const l=u=>{const c=Jw(u,t,!0);c&&(o=!0,sn(a,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!o?(Tt(e)&&r.set(e,null),null):(Se(i)?i.forEach(l=>a[l]=null):sn(a,i),Tt(e)&&r.set(e,a),a)}function md(e,t){return!e||!ld(t)?!1:(t=t.slice(2).replace(/Once$/,""),lt(e,t[0].toLowerCase()+t.slice(1))||lt(e,fa(t))||lt(e,t))}let un=null,Zw=null;function Ac(e){const t=un;return un=e,Zw=e&&e.type.__scopeId||null,t}function Qe(e,t=un,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&h_(-1);const i=Ac(t);let a;try{a=e(...s)}finally{Ac(i),r._d&&h_(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Fh(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[a],slots:o,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:m,inheritAttrs:y}=e;let b,I;const C=Ac(e);try{if(n.shapeFlag&4){const R=s||r,N=R;b=$r(c.call(N,R,d,i,f,h,m)),I=l}else{const R=t;b=$r(R.length>1?R(i,{attrs:l,slots:o,emit:u}):R(i,null)),I=t.props?l:xR(l)}}catch(R){il.length=0,pd(R,e,1),b=Le(ar)}let E=b;if(I&&y!==!1){const R=Object.keys(I),{shapeFlag:N}=E;R.length&&N&7&&(a&&R.some(om)&&(I=DR(I,a)),E=gi(E,I))}return n.dirs&&(E=gi(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),b=E,Ac(C),b}const xR=e=>{let t;for(const n in e)(n==="class"||n==="style"||ld(n))&&((t||(t={}))[n]=e[n]);return t},DR=(e,t)=>{const n={};for(const r in e)(!om(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function MR(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:o,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Zy(r,a,u):!!a;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(a[h]!==r[h]&&!md(u,h))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Zy(r,a,u):!0:!!a;return!1}function Zy(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!md(n,i))return!0}return!1}function OR({vnode:e,parent:t},n){if(n)for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const wm="components";function NR(e,t){return tb(wm,e,!0,t)||e}const eb=Symbol.for("v-ndc");function gd(e){return Ot(e)?tb(wm,e,!1)||e:e||eb}function tb(e,t,n=!0,r=!1){const s=un||ln;if(s){const i=s.type;if(e===wm){const o=SP(i,!1);if(o&&(o===t||o===Zr(t)||o===cd(Zr(t))))return i}const a=e_(s[e]||i[e],t)||e_(s.appContext[e],t);return!a&&r?i:a}}function e_(e,t){return e&&(e[t]||e[Zr(t)]||e[cd(Zr(t))])}const VR=e=>e.__isSuspense;function $R(e,t){t&&t.pendingBranch?Se(e)?t.effects.push(...e):t.effects.push(e):PR(e)}const LR=Symbol.for("v-scx"),FR=()=>Bn(LR),Nu={};function en(e,t,n){return nb(e,t,n)}function nb(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:a,onTrigger:o}=Rt){if(t&&i){const D=t;t=(...x)=>{D(...x),N()}}const l=ln,u=D=>r===!0?D:ji(D,r===!1?1:void 0);let c,d=!1,h=!1;if(vt(e)?(c=()=>e.value,d=Ec(e)):Es(e)?(c=()=>u(e),d=!0):Se(e)?(h=!0,d=e.some(D=>Es(D)||Ec(D)),c=()=>e.map(D=>{if(vt(D))return D.value;if(Es(D))return u(D);if(He(D))return ai(D,l,2)})):He(e)?t?c=()=>ai(e,l,2):c=()=>(f&&f(),ir(e,l,3,[m])):c=sr,t&&r){const D=c;c=()=>ji(D())}let f,m=D=>{f=E.onStop=()=>{ai(D,l,4),f=E.onStop=void 0}},y;if(Td)if(m=sr,t?n&&ir(t,l,3,[c(),h?[]:void 0,m]):c(),s==="sync"){const D=FR();y=D.__watcherHandles||(D.__watcherHandles=[])}else return sr;let b=h?new Array(e.length).fill(Nu):Nu;const I=()=>{if(!(!E.active||!E.dirty))if(t){const D=E.run();(r||d||(h?D.some((x,M)=>mi(x,b[M])):mi(D,b)))&&(f&&f(),ir(t,l,3,[D,b===Nu?void 0:h&&b[0]===Nu?[]:b,m]),b=D)}else E.run()};I.allowRecurse=!!t;let C;s==="sync"?C=I:s==="post"?C=()=>Fn(I,l&&l.suspense):(I.pre=!0,l&&(I.id=l.uid),C=()=>vm(I));const E=new dm(c,sr,C),R=dd(),N=()=>{E.stop(),R&&lm(R.effects,E)};return t?n?I():b=E.run():s==="post"?Fn(E.run.bind(E),l&&l.suspense):E.run(),y&&y.push(N),N}function UR(e,t,n){const r=this.proxy,s=Ot(e)?e.includes(".")?rb(r,e):()=>r[e]:e.bind(r,r);let i;He(t)?i=t:(i=t.handler,n=t);const a=ln;Za(this);const o=nb(s,i.bind(r),n);return a?Za(a):Qi(),o}function rb(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function ji(e,t,n=0,r){if(!Tt(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),vt(e))ji(e.value,t,n,r);else if(Se(e))for(let s=0;s<e.length;s++)ji(e[s],t,n,r);else if(vo(e)||Ba(e))e.forEach(s=>{ji(s,t,n,r)});else if(Tw(e))for(const s in e)ji(e[s],t,n,r);return e}function vr(e,t){const n=un;if(n===null)return e;const r=Ed(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,l,u=Rt]=t[i];a&&(He(a)&&(a={mounted:a,updated:a}),a.deep&&ji(o),s.push({dir:a,instance:r,value:o,oldValue:void 0,arg:l,modifiers:u}))}return e}function Ci(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[r];l&&(pa(),ir(l,n,8,[e.el,o,e,t]),ma())}}const Ws=Symbol("_leaveCb"),Vu=Symbol("_enterCb");function jR(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kt(()=>{e.isMounted=!0}),bm(()=>{e.isUnmounting=!0}),e}const tr=[Function,Array],sb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tr,onEnter:tr,onAfterEnter:tr,onEnterCancelled:tr,onBeforeLeave:tr,onLeave:tr,onAfterLeave:tr,onLeaveCancelled:tr,onBeforeAppear:tr,onAppear:tr,onAfterAppear:tr,onAppearCancelled:tr},BR={name:"BaseTransition",props:sb,setup(e,{slots:t}){const n=bd(),r=jR();let s;return()=>{const i=t.default&&ab(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const y of i)if(y.type!==ar){a=y;break}}const o=it(e),{mode:l}=o;if(r.isLeaving)return Uh(a);const u=t_(a);if(!u)return Uh(a);const c=Gf(u,o,r,n);Kf(u,c);const d=n.subTree,h=d&&t_(d);let f=!1;const{getTransitionKey:m}=u.type;if(m){const y=m();s===void 0?s=y:y!==s&&(s=y,f=!0)}if(h&&h.type!==ar&&(!Ui(u,h)||f)){const y=Gf(h,o,r,n);if(Kf(h,y),l==="out-in")return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Uh(a);l==="in-out"&&u.type!==ar&&(y.delayLeave=(b,I,C)=>{const E=ib(r,h);E[String(h.key)]=h,b[Ws]=()=>{I(),b[Ws]=void 0,delete c.delayedLeave},c.delayedLeave=C})}return a}}},YR=BR;function ib(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Gf(e,t,n,r){const{appear:s,mode:i,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:y,onAppear:b,onAfterAppear:I,onAppearCancelled:C}=t,E=String(e.key),R=ib(n,e),N=(M,j)=>{M&&ir(M,r,9,j)},D=(M,j)=>{const H=j[1];N(M,j),Se(M)?M.every(re=>re.length<=1)&&H():M.length<=1&&H()},x={mode:i,persisted:a,beforeEnter(M){let j=o;if(!n.isMounted)if(s)j=y||o;else return;M[Ws]&&M[Ws](!0);const H=R[E];H&&Ui(e,H)&&H.el[Ws]&&H.el[Ws](),N(j,[M])},enter(M){let j=l,H=u,re=c;if(!n.isMounted)if(s)j=b||l,H=I||u,re=C||c;else return;let P=!1;const K=M[Vu]=ce=>{P||(P=!0,ce?N(re,[M]):N(H,[M]),x.delayedLeave&&x.delayedLeave(),M[Vu]=void 0)};j?D(j,[M,K]):K()},leave(M,j){const H=String(e.key);if(M[Vu]&&M[Vu](!0),n.isUnmounting)return j();N(d,[M]);let re=!1;const P=M[Ws]=K=>{re||(re=!0,j(),K?N(m,[M]):N(f,[M]),M[Ws]=void 0,R[H]===e&&delete R[H])};R[H]=e,h?D(h,[M,P]):P()},clone(M){return Gf(M,t,n,r)}};return x}function Uh(e){if(yd(e))return e=gi(e),e.children=null,e}function t_(e){return yd(e)?e.children?e.children[0]:void 0:e}function Kf(e,t){e.shapeFlag&6&&e.component?Kf(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ab(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let a=e[i];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===Me?(a.patchFlag&128&&s++,r=r.concat(ab(a.children,t,o))):(t||a.type!==ar)&&r.push(o!=null?gi(a,{key:o}):a)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function at(e,t){return He(e)?sn({name:e.name},t,{setup:e}):e}const nl=e=>!!e.type.__asyncLoader,yd=e=>e.type.__isKeepAlive;function HR(e,t){ob(e,"a",t)}function WR(e,t){ob(e,"da",t)}function ob(e,t,n=ln){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(_d(t,r,n),n){let s=n.parent;for(;s&&s.parent;)yd(s.parent.vnode)&&qR(r,t,n,s),s=s.parent}}function qR(e,t,n,r){const s=_d(t,e,r,!0);wo(()=>{lm(r[t],s)},n)}function _d(e,t,n=ln,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;pa(),Za(n);const o=ir(t,n,e,a);return Qi(),ma(),o});return r?s.unshift(i):s.push(i),i}}const Ms=e=>(t,n=ln)=>(!Td||e==="sp")&&_d(e,(...r)=>t(...r),n),lb=Ms("bm"),Kt=Ms("m"),ub=Ms("bu"),zR=Ms("u"),bm=Ms("bum"),wo=Ms("um"),GR=Ms("sp"),KR=Ms("rtg"),QR=Ms("rtc");function XR(e,t=ln){_d("ec",e,t)}function bt(e,t,n,r){let s;const i=n&&n[r];if(Se(e)||Ot(e)){s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i&&i[a])}else if(Tt(e))if(e[Symbol.iterator])s=Array.from(e,(a,o)=>t(a,o,void 0,i&&i[o]));else{const a=Object.keys(e);s=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];s[o]=t(e[u],u,o,i&&i[o])}}else s=[];return n&&(n[r]=s),s}function Vn(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Se(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return e}function ke(e,t,n={},r,s){if(un.isCE||un.parent&&nl(un.parent)&&un.parent.isCE)return t!=="default"&&(n.name=t),Le("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),F();const a=i&&cb(i(n)),o=Je(Me,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!s&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),i&&i._c&&(i._d=!0),o}function cb(e){return e.some(t=>Rc(t)?!(t.type===ar||t.type===Me&&!cb(t.children)):!0)?e:null}const Qf=e=>e?Eb(e)?Ed(e)||e.proxy:Qf(e.parent):null,rl=sn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Qf(e.parent),$root:e=>Qf(e.root),$emit:e=>e.emit,$options:e=>Tm(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,vm(e.update)}),$nextTick:e=>e.n||(e.n=Ln.bind(e.proxy)),$watch:e=>UR.bind(e)}),jh=(e,t)=>e!==Rt&&!e.__isScriptSetup&&lt(e,t),JR={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(jh(r,t))return a[t]=1,r[t];if(s!==Rt&&lt(s,t))return a[t]=2,s[t];if((u=e.propsOptions[0])&&lt(u,t))return a[t]=3,i[t];if(n!==Rt&&lt(n,t))return a[t]=4,n[t];Xf&&(a[t]=0)}}const c=rl[t];let d,h;if(c)return t==="$attrs"&&Wn(e,"get",t),c(e);if((d=o.__cssModules)&&(d=d[t]))return d;if(n!==Rt&&lt(n,t))return a[t]=4,n[t];if(h=l.config.globalProperties,lt(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return jh(s,t)?(s[t]=n,!0):r!==Rt&&lt(r,t)?(r[t]=n,!0):lt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let o;return!!n[a]||e!==Rt&&lt(e,a)||jh(t,a)||(o=i[0])&&lt(o,a)||lt(r,a)||lt(rl,a)||lt(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:lt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ga(){return ZR().slots}function ZR(){const e=bd();return e.setupContext||(e.setupContext=Ab(e))}function n_(e){return Se(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Xf=!0;function eP(e){const t=Tm(e),n=e.proxy,r=e.ctx;Xf=!1,t.beforeCreate&&r_(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:m,activated:y,deactivated:b,beforeDestroy:I,beforeUnmount:C,destroyed:E,unmounted:R,render:N,renderTracked:D,renderTriggered:x,errorCaptured:M,serverPrefetch:j,expose:H,inheritAttrs:re,components:P,directives:K,filters:ce}=t;if(u&&tP(u,r,null),a)for(const W in a){const ee=a[W];He(ee)&&(r[W]=ee.bind(n))}if(s){const W=s.call(n,n);Tt(W)&&(e.data=Zn(W))}if(Xf=!0,i)for(const W in i){const ee=i[W],ge=He(ee)?ee.bind(n,n):He(ee.get)?ee.get.bind(n,n):sr,te=!He(ee)&&He(ee.set)?ee.set.bind(n):sr,L=G({get:ge,set:te});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>L.value,set:Y=>L.value=Y})}if(o)for(const W in o)db(o[W],r,n,W);if(l){const W=He(l)?l.call(n):l;Reflect.ownKeys(W).forEach(ee=>{Ha(ee,W[ee])})}c&&r_(c,e,"c");function w(W,ee){Se(ee)?ee.forEach(ge=>W(ge.bind(n))):ee&&W(ee.bind(n))}if(w(lb,d),w(Kt,h),w(ub,f),w(zR,m),w(HR,y),w(WR,b),w(XR,M),w(QR,D),w(KR,x),w(bm,C),w(wo,R),w(GR,j),Se(H))if(H.length){const W=e.exposed||(e.exposed={});H.forEach(ee=>{Object.defineProperty(W,ee,{get:()=>n[ee],set:ge=>n[ee]=ge})})}else e.exposed||(e.exposed={});N&&e.render===sr&&(e.render=N),re!=null&&(e.inheritAttrs=re),P&&(e.components=P),K&&(e.directives=K)}function tP(e,t,n=sr){Se(e)&&(e=Jf(e));for(const r in e){const s=e[r];let i;Tt(s)?"default"in s?i=Bn(s.from||r,s.default,!0):i=Bn(s.from||r):i=Bn(s),vt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function r_(e,t,n){ir(Se(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function db(e,t,n,r){const s=r.includes(".")?rb(n,r):()=>n[r];if(Ot(e)){const i=t[e];He(i)&&en(s,i)}else if(He(e))en(s,e.bind(n));else if(Tt(e))if(Se(e))e.forEach(i=>db(i,t,n,r));else{const i=He(e.handler)?e.handler.bind(n):t[e.handler];He(i)&&en(s,i,e)}}function Tm(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,o=i.get(t);let l;return o?l=o:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(u=>kc(l,u,a,!0)),kc(l,t,a)),Tt(t)&&i.set(t,l),l}function kc(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&kc(e,i,n,!0),s&&s.forEach(a=>kc(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const o=nP[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const nP={data:s_,props:i_,emits:i_,methods:Go,computed:Go,beforeCreate:Dn,created:Dn,beforeMount:Dn,mounted:Dn,beforeUpdate:Dn,updated:Dn,beforeDestroy:Dn,beforeUnmount:Dn,destroyed:Dn,unmounted:Dn,activated:Dn,deactivated:Dn,errorCaptured:Dn,serverPrefetch:Dn,components:Go,directives:Go,watch:sP,provide:s_,inject:rP};function s_(e,t){return t?e?function(){return sn(He(e)?e.call(this,this):e,He(t)?t.call(this,this):t)}:t:e}function rP(e,t){return Go(Jf(e),Jf(t))}function Jf(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Dn(e,t){return e?[...new Set([].concat(e,t))]:t}function Go(e,t){return e?sn(Object.create(null),e,t):t}function i_(e,t){return e?Se(e)&&Se(t)?[...new Set([...e,...t])]:sn(Object.create(null),n_(e),n_(t??{})):t}function sP(e,t){if(!e)return t;if(!t)return e;const n=sn(Object.create(null),e);for(const r in t)n[r]=Dn(e[r],t[r]);return n}function hb(){return{app:null,config:{isNativeTag:Lk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iP=0;function aP(e,t){return function(r,s=null){He(r)||(r=sn({},r)),s!=null&&!Tt(s)&&(s=null);const i=hb(),a=new WeakSet;let o=!1;const l=i.app={_uid:iP++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:xP,get config(){return i.config},set config(u){},use(u,...c){return a.has(u)||(u&&He(u.install)?(a.add(u),u.install(l,...c)):He(u)&&(a.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,d){if(!o){const h=Le(r,s);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),c&&t?t(h,u):e(h,u,d),o=!0,l._container=u,u.__vue_app__=l,Ed(h.component)||h.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){Il=l;try{return u()}finally{Il=null}}};return l}}let Il=null;function Ha(e,t){if(ln){let n=ln.provides;const r=ln.parent&&ln.parent.provides;r===n&&(n=ln.provides=Object.create(r)),n[e]=t}}function Bn(e,t,n=!1){const r=ln||un;if(r||Il){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Il._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&He(t)?t.call(r&&r.proxy):t}}function oP(){return!!(ln||un||Il)}function lP(e,t,n,r=!1){const s={},i={};wc(i,wd,1),e.propsDefaults=Object.create(null),fb(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Uw(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function uP(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,o=it(s),[l]=e.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(md(e.emitsOptions,h))continue;const f=t[h];if(l)if(lt(i,h))f!==i[h]&&(i[h]=f,u=!0);else{const m=Zr(h);s[m]=Zf(l,o,m,f,e,!1)}else f!==i[h]&&(i[h]=f,u=!0)}}}else{fb(e,t,s,i)&&(u=!0);let c;for(const d in o)(!t||!lt(t,d)&&((c=fa(d))===d||!lt(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=Zf(l,o,d,void 0,e,!0)):delete s[d]);if(i!==o)for(const d in i)(!t||!lt(t,d))&&(delete i[d],u=!0)}u&&Ts(e,"set","$attrs")}function fb(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(nc(l))continue;const u=t[l];let c;s&&lt(s,c=Zr(l))?!i||!i.includes(c)?n[c]=u:(o||(o={}))[c]=u:md(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(i){const l=it(n),u=o||Rt;for(let c=0;c<i.length;c++){const d=i[c];n[d]=Zf(s,l,d,u[d],e,!lt(u,d))}}return a}function Zf(e,t,n,r,s,i){const a=e[n];if(a!=null){const o=lt(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&He(l)){const{propsDefaults:u}=s;n in u?r=u[n]:(Za(s),r=u[n]=l.call(null,t),Qi())}else r=l}a[0]&&(i&&!o?r=!1:a[1]&&(r===""||r===fa(n))&&(r=!0))}return r}function pb(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},o=[];let l=!1;if(!He(e)){const c=d=>{l=!0;const[h,f]=pb(d,t,!0);sn(a,h),f&&o.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return Tt(e)&&r.set(e,ja),ja;if(Se(i))for(let c=0;c<i.length;c++){const d=Zr(i[c]);a_(d)&&(a[d]=Rt)}else if(i)for(const c in i){const d=Zr(c);if(a_(d)){const h=i[c],f=a[d]=Se(h)||He(h)?{type:h}:sn({},h);if(f){const m=u_(Boolean,f.type),y=u_(String,f.type);f[0]=m>-1,f[1]=y<0||m<y,(m>-1||lt(f,"default"))&&o.push(d)}}}const u=[a,o];return Tt(e)&&r.set(e,u),u}function a_(e){return e[0]!=="$"}function o_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function l_(e,t){return o_(e)===o_(t)}function u_(e,t){return Se(t)?t.findIndex(n=>l_(n,e)):He(t)&&l_(t,e)?0:-1}const mb=e=>e[0]==="_"||e==="$stable",Em=e=>Se(e)?e.map($r):[$r(e)],cP=(e,t,n)=>{if(t._n)return t;const r=Qe((...s)=>Em(t(...s)),n);return r._c=!1,r},gb=(e,t,n)=>{const r=e._ctx;for(const s in e){if(mb(s))continue;const i=e[s];if(He(i))t[s]=cP(s,i,r);else if(i!=null){const a=Em(i);t[s]=()=>a}}},yb=(e,t)=>{const n=Em(t);e.slots.default=()=>n},dP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=it(t),wc(t,"_",n)):gb(t,e.slots={})}else e.slots={},t&&yb(e,t);wc(e.slots,wd,1)},hP=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=Rt;if(r.shapeFlag&32){const o=t._;o?n&&o===1?i=!1:(sn(s,t),!n&&o===1&&delete s._):(i=!t.$stable,gb(t,s)),a=t}else t&&(yb(e,t),a={default:1});if(i)for(const o in s)!mb(o)&&a[o]==null&&delete s[o]};function ep(e,t,n,r,s=!1){if(Se(e)){e.forEach((h,f)=>ep(h,t&&(Se(t)?t[f]:t),n,r,s));return}if(nl(r)&&!s)return;const i=r.shapeFlag&4?Ed(r.component)||r.component.proxy:r.el,a=s?null:i,{i:o,r:l}=e,u=t&&t.r,c=o.refs===Rt?o.refs={}:o.refs,d=o.setupState;if(u!=null&&u!==l&&(Ot(u)?(c[u]=null,lt(d,u)&&(d[u]=null)):vt(u)&&(u.value=null)),He(l))ai(l,o,12,[a,c]);else{const h=Ot(l),f=vt(l);if(h||f){const m=()=>{if(e.f){const y=h?lt(d,l)?d[l]:c[l]:l.value;s?Se(y)&&lm(y,i):Se(y)?y.includes(i)||y.push(i):h?(c[l]=[i],lt(d,l)&&(d[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else h?(c[l]=a,lt(d,l)&&(d[l]=a)):f&&(l.value=a,e.k&&(c[e.k]=a))};a?(m.id=-1,Fn(m,n)):m()}}}const Fn=$R;function fP(e){return pP(e)}function pP(e,t){const n=Ew();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=sr,insertStaticContent:m}=e,y=(p,g,k,U=null,B=null,O=null,pe=void 0,ae=null,me=!!g.dynamicChildren)=>{if(p===g)return;p&&!Ui(p,g)&&(U=z(p),Y(p,B,O,!0),p=null),g.patchFlag===-2&&(me=!1,g.dynamicChildren=null);const{type:ne,ref:ve,shapeFlag:Re}=g;switch(ne){case vd:b(p,g,k,U);break;case ar:I(p,g,k,U);break;case sc:p==null&&C(g,k,U,pe);break;case Me:P(p,g,k,U,B,O,pe,ae,me);break;default:Re&1?N(p,g,k,U,B,O,pe,ae,me):Re&6?K(p,g,k,U,B,O,pe,ae,me):(Re&64||Re&128)&&ne.process(p,g,k,U,B,O,pe,ae,me,A)}ve!=null&&B&&ep(ve,p&&p.ref,O,g||p,!g)},b=(p,g,k,U)=>{if(p==null)r(g.el=o(g.children),k,U);else{const B=g.el=p.el;g.children!==p.children&&u(B,g.children)}},I=(p,g,k,U)=>{p==null?r(g.el=l(g.children||""),k,U):g.el=p.el},C=(p,g,k,U)=>{[p.el,p.anchor]=m(p.children,g,k,U,p.el,p.anchor)},E=({el:p,anchor:g},k,U)=>{let B;for(;p&&p!==g;)B=h(p),r(p,k,U),p=B;r(g,k,U)},R=({el:p,anchor:g})=>{let k;for(;p&&p!==g;)k=h(p),s(p),p=k;s(g)},N=(p,g,k,U,B,O,pe,ae,me)=>{g.type==="svg"?pe="svg":g.type==="math"&&(pe="mathml"),p==null?D(g,k,U,B,O,pe,ae,me):j(p,g,B,O,pe,ae,me)},D=(p,g,k,U,B,O,pe,ae)=>{let me,ne;const{props:ve,shapeFlag:Re,transition:Ae,dirs:Pe}=p;if(me=p.el=a(p.type,O,ve&&ve.is,ve),Re&8?c(me,p.children):Re&16&&M(p.children,me,null,U,B,Bh(p,O),pe,ae),Pe&&Ci(p,null,U,"created"),x(me,p,p.scopeId,pe,U),ve){for(const ut in ve)ut!=="value"&&!nc(ut)&&i(me,ut,null,ve[ut],O,p.children,U,B,X);"value"in ve&&i(me,"value",null,ve.value,O),(ne=ve.onVnodeBeforeMount)&&Or(ne,U,p)}Pe&&Ci(p,null,U,"beforeMount");const Ge=mP(B,Ae);Ge&&Ae.beforeEnter(me),r(me,g,k),((ne=ve&&ve.onVnodeMounted)||Ge||Pe)&&Fn(()=>{ne&&Or(ne,U,p),Ge&&Ae.enter(me),Pe&&Ci(p,null,U,"mounted")},B)},x=(p,g,k,U,B)=>{if(k&&f(p,k),U)for(let O=0;O<U.length;O++)f(p,U[O]);if(B){let O=B.subTree;if(g===O){const pe=B.vnode;x(p,pe,pe.scopeId,pe.slotScopeIds,B.parent)}}},M=(p,g,k,U,B,O,pe,ae,me=0)=>{for(let ne=me;ne<p.length;ne++){const ve=p[ne]=ae?qs(p[ne]):$r(p[ne]);y(null,ve,g,k,U,B,O,pe,ae)}},j=(p,g,k,U,B,O,pe)=>{const ae=g.el=p.el;let{patchFlag:me,dynamicChildren:ne,dirs:ve}=g;me|=p.patchFlag&16;const Re=p.props||Rt,Ae=g.props||Rt;let Pe;if(k&&xi(k,!1),(Pe=Ae.onVnodeBeforeUpdate)&&Or(Pe,k,g,p),ve&&Ci(g,p,k,"beforeUpdate"),k&&xi(k,!0),ne?H(p.dynamicChildren,ne,ae,k,U,Bh(g,B),O):pe||ee(p,g,ae,null,k,U,Bh(g,B),O,!1),me>0){if(me&16)re(ae,g,Re,Ae,k,U,B);else if(me&2&&Re.class!==Ae.class&&i(ae,"class",null,Ae.class,B),me&4&&i(ae,"style",Re.style,Ae.style,B),me&8){const Ge=g.dynamicProps;for(let ut=0;ut<Ge.length;ut++){const gt=Ge[ut],Lt=Re[gt],Cn=Ae[gt];(Cn!==Lt||gt==="value")&&i(ae,gt,Lt,Cn,B,p.children,k,U,X)}}me&1&&p.children!==g.children&&c(ae,g.children)}else!pe&&ne==null&&re(ae,g,Re,Ae,k,U,B);((Pe=Ae.onVnodeUpdated)||ve)&&Fn(()=>{Pe&&Or(Pe,k,g,p),ve&&Ci(g,p,k,"updated")},U)},H=(p,g,k,U,B,O,pe)=>{for(let ae=0;ae<g.length;ae++){const me=p[ae],ne=g[ae],ve=me.el&&(me.type===Me||!Ui(me,ne)||me.shapeFlag&70)?d(me.el):k;y(me,ne,ve,null,U,B,O,pe,!0)}},re=(p,g,k,U,B,O,pe)=>{if(k!==U){if(k!==Rt)for(const ae in k)!nc(ae)&&!(ae in U)&&i(p,ae,k[ae],null,pe,g.children,B,O,X);for(const ae in U){if(nc(ae))continue;const me=U[ae],ne=k[ae];me!==ne&&ae!=="value"&&i(p,ae,ne,me,pe,g.children,B,O,X)}"value"in U&&i(p,"value",k.value,U.value,pe)}},P=(p,g,k,U,B,O,pe,ae,me)=>{const ne=g.el=p?p.el:o(""),ve=g.anchor=p?p.anchor:o("");let{patchFlag:Re,dynamicChildren:Ae,slotScopeIds:Pe}=g;Pe&&(ae=ae?ae.concat(Pe):Pe),p==null?(r(ne,k,U),r(ve,k,U),M(g.children,k,ve,B,O,pe,ae,me)):Re>0&&Re&64&&Ae&&p.dynamicChildren?(H(p.dynamicChildren,Ae,k,B,O,pe,ae),(g.key!=null||B&&g===B.subTree)&&Im(p,g,!0)):ee(p,g,k,ve,B,O,pe,ae,me)},K=(p,g,k,U,B,O,pe,ae,me)=>{g.slotScopeIds=ae,p==null?g.shapeFlag&512?B.ctx.activate(g,k,U,pe,me):ce(g,k,U,B,O,pe,me):S(p,g,me)},ce=(p,g,k,U,B,O,pe)=>{const ae=p.component=AP(p,U,B);if(yd(p)&&(ae.ctx.renderer=A),kP(ae),ae.asyncDep){if(B&&B.registerDep(ae,w),!p.el){const me=ae.subTree=Le(ar);I(null,me,g,k)}}else w(ae,p,g,k,B,O,pe)},S=(p,g,k)=>{const U=g.component=p.component;if(MR(p,g,k))if(U.asyncDep&&!U.asyncResolved){W(U,g,k);return}else U.next=g,RR(U.update),U.effect.dirty=!0,U.update();else g.el=p.el,U.vnode=g},w=(p,g,k,U,B,O,pe)=>{const ae=()=>{if(p.isMounted){let{next:ve,bu:Re,u:Ae,parent:Pe,vnode:Ge}=p;{const Dr=_b(p);if(Dr){ve&&(ve.el=Ge.el,W(p,ve,pe)),Dr.asyncDep.then(()=>{p.isUnmounted||ae()});return}}let ut=ve,gt;xi(p,!1),ve?(ve.el=Ge.el,W(p,ve,pe)):ve=Ge,Re&&rc(Re),(gt=ve.props&&ve.props.onVnodeBeforeUpdate)&&Or(gt,Pe,ve,Ge),xi(p,!0);const Lt=Fh(p),Cn=p.subTree;p.subTree=Lt,y(Cn,Lt,d(Cn.el),z(Cn),p,B,O),ve.el=Lt.el,ut===null&&OR(p,Lt.el),Ae&&Fn(Ae,B),(gt=ve.props&&ve.props.onVnodeUpdated)&&Fn(()=>Or(gt,Pe,ve,Ge),B)}else{let ve;const{el:Re,props:Ae}=g,{bm:Pe,m:Ge,parent:ut}=p,gt=nl(g);if(xi(p,!1),Pe&&rc(Pe),!gt&&(ve=Ae&&Ae.onVnodeBeforeMount)&&Or(ve,ut,g),xi(p,!0),Re&&ye){const Lt=()=>{p.subTree=Fh(p),ye(Re,p.subTree,p,B,null)};gt?g.type.__asyncLoader().then(()=>!p.isUnmounted&&Lt()):Lt()}else{const Lt=p.subTree=Fh(p);y(null,Lt,k,U,p,B,O),g.el=Lt.el}if(Ge&&Fn(Ge,B),!gt&&(ve=Ae&&Ae.onVnodeMounted)){const Lt=g;Fn(()=>Or(ve,ut,Lt),B)}(g.shapeFlag&256||ut&&nl(ut.vnode)&&ut.vnode.shapeFlag&256)&&p.a&&Fn(p.a,B),p.isMounted=!0,g=k=U=null}},me=p.effect=new dm(ae,sr,()=>vm(ne),p.scope),ne=p.update=()=>{me.dirty&&me.run()};ne.id=p.uid,xi(p,!0),ne()},W=(p,g,k)=>{g.component=p;const U=p.vnode.props;p.vnode=g,p.next=null,uP(p,g.props,U,k),hP(p,g.children,k),pa(),Jy(p),ma()},ee=(p,g,k,U,B,O,pe,ae,me=!1)=>{const ne=p&&p.children,ve=p?p.shapeFlag:0,Re=g.children,{patchFlag:Ae,shapeFlag:Pe}=g;if(Ae>0){if(Ae&128){te(ne,Re,k,U,B,O,pe,ae,me);return}else if(Ae&256){ge(ne,Re,k,U,B,O,pe,ae,me);return}}Pe&8?(ve&16&&X(ne,B,O),Re!==ne&&c(k,Re)):ve&16?Pe&16?te(ne,Re,k,U,B,O,pe,ae,me):X(ne,B,O,!0):(ve&8&&c(k,""),Pe&16&&M(Re,k,U,B,O,pe,ae,me))},ge=(p,g,k,U,B,O,pe,ae,me)=>{p=p||ja,g=g||ja;const ne=p.length,ve=g.length,Re=Math.min(ne,ve);let Ae;for(Ae=0;Ae<Re;Ae++){const Pe=g[Ae]=me?qs(g[Ae]):$r(g[Ae]);y(p[Ae],Pe,k,null,B,O,pe,ae,me)}ne>ve?X(p,B,O,!0,!1,Re):M(g,k,U,B,O,pe,ae,me,Re)},te=(p,g,k,U,B,O,pe,ae,me)=>{let ne=0;const ve=g.length;let Re=p.length-1,Ae=ve-1;for(;ne<=Re&&ne<=Ae;){const Pe=p[ne],Ge=g[ne]=me?qs(g[ne]):$r(g[ne]);if(Ui(Pe,Ge))y(Pe,Ge,k,null,B,O,pe,ae,me);else break;ne++}for(;ne<=Re&&ne<=Ae;){const Pe=p[Re],Ge=g[Ae]=me?qs(g[Ae]):$r(g[Ae]);if(Ui(Pe,Ge))y(Pe,Ge,k,null,B,O,pe,ae,me);else break;Re--,Ae--}if(ne>Re){if(ne<=Ae){const Pe=Ae+1,Ge=Pe<ve?g[Pe].el:U;for(;ne<=Ae;)y(null,g[ne]=me?qs(g[ne]):$r(g[ne]),k,Ge,B,O,pe,ae,me),ne++}}else if(ne>Ae)for(;ne<=Re;)Y(p[ne],B,O,!0),ne++;else{const Pe=ne,Ge=ne,ut=new Map;for(ne=Ge;ne<=Ae;ne++){const De=g[ne]=me?qs(g[ne]):$r(g[ne]);De.key!=null&&ut.set(De.key,ne)}let gt,Lt=0;const Cn=Ae-Ge+1;let Dr=!1,q=0;const he=new Array(Cn);for(ne=0;ne<Cn;ne++)he[ne]=0;for(ne=Pe;ne<=Re;ne++){const De=p[ne];if(Lt>=Cn){Y(De,B,O,!0);continue}let se;if(De.key!=null)se=ut.get(De.key);else for(gt=Ge;gt<=Ae;gt++)if(he[gt-Ge]===0&&Ui(De,g[gt])){se=gt;break}se===void 0?Y(De,B,O,!0):(he[se-Ge]=ne+1,se>=q?q=se:Dr=!0,y(De,g[se],k,null,B,O,pe,ae,me),Lt++)}const Ce=Dr?gP(he):ja;for(gt=Ce.length-1,ne=Cn-1;ne>=0;ne--){const De=Ge+ne,se=g[De],Ve=De+1<ve?g[De+1].el:U;he[ne]===0?y(null,se,k,Ve,B,O,pe,ae,me):Dr&&(gt<0||ne!==Ce[gt]?L(se,k,Ve,2):gt--)}}},L=(p,g,k,U,B=null)=>{const{el:O,type:pe,transition:ae,children:me,shapeFlag:ne}=p;if(ne&6){L(p.component.subTree,g,k,U);return}if(ne&128){p.suspense.move(g,k,U);return}if(ne&64){pe.move(p,g,k,A);return}if(pe===Me){r(O,g,k);for(let Re=0;Re<me.length;Re++)L(me[Re],g,k,U);r(p.anchor,g,k);return}if(pe===sc){E(p,g,k);return}if(U!==2&&ne&1&&ae)if(U===0)ae.beforeEnter(O),r(O,g,k),Fn(()=>ae.enter(O),B);else{const{leave:Re,delayLeave:Ae,afterLeave:Pe}=ae,Ge=()=>r(O,g,k),ut=()=>{Re(O,()=>{Ge(),Pe&&Pe()})};Ae?Ae(O,Ge,ut):ut()}else r(O,g,k)},Y=(p,g,k,U=!1,B=!1)=>{const{type:O,props:pe,ref:ae,children:me,dynamicChildren:ne,shapeFlag:ve,patchFlag:Re,dirs:Ae}=p;if(ae!=null&&ep(ae,null,k,p,!0),ve&256){g.ctx.deactivate(p);return}const Pe=ve&1&&Ae,Ge=!nl(p);let ut;if(Ge&&(ut=pe&&pe.onVnodeBeforeUnmount)&&Or(ut,g,p),ve&6)Q(p.component,k,U);else{if(ve&128){p.suspense.unmount(k,U);return}Pe&&Ci(p,null,g,"beforeUnmount"),ve&64?p.type.remove(p,g,k,B,A,U):ne&&(O!==Me||Re>0&&Re&64)?X(ne,g,k,!1,!0):(O===Me&&Re&384||!B&&ve&16)&&X(me,g,k),U&&_(p)}(Ge&&(ut=pe&&pe.onVnodeUnmounted)||Pe)&&Fn(()=>{ut&&Or(ut,g,p),Pe&&Ci(p,null,g,"unmounted")},k)},_=p=>{const{type:g,el:k,anchor:U,transition:B}=p;if(g===Me){v(k,U);return}if(g===sc){R(p);return}const O=()=>{s(k),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(p.shapeFlag&1&&B&&!B.persisted){const{leave:pe,delayLeave:ae}=B,me=()=>pe(k,O);ae?ae(p.el,O,me):me()}else O()},v=(p,g)=>{let k;for(;p!==g;)k=h(p),s(p),p=k;s(g)},Q=(p,g,k)=>{const{bum:U,scope:B,update:O,subTree:pe,um:ae}=p;U&&rc(U),B.stop(),O&&(O.active=!1,Y(pe,p,g,k)),ae&&Fn(ae,g),Fn(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},X=(p,g,k,U=!1,B=!1,O=0)=>{for(let pe=O;pe<p.length;pe++)Y(p[pe],g,k,U,B)},z=p=>p.shapeFlag&6?z(p.component.subTree):p.shapeFlag&128?p.suspense.next():h(p.anchor||p.el),de=(p,g,k)=>{p==null?g._vnode&&Y(g._vnode,null,null,!0):y(g._vnode||null,p,g,null,null,null,k),Jy(),Qw(),g._vnode=p},A={p:y,um:Y,m:L,r:_,mt:ce,mc:M,pc:ee,pbc:H,n:z,o:e};let V,ye;return t&&([V,ye]=t(A)),{render:de,hydrate:V,createApp:aP(de,V)}}function Bh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function xi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function mP(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Im(e,t,n=!1){const r=e.children,s=t.children;if(Se(r)&&Se(s))for(let i=0;i<r.length;i++){const a=r[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=qs(s[i]),o.el=a.el),n||Im(a,o)),o.type===vd&&(o.el=a.el)}}function gP(e){const t=e.slice(),n=[0];let r,s,i,a,o;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)o=i+a>>1,e[n[o]]<u?i=o+1:a=o;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function _b(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_b(t)}const yP=e=>e.__isTeleport,sl=e=>e&&(e.disabled||e.disabled===""),c_=e=>typeof SVGElement<"u"&&e instanceof SVGElement,d_=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,tp=(e,t)=>{const n=e&&e.to;return Ot(n)?t?t(n):null:n},_P={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,i,a,o,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:m,createText:y,createComment:b}}=u,I=sl(t.props);let{shapeFlag:C,children:E,dynamicChildren:R}=t;if(e==null){const N=t.el=y(""),D=t.anchor=y("");f(N,n,r),f(D,n,r);const x=t.target=tp(t.props,m),M=t.targetAnchor=y("");x&&(f(M,x),a==="svg"||c_(x)?a="svg":(a==="mathml"||d_(x))&&(a="mathml"));const j=(H,re)=>{C&16&&c(E,H,re,s,i,a,o,l)};I?j(n,D):x&&j(x,M)}else{t.el=e.el;const N=t.anchor=e.anchor,D=t.target=e.target,x=t.targetAnchor=e.targetAnchor,M=sl(e.props),j=M?n:D,H=M?N:x;if(a==="svg"||c_(D)?a="svg":(a==="mathml"||d_(D))&&(a="mathml"),R?(h(e.dynamicChildren,R,j,s,i,a,o),Im(e,t,!0)):l||d(e,t,j,H,s,i,a,o,!1),I)M?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):$u(t,n,N,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const re=t.target=tp(t.props,m);re&&$u(t,re,null,u,0)}else M&&$u(t,D,x,u,1)}vb(t)},remove(e,t,n,r,{um:s,o:{remove:i}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:c,target:d,props:h}=e;if(d&&i(c),a&&i(u),o&16){const f=a||!sl(h);for(let m=0;m<l.length;m++){const y=l[m];s(y,t,n,f,!!y.dynamicChildren)}}},move:$u,hydrate:vP};function $u(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=e,d=i===2;if(d&&r(a,t,n),(!d||sl(c))&&l&16)for(let h=0;h<u.length;h++)s(u[h],t,n,2);d&&r(o,t,n)}function vP(e,t,n,r,s,i,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const c=t.target=tp(t.props,l);if(c){const d=c._lpa||c.firstChild;if(t.shapeFlag&16)if(sl(t.props))t.anchor=u(a(e),t,o(e),n,r,s,i),t.targetAnchor=d;else{t.anchor=a(e);let h=d;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,c._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(d,t,c,n,r,s,i)}vb(t)}return t.anchor&&a(t.anchor)}const wP=_P;function vb(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Me=Symbol.for("v-fgt"),vd=Symbol.for("v-txt"),ar=Symbol.for("v-cmt"),sc=Symbol.for("v-stc"),il=[];let yr=null;function F(e=!1){il.push(yr=e?null:[])}function bP(){il.pop(),yr=il[il.length-1]||null}let Al=1;function h_(e){Al+=e}function wb(e){return e.dynamicChildren=Al>0?yr||ja:null,bP(),Al>0&&yr&&yr.push(e),e}function Z(e,t,n,r,s,i){return wb($(e,t,n,r,s,i,!0))}function Je(e,t,n,r,s){return wb(Le(e,t,n,r,s,!0))}function Rc(e){return e?e.__v_isVNode===!0:!1}function Ui(e,t){return e.type===t.type&&e.key===t.key}const wd="__vInternal",bb=({key:e})=>e??null,ic=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ot(e)||vt(e)||He(e)?{i:un,r:e,k:t,f:!!n}:e:null);function $(e,t=null,n=null,r=0,s=null,i=e===Me?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&bb(t),ref:t&&ic(t),scopeId:Zw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:un};return o?(Am(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Ot(n)?8:16),Al>0&&!a&&yr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&yr.push(l),l}const Le=TP;function TP(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===eb)&&(e=ar),Rc(e)){const o=gi(e,t,!0);return n&&Am(o,n),Al>0&&!i&&yr&&(o.shapeFlag&6?yr[yr.indexOf(e)]=o:yr.push(o)),o.patchFlag|=-2,o}if(CP(e)&&(e=e.__vccOpts),t){t=In(t);let{class:o,style:l}=t;o&&!Ot(o)&&(t.class=Xe(o)),Tt(l)&&(Bw(l)&&!Se(l)&&(l=sn({},l)),t.style=On(l))}const a=Ot(e)?1:VR(e)?128:yP(e)?64:Tt(e)?4:He(e)?2:0;return $(e,t,n,r,s,a,i,!0)}function In(e){return e?Bw(e)||wd in e?sn({},e):e:null}function gi(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:a}=e,o=t?cn(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&bb(o),ref:t&&t.ref?n&&s?Se(s)?s.concat(ic(t)):[s,ic(t)]:ic(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gi(e.ssContent),ssFallback:e.ssFallback&&gi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function es(e=" ",t=0){return Le(vd,null,e,t)}function Tb(e,t){const n=Le(sc,null,e);return n.staticCount=t,n}function oe(e="",t=!1){return t?(F(),Je(ar,null,e)):Le(ar,null,e)}function $r(e){return e==null||typeof e=="boolean"?Le(ar):Se(e)?Le(Me,null,e.slice()):typeof e=="object"?qs(e):Le(vd,null,String(e))}function qs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:gi(e)}function Am(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Se(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Am(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(wd in t)?t._ctx=un:s===3&&un&&(un.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else He(t)?(t={default:t,_ctx:un},n=32):(t=String(t),r&64?(n=16,t=[es(t)]):n=8);e.children=t,e.shapeFlag|=n}function cn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Xe([t.class,r.class]));else if(s==="style")t.style=On([t.style,r.style]);else if(ld(s)){const i=t[s],a=r[s];a&&i!==a&&!(Se(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function Or(e,t,n,r=null){ir(e,t,7,[n,r])}const EP=hb();let IP=0;function AP(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||EP,i={uid:IP++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new kw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pb(r,s),emitsOptions:Jw(r,s),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:r.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=CR.bind(null,i),e.ce&&e.ce(i),i}let ln=null;const bd=()=>ln||un;let km,np;{const e=Ew(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};km=t("__VUE_INSTANCE_SETTERS__",n=>ln=n),np=t("__VUE_SSR_SETTERS__",n=>Td=n)}const Za=e=>{km(e),e.scope.on()},Qi=()=>{ln&&ln.scope.off(),km(null)};function Eb(e){return e.vnode.shapeFlag&4}let Td=!1;function kP(e,t=!1){t&&np(t);const{props:n,children:r}=e.vnode,s=Eb(e);lP(e,n,s,t),dP(e,r);const i=s?RP(e,t):void 0;return t&&np(!1),i}function RP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=fd(new Proxy(e.ctx,JR));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Ab(e):null;Za(e),pa();const i=ai(r,e,0,[e.props,s]);if(ma(),Qi(),ww(i)){if(i.then(Qi,Qi),t)return i.then(a=>{f_(e,a,t)}).catch(a=>{pd(a,e,0)});e.asyncDep=i}else f_(e,i,t)}else Ib(e,t)}function f_(e,t,n){He(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Tt(t)&&(e.setupState=qw(t)),Ib(e,n)}let p_;function Ib(e,t,n){const r=e.type;if(!e.render){if(!t&&p_&&!r.render){const s=r.template||Tm(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:l}=r,u=sn(sn({isCustomElement:i,delimiters:o},a),l);r.render=p_(s,u)}}e.render=r.render||sr}{Za(e),pa();try{eP(e)}finally{ma(),Qi()}}}function PP(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Wn(e,"get","$attrs"),t[n]}}))}function Ab(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return PP(e)},slots:e.slots,emit:e.emit,expose:t}}function Ed(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(qw(fd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in rl)return rl[n](e)},has(t,n){return n in t||n in rl}}))}function SP(e,t=!0){return He(e)?e.displayName||e.name:e.name||t&&e.__name}function CP(e){return He(e)&&"__vccOpts"in e}const G=(e,t)=>_R(e,t,Td);function Id(e,t,n){const r=arguments.length;return r===2?Tt(t)&&!Se(t)?Rc(t)?Le(e,null,[t]):Le(e,t):Le(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Rc(n)&&(n=[n]),Le(e,t,n))}const xP="3.4.5",DP="http://www.w3.org/2000/svg",MP="http://www.w3.org/1998/Math/MathML",zs=typeof document<"u"?document:null,m_=zs&&zs.createElement("template"),OP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?zs.createElementNS(DP,e):t==="mathml"?zs.createElementNS(MP,e):zs.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>zs.createTextNode(e),createComment:e=>zs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{m_.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const o=m_.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ls="transition",Oo="animation",kl=Symbol("_vtc"),is=(e,{slots:t})=>Id(YR,NP(e),t);is.displayName="Transition";const kb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};is.props=sn({},sb,kb);const Di=(e,t=[])=>{Se(e)?e.forEach(n=>n(...t)):e&&e(...t)},g_=e=>e?Se(e)?e.some(t=>t.length>1):e.length>1:!1;function NP(e){const t={};for(const P in e)P in kb||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=VP(s),y=m&&m[0],b=m&&m[1],{onBeforeEnter:I,onEnter:C,onEnterCancelled:E,onLeave:R,onLeaveCancelled:N,onBeforeAppear:D=I,onAppear:x=C,onAppearCancelled:M=E}=t,j=(P,K,ce)=>{Mi(P,K?c:o),Mi(P,K?u:a),ce&&ce()},H=(P,K)=>{P._isLeaving=!1,Mi(P,d),Mi(P,f),Mi(P,h),K&&K()},re=P=>(K,ce)=>{const S=P?x:C,w=()=>j(K,P,ce);Di(S,[K,w]),y_(()=>{Mi(K,P?l:i),Fs(K,P?c:o),g_(S)||__(K,r,y,w)})};return sn(t,{onBeforeEnter(P){Di(I,[P]),Fs(P,i),Fs(P,a)},onBeforeAppear(P){Di(D,[P]),Fs(P,l),Fs(P,u)},onEnter:re(!1),onAppear:re(!0),onLeave(P,K){P._isLeaving=!0;const ce=()=>H(P,K);Fs(P,d),FP(),Fs(P,h),y_(()=>{P._isLeaving&&(Mi(P,d),Fs(P,f),g_(R)||__(P,r,b,ce))}),Di(R,[P,ce])},onEnterCancelled(P){j(P,!1),Di(E,[P])},onAppearCancelled(P){j(P,!0),Di(M,[P])},onLeaveCancelled(P){H(P),Di(N,[P])}})}function VP(e){if(e==null)return null;if(Tt(e))return[Yh(e.enter),Yh(e.leave)];{const t=Yh(e);return[t,t]}}function Yh(e){return Yk(e)}function Fs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[kl]||(e[kl]=new Set)).add(t)}function Mi(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[kl];n&&(n.delete(t),n.size||(e[kl]=void 0))}function y_(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let $P=0;function __(e,t,n,r){const s=e._endId=++$P,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:a,timeout:o,propCount:l}=LP(e,t);if(!a)return r();const u=a+"end";let c=0;const d=()=>{e.removeEventListener(u,h),i()},h=f=>{f.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),e.addEventListener(u,h)}function LP(e,t){const n=window.getComputedStyle(e),r=m=>(n[m]||"").split(", "),s=r(`${Ls}Delay`),i=r(`${Ls}Duration`),a=v_(s,i),o=r(`${Oo}Delay`),l=r(`${Oo}Duration`),u=v_(o,l);let c=null,d=0,h=0;t===Ls?a>0&&(c=Ls,d=a,h=i.length):t===Oo?u>0&&(c=Oo,d=u,h=l.length):(d=Math.max(a,u),c=d>0?a>u?Ls:Oo:null,h=c?c===Ls?i.length:l.length:0);const f=c===Ls&&/\b(transform|all)(,|$)/.test(r(`${Ls}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function v_(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>w_(n)+w_(e[r])))}function w_(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function FP(){return document.body.offsetHeight}function UP(e,t,n){const r=e[kl];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Rm=Symbol("_vod"),ac={beforeMount(e,{value:t},{transition:n}){e[Rm]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):No(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),No(e,!0),r.enter(e)):r.leave(e,()=>{No(e,!1)}):No(e,t))},beforeUnmount(e,{value:t}){No(e,t)}};function No(e,t){e.style.display=t?e[Rm]:"none"}const jP=Symbol("");function BP(e,t,n){const r=e.style,s=Ot(n);if(n&&!s){if(t&&!Ot(t))for(const i in t)n[i]==null&&rp(r,i,"");for(const i in n)rp(r,i,n[i])}else{const i=r.display;if(s){if(t!==n){const a=r[jP];a&&(n+=";"+a),r.cssText=n}}else t&&e.removeAttribute("style");Rm in e&&(r.display=i)}}const b_=/\s*!important$/;function rp(e,t,n){if(Se(n))n.forEach(r=>rp(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=YP(e,t);b_.test(n)?e.setProperty(fa(r),n.replace(b_,""),"important"):e[r]=n}}const T_=["Webkit","Moz","ms"],Hh={};function YP(e,t){const n=Hh[t];if(n)return n;let r=Zr(t);if(r!=="filter"&&r in e)return Hh[t]=r;r=cd(r);for(let s=0;s<T_.length;s++){const i=T_[s]+r;if(i in e)return Hh[t]=i}return t}const E_="http://www.w3.org/1999/xlink";function HP(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(E_,t.slice(6,t.length)):e.setAttributeNS(E_,t,n);else{const i=Kk(t);n==null||i&&!Iw(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function WP(e,t,n,r,s,i,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,s,i),e[t]=n??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){e._value=n;const u=o==="OPTION"?e.getAttribute("value"):e.value,c=n??"";u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Iw(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function ms(e,t,n,r){e.addEventListener(t,n,r)}function qP(e,t,n,r){e.removeEventListener(t,n,r)}const I_=Symbol("_vei");function zP(e,t,n,r,s=null){const i=e[I_]||(e[I_]={}),a=i[t];if(r&&a)a.value=r;else{const[o,l]=GP(t);if(r){const u=i[t]=XP(r,s);ms(e,o,u,l)}else a&&(qP(e,o,a,l),i[t]=void 0)}}const A_=/(?:Once|Passive|Capture)$/;function GP(e){let t;if(A_.test(e)){t={};let r;for(;r=e.match(A_);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):fa(e.slice(2)),t]}let Wh=0;const KP=Promise.resolve(),QP=()=>Wh||(KP.then(()=>Wh=0),Wh=Date.now());function XP(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ir(JP(r,n.value),t,5,[r])};return n.value=e,n.attached=QP(),n}function JP(e,t){if(Se(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const k_=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ZP=(e,t,n,r,s,i,a,o,l)=>{const u=s==="svg";t==="class"?UP(e,r,u):t==="style"?BP(e,n,r):ld(t)?om(t)||zP(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eS(e,t,r,u))?WP(e,t,r,i,a,o,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),HP(e,t,r,u))};function eS(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&k_(t)&&He(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return k_(t)&&Ot(n)?!1:t in e}const yi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Se(t)?n=>rc(t,n):t};function tS(e){e.target.composing=!0}function R_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const or=Symbol("_assign"),eo={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[or]=yi(s);const i=r||s.props&&s.props.type==="number";ms(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;n&&(o=o.trim()),i&&(o=bc(o)),e[or](o)}),n&&ms(e,"change",()=>{e.value=e.value.trim()}),t||(ms(e,"compositionstart",tS),ms(e,"compositionend",R_),ms(e,"change",R_))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e[or]=yi(i),e.composing)return;const a=s||e.type==="number"?bc(e.value):e.value,o=t??"";a!==o&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===o)||(e.value=o))}},Rb={deep:!0,created(e,t,n){e[or]=yi(n),ms(e,"change",()=>{const r=e._modelValue,s=to(e),i=e.checked,a=e[or];if(Se(r)){const o=cm(r,s),l=o!==-1;if(i&&!l)a(r.concat(s));else if(!i&&l){const u=[...r];u.splice(o,1),a(u)}}else if(vo(r)){const o=new Set(r);i?o.add(s):o.delete(s),a(o)}else a(Sb(e,i))})},mounted:P_,beforeUpdate(e,t,n){e[or]=yi(n),P_(e,t,n)}};function P_(e,{value:t,oldValue:n},r){e._modelValue=t,Se(t)?e.checked=cm(t,r.props.value)>-1:vo(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=ra(t,Sb(e,!0)))}const nS={created(e,{value:t},n){e.checked=ra(t,n.props.value),e[or]=yi(n),ms(e,"change",()=>{e[or](to(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[or]=yi(r),t!==n&&(e.checked=ra(t,r.props.value))}},Pb={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=vo(t);ms(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?bc(to(a)):to(a));e[or](e.multiple?s?new Set(i):i:i[0])}),e[or]=yi(r)},mounted(e,{value:t}){S_(e,t)},beforeUpdate(e,t,n){e[or]=yi(n)},updated(e,{value:t}){S_(e,t)}};function S_(e,t){const n=e.multiple;if(!(n&&!Se(t)&&!vo(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],a=to(i);if(n)Se(t)?i.selected=cm(t,a)>-1:i.selected=t.has(a);else if(ra(to(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function to(e){return"_value"in e?e._value:e.value}function Sb(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const rS={created(e,t,n){Lu(e,t,n,null,"created")},mounted(e,t,n){Lu(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Lu(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Lu(e,t,n,r,"updated")}};function sS(e,t){switch(e){case"SELECT":return Pb;case"TEXTAREA":return eo;default:switch(t){case"checkbox":return Rb;case"radio":return nS;default:return eo}}}function Lu(e,t,n,r,s){const a=sS(e.tagName,n.props&&n.props.type)[s];a&&a(e,t,n,r)}const iS=["ctrl","shift","alt","meta"],aS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>iS.some(n=>e[`${n}Key`]&&!t.includes(n))},ft=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let a=0;a<t.length;a++){const o=aS[t[a]];if(o&&o(s,t))return}return e(s,...i)})},oS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ye=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=fa(s.key);if(t.some(a=>a===i||oS[a]===i))return e(s)})},lS=sn({patchProp:ZP},OP);let C_;function Cb(){return C_||(C_=fP(lS))}const x_=(...e)=>{Cb().render(...e)},uS=(...e)=>{const t=Cb().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=dS(r);if(!s)return;const i=t._component;!He(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,cS(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function cS(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function dS(e){return Ot(e)?document.querySelector(e):e}var hS=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let xb;const Ad=e=>xb=e,Db=Symbol();function sp(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var al;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(al||(al={}));function fS(){const e=Rw(!0),t=e.run(()=>J({}));let n=[],r=[];const s=fd({install(i){Ad(s),s._a=i,i.provide(Db,s),i.config.globalProperties.$pinia=s,r.forEach(a=>n.push(a)),r=[]},use(i){return!this._a&&!hS?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Mb=()=>{};function D_(e,t,n,r=Mb){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&dd()&&Pw(s),s}function Aa(e,...t){e.slice().forEach(n=>{n(...t)})}const pS=e=>e();function ip(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];sp(s)&&sp(r)&&e.hasOwnProperty(n)&&!vt(r)&&!Es(r)?e[n]=ip(s,r):e[n]=r}return e}const mS=Symbol();function gS(e){return!sp(e)||!e.hasOwnProperty(mS)}const{assign:Hs}=Object;function yS(e){return!!(vt(e)&&e.effect)}function _S(e,t,n,r){const{state:s,actions:i,getters:a}=t,o=n.state.value[e];let l;function u(){o||(n.state.value[e]=s?s():{});const c=TR(n.state.value[e]);return Hs(c,i,Object.keys(a||{}).reduce((d,h)=>(d[h]=fd(G(()=>{Ad(n);const f=n._s.get(e);return a[h].call(f,f)})),d),{}))}return l=Ob(e,u,t,n,r,!0),l}function Ob(e,t,n={},r,s,i){let a;const o=Hs({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const m=r.state.value[e];!i&&!m&&(r.state.value[e]={}),J({});let y;function b(M){let j;u=c=!1,typeof M=="function"?(M(r.state.value[e]),j={type:al.patchFunction,storeId:e,events:f}):(ip(r.state.value[e],M),j={type:al.patchObject,payload:M,storeId:e,events:f});const H=y=Symbol();Ln().then(()=>{y===H&&(u=!0)}),c=!0,Aa(d,j,r.state.value[e])}const I=i?function(){const{state:j}=n,H=j?j():{};this.$patch(re=>{Hs(re,H)})}:Mb;function C(){a.stop(),d=[],h=[],r._s.delete(e)}function E(M,j){return function(){Ad(r);const H=Array.from(arguments),re=[],P=[];function K(w){re.push(w)}function ce(w){P.push(w)}Aa(h,{args:H,name:M,store:N,after:K,onError:ce});let S;try{S=j.apply(this&&this.$id===e?this:N,H)}catch(w){throw Aa(P,w),w}return S instanceof Promise?S.then(w=>(Aa(re,w),w)).catch(w=>(Aa(P,w),Promise.reject(w))):(Aa(re,S),S)}}const R={_p:r,$id:e,$onAction:D_.bind(null,h),$patch:b,$reset:I,$subscribe(M,j={}){const H=D_(d,M,j.detached,()=>re()),re=a.run(()=>en(()=>r.state.value[e],P=>{(j.flush==="sync"?c:u)&&M({storeId:e,type:al.direct,events:f},P)},Hs({},l,j)));return H},$dispose:C},N=Zn(R);r._s.set(e,N);const x=(r._a&&r._a.runWithContext||pS)(()=>r._e.run(()=>(a=Rw()).run(t)));for(const M in x){const j=x[M];if(vt(j)&&!yS(j)||Es(j))i||(m&&gS(j)&&(vt(j)?j.value=m[M]:ip(j,m[M])),r.state.value[e][M]=j);else if(typeof j=="function"){const H=E(M,j);x[M]=H,o.actions[M]=j}}return Hs(N,x),Hs(it(N),x),Object.defineProperty(N,"$state",{get:()=>r.state.value[e],set:M=>{b(j=>{Hs(j,M)})}}),r._p.forEach(M=>{Hs(N,a.run(()=>M({store:N,app:r._a,pinia:r,options:o})))}),m&&i&&n.hydrate&&n.hydrate(N.$state,m),u=!0,c=!0,N}function Nb(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function a(o,l){const u=oP();return o=o||(u?Bn(Db,null):null),o&&Ad(o),o=xb,o._s.has(r)||(i?Ob(r,t,s,o):_S(r,s,o)),o._s.get(r)}return a.$id=r,a}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ca=typeof window<"u";function vS(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const _t=Object.assign;function qh(e,t){const n={};for(const r in t){const s=t[r];n[r]=Er(s)?s.map(e):e(s)}return n}const ol=()=>{},Er=Array.isArray,wS=/\/$/,bS=e=>e.replace(wS,"");function zh(e,t,n="/"){let r,s={},i="",a="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,o>-1?o:t.length),s=e(i)),o>-1&&(r=r||t.slice(0,o),a=t.slice(o,t.length)),r=AS(r??t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:a}}function TS(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function M_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ES(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&no(t.matched[r],n.matched[s])&&Vb(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function no(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Vb(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!IS(e[n],t[n]))return!1;return!0}function IS(e,t){return Er(e)?O_(e,t):Er(t)?O_(t,e):e===t}function O_(e,t){return Er(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function AS(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var Rl;(function(e){e.pop="pop",e.push="push"})(Rl||(Rl={}));var ll;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ll||(ll={}));function kS(e){if(!e)if(Ca){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),bS(e)}const RS=/^[^#]+#/;function PS(e,t){return e.replace(RS,"#")+t}function SS(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const kd=()=>({left:window.pageXOffset,top:window.pageYOffset});function CS(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=SS(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function N_(e,t){return(history.state?history.state.position-t:-1)+e}const ap=new Map;function xS(e,t){ap.set(e,t)}function DS(e){const t=ap.get(e);return ap.delete(e),t}let MS=()=>location.protocol+"//"+location.host;function $b(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let o=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),M_(l,"")}return M_(n,e)+r+s}function OS(e,t,n,r){let s=[],i=[],a=null;const o=({state:h})=>{const f=$b(e,location),m=n.value,y=t.value;let b=0;if(h){if(n.value=f,t.value=h,a&&a===m){a=null;return}b=y?h.position-y.position:0}else r(f);s.forEach(I=>{I(n.value,m,{delta:b,type:Rl.pop,direction:b?b>0?ll.forward:ll.back:ll.unknown})})};function l(){a=n.value}function u(h){s.push(h);const f=()=>{const m=s.indexOf(h);m>-1&&s.splice(m,1)};return i.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(_t({},h.state,{scroll:kd()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function V_(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?kd():null}}function NS(e){const{history:t,location:n}=window,r={value:$b(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:MS()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),s.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function a(l,u){const c=_t({},t.state,V_(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function o(l,u){const c=_t({},s.value,t.state,{forward:l,scroll:kd()});i(c.current,c,!0);const d=_t({},V_(r.value,l,null),{position:c.position+1},u);i(l,d,!1),r.value=l}return{location:r,state:s,push:o,replace:a}}function VS(e){e=kS(e);const t=NS(e),n=OS(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=_t({location:"",base:e,go:r,createHref:PS.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function $S(e){return typeof e=="string"||e&&typeof e=="object"}function Lb(e){return typeof e=="string"||typeof e=="symbol"}const Us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Fb=Symbol("");var $_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($_||($_={}));function ro(e,t){return _t(new Error,{type:e,[Fb]:!0},t)}function cs(e,t){return e instanceof Error&&Fb in e&&(t==null||!!(e.type&t))}const L_="[^/]+?",LS={sensitive:!1,strict:!1,start:!0,end:!0},FS=/[.+*?^${}()[\]/\\]/g;function US(e,t){const n=_t({},LS,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(s+="/"),s+=h.value.replace(FS,"\\$&"),f+=40;else if(h.type===1){const{value:m,repeatable:y,optional:b,regexp:I}=h;i.push({name:m,repeatable:y,optional:b});const C=I||L_;if(C!==L_){f+=10;try{new RegExp(`(${C})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+R.message)}}let E=y?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(E=b&&u.length<2?`(?:/${E})`:"/"+E),b&&(E+="?"),s+=E,f+=20,b&&(f+=-8),y&&(f+=-20),C===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function o(u){const c=u.match(a),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",m=i[h-1];d[m.name]=f&&m.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:m,repeatable:y,optional:b}=f,I=m in u?u[m]:"";if(Er(I)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=Er(I)?I.join("/"):I;if(!C)if(b)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=C}}return c||"/"}return{re:a,score:r,keys:i,parse:o,stringify:l}}function jS(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function BS(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=jS(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(F_(r))return 1;if(F_(s))return-1}return s.length-r.length}function F_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const YS={type:0,value:""},HS=/[a-zA-Z0-9_]/;function WS(e){if(!e)return[[]];if(e==="/")return[[YS]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let o=0,l,u="",c="";function d(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:HS.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),a(),s}function qS(e,t,n){const r=US(WS(e.path),n),s=_t(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function zS(e,t){const n=[],r=new Map;t=B_({strict:!1,end:!0,sensitive:!1},t);function s(c){return r.get(c)}function i(c,d,h){const f=!h,m=GS(c);m.aliasOf=h&&h.record;const y=B_(t,c),b=[m];if("alias"in c){const E=typeof c.alias=="string"?[c.alias]:c.alias;for(const R of E)b.push(_t({},m,{components:h?h.record.components:m.components,path:R,aliasOf:h?h.record:m}))}let I,C;for(const E of b){const{path:R}=E;if(d&&R[0]!=="/"){const N=d.record.path,D=N[N.length-1]==="/"?"":"/";E.path=d.record.path+(R&&D+R)}if(I=qS(E,d,y),h?h.alias.push(I):(C=C||I,C!==I&&C.alias.push(I),f&&c.name&&!j_(I)&&a(c.name)),m.children){const N=m.children;for(let D=0;D<N.length;D++)i(N[D],I,h&&h.children[D])}h=h||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&l(I)}return C?()=>{a(C)}:ol}function a(c){if(Lb(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function o(){return n}function l(c){let d=0;for(;d<n.length&&BS(c,n[d])>=0&&(c.record.path!==n[d].record.path||!Ub(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!j_(c)&&r.set(c.record.name,c)}function u(c,d){let h,f={},m,y;if("name"in c&&c.name){if(h=r.get(c.name),!h)throw ro(1,{location:c});y=h.record.name,f=_t(U_(d.params,h.keys.filter(C=>!C.optional).map(C=>C.name)),c.params&&U_(c.params,h.keys.map(C=>C.name))),m=h.stringify(f)}else if("path"in c)m=c.path,h=n.find(C=>C.re.test(m)),h&&(f=h.parse(m),y=h.record.name);else{if(h=d.name?r.get(d.name):n.find(C=>C.re.test(d.path)),!h)throw ro(1,{location:c,currentLocation:d});y=h.record.name,f=_t({},d.params,c.params),m=h.stringify(f)}const b=[];let I=h;for(;I;)b.unshift(I.record),I=I.parent;return{name:y,path:m,params:f,matched:b,meta:QS(b)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:a,getRoutes:o,getRecordMatcher:s}}function U_(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function GS(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:KS(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function KS(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function j_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function QS(e){return e.reduce((t,n)=>_t(t,n.meta),{})}function B_(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Ub(e,t){return t.children.some(n=>n===e||Ub(e,n))}const jb=/#/g,XS=/&/g,JS=/\//g,ZS=/=/g,eC=/\?/g,Bb=/\+/g,tC=/%5B/g,nC=/%5D/g,Yb=/%5E/g,rC=/%60/g,Hb=/%7B/g,sC=/%7C/g,Wb=/%7D/g,iC=/%20/g;function Pm(e){return encodeURI(""+e).replace(sC,"|").replace(tC,"[").replace(nC,"]")}function aC(e){return Pm(e).replace(Hb,"{").replace(Wb,"}").replace(Yb,"^")}function op(e){return Pm(e).replace(Bb,"%2B").replace(iC,"+").replace(jb,"%23").replace(XS,"%26").replace(rC,"`").replace(Hb,"{").replace(Wb,"}").replace(Yb,"^")}function oC(e){return op(e).replace(ZS,"%3D")}function lC(e){return Pm(e).replace(jb,"%23").replace(eC,"%3F")}function uC(e){return e==null?"":lC(e).replace(JS,"%2F")}function Pc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function cC(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Bb," "),a=i.indexOf("="),o=Pc(a<0?i:i.slice(0,a)),l=a<0?null:Pc(i.slice(a+1));if(o in t){let u=t[o];Er(u)||(u=t[o]=[u]),u.push(l)}else t[o]=l}return t}function Y_(e){let t="";for(let n in e){const r=e[n];if(n=oC(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Er(r)?r.map(i=>i&&op(i)):[r&&op(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function dC(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Er(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const hC=Symbol(""),H_=Symbol(""),Rd=Symbol(""),Sm=Symbol(""),lp=Symbol("");function Vo(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Gs(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,o)=>{const l=d=>{d===!1?o(ro(4,{from:n,to:t})):d instanceof Error?o(d):$S(d)?o(ro(2,{from:t,to:d})):(i&&r.enterCallbacks[s]===i&&typeof d=="function"&&i.push(d),a())},u=e.call(r&&r.instances[s],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(d=>o(d))})}function Gh(e,t,n,r){const s=[];for(const i of e)for(const a in i.components){let o=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(fC(o)){const u=(o.__vccOpts||o)[t];u&&s.push(Gs(u,n,r,i,a))}else{let l=o();s.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const c=vS(u)?u.default:u;i.components[a]=c;const h=(c.__vccOpts||c)[t];return h&&Gs(h,n,r,i,a)()}))}}return s}function fC(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function W_(e){const t=Bn(Rd),n=Bn(Sm),r=G(()=>t.resolve(T(e.to))),s=G(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(no.bind(null,c));if(h>-1)return h;const f=q_(l[u-2]);return u>1&&q_(c)===f&&d[d.length-1].path!==f?d.findIndex(no.bind(null,l[u-2])):h}),i=G(()=>s.value>-1&&yC(n.params,r.value.params)),a=G(()=>s.value>-1&&s.value===n.matched.length-1&&Vb(n.params,r.value.params));function o(l={}){return gC(l)?t[T(e.replace)?"replace":"push"](T(e.to)).catch(ol):Promise.resolve()}return{route:r,href:G(()=>r.value.href),isActive:i,isExactActive:a,navigate:o}}const pC=at({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:W_,setup(e,{slots:t}){const n=Zn(W_(e)),{options:r}=Bn(Rd),s=G(()=>({[z_(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[z_(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Id("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),mC=pC;function gC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function yC(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Er(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function q_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const z_=(e,t,n)=>e??t??n,_C=at({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Bn(lp),s=G(()=>e.route||r.value),i=Bn(H_,0),a=G(()=>{let u=T(i);const{matched:c}=s.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),o=G(()=>s.value.matched[a.value]);Ha(H_,G(()=>a.value+1)),Ha(hC,o),Ha(lp,s);const l=J();return en(()=>[l.value,o.value,e.name],([u,c,d],[h,f,m])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!no(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=s.value,c=e.name,d=o.value,h=d&&d.components[c];if(!h)return G_(n.default,{Component:h,route:u});const f=d.props[c],m=f?f===!0?u.params:typeof f=="function"?f(u):f:null,b=Id(h,_t({},m,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return G_(n.default,{Component:b,route:u})||b}}});function G_(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Pd=_C;function vC(e){const t=zS(e.routes,e),n=e.parseQuery||cC,r=e.stringifyQuery||Y_,s=e.history,i=Vo(),a=Vo(),o=Vo(),l=vR(Us);let u=Us;Ca&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=qh.bind(null,z=>""+z),d=qh.bind(null,uC),h=qh.bind(null,Pc);function f(z,de){let A,V;return Lb(z)?(A=t.getRecordMatcher(z),V=de):V=z,t.addRoute(V,A)}function m(z){const de=t.getRecordMatcher(z);de&&t.removeRoute(de)}function y(){return t.getRoutes().map(z=>z.record)}function b(z){return!!t.getRecordMatcher(z)}function I(z,de){if(de=_t({},de||l.value),typeof z=="string"){const k=zh(n,z,de.path),U=t.resolve({path:k.path},de),B=s.createHref(k.fullPath);return _t(k,U,{params:h(U.params),hash:Pc(k.hash),redirectedFrom:void 0,href:B})}let A;if("path"in z)A=_t({},z,{path:zh(n,z.path,de.path).path});else{const k=_t({},z.params);for(const U in k)k[U]==null&&delete k[U];A=_t({},z,{params:d(k)}),de.params=d(de.params)}const V=t.resolve(A,de),ye=z.hash||"";V.params=c(h(V.params));const p=TS(r,_t({},z,{hash:aC(ye),path:V.path})),g=s.createHref(p);return _t({fullPath:p,hash:ye,query:r===Y_?dC(z.query):z.query||{}},V,{redirectedFrom:void 0,href:g})}function C(z){return typeof z=="string"?zh(n,z,l.value.path):_t({},z)}function E(z,de){if(u!==z)return ro(8,{from:de,to:z})}function R(z){return x(z)}function N(z){return R(_t(C(z),{replace:!0}))}function D(z){const de=z.matched[z.matched.length-1];if(de&&de.redirect){const{redirect:A}=de;let V=typeof A=="function"?A(z):A;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=C(V):{path:V},V.params={}),_t({query:z.query,hash:z.hash,params:"path"in V?{}:z.params},V)}}function x(z,de){const A=u=I(z),V=l.value,ye=z.state,p=z.force,g=z.replace===!0,k=D(A);if(k)return x(_t(C(k),{state:typeof k=="object"?_t({},ye,k.state):ye,force:p,replace:g}),de||A);const U=A;U.redirectedFrom=de;let B;return!p&&ES(r,V,A)&&(B=ro(16,{to:U,from:V}),L(V,V,!0,!1)),(B?Promise.resolve(B):H(U,V)).catch(O=>cs(O)?cs(O,2)?O:te(O):ee(O,U,V)).then(O=>{if(O){if(cs(O,2))return x(_t({replace:g},C(O.to),{state:typeof O.to=="object"?_t({},ye,O.to.state):ye,force:p}),de||U)}else O=P(U,V,!0,g,ye);return re(U,V,O),O})}function M(z,de){const A=E(z,de);return A?Promise.reject(A):Promise.resolve()}function j(z){const de=v.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(z):z()}function H(z,de){let A;const[V,ye,p]=wC(z,de);A=Gh(V.reverse(),"beforeRouteLeave",z,de);for(const k of V)k.leaveGuards.forEach(U=>{A.push(Gs(U,z,de))});const g=M.bind(null,z,de);return A.push(g),X(A).then(()=>{A=[];for(const k of i.list())A.push(Gs(k,z,de));return A.push(g),X(A)}).then(()=>{A=Gh(ye,"beforeRouteUpdate",z,de);for(const k of ye)k.updateGuards.forEach(U=>{A.push(Gs(U,z,de))});return A.push(g),X(A)}).then(()=>{A=[];for(const k of p)if(k.beforeEnter)if(Er(k.beforeEnter))for(const U of k.beforeEnter)A.push(Gs(U,z,de));else A.push(Gs(k.beforeEnter,z,de));return A.push(g),X(A)}).then(()=>(z.matched.forEach(k=>k.enterCallbacks={}),A=Gh(p,"beforeRouteEnter",z,de),A.push(g),X(A))).then(()=>{A=[];for(const k of a.list())A.push(Gs(k,z,de));return A.push(g),X(A)}).catch(k=>cs(k,8)?k:Promise.reject(k))}function re(z,de,A){o.list().forEach(V=>j(()=>V(z,de,A)))}function P(z,de,A,V,ye){const p=E(z,de);if(p)return p;const g=de===Us,k=Ca?history.state:{};A&&(V||g?s.replace(z.fullPath,_t({scroll:g&&k&&k.scroll},ye)):s.push(z.fullPath,ye)),l.value=z,L(z,de,A,g),te()}let K;function ce(){K||(K=s.listen((z,de,A)=>{if(!Q.listening)return;const V=I(z),ye=D(V);if(ye){x(_t(ye,{replace:!0}),V).catch(ol);return}u=V;const p=l.value;Ca&&xS(N_(p.fullPath,A.delta),kd()),H(V,p).catch(g=>cs(g,12)?g:cs(g,2)?(x(g.to,V).then(k=>{cs(k,20)&&!A.delta&&A.type===Rl.pop&&s.go(-1,!1)}).catch(ol),Promise.reject()):(A.delta&&s.go(-A.delta,!1),ee(g,V,p))).then(g=>{g=g||P(V,p,!1),g&&(A.delta&&!cs(g,8)?s.go(-A.delta,!1):A.type===Rl.pop&&cs(g,20)&&s.go(-1,!1)),re(V,p,g)}).catch(ol)}))}let S=Vo(),w=Vo(),W;function ee(z,de,A){te(z);const V=w.list();return V.length?V.forEach(ye=>ye(z,de,A)):console.error(z),Promise.reject(z)}function ge(){return W&&l.value!==Us?Promise.resolve():new Promise((z,de)=>{S.add([z,de])})}function te(z){return W||(W=!z,ce(),S.list().forEach(([de,A])=>z?A(z):de()),S.reset()),z}function L(z,de,A,V){const{scrollBehavior:ye}=e;if(!Ca||!ye)return Promise.resolve();const p=!A&&DS(N_(z.fullPath,0))||(V||!A)&&history.state&&history.state.scroll||null;return Ln().then(()=>ye(z,de,p)).then(g=>g&&CS(g)).catch(g=>ee(g,z,de))}const Y=z=>s.go(z);let _;const v=new Set,Q={currentRoute:l,listening:!0,addRoute:f,removeRoute:m,hasRoute:b,getRoutes:y,resolve:I,options:e,push:R,replace:N,go:Y,back:()=>Y(-1),forward:()=>Y(1),beforeEach:i.add,beforeResolve:a.add,afterEach:o.add,onError:w.add,isReady:ge,install(z){const de=this;z.component("RouterLink",mC),z.component("RouterView",Pd),z.config.globalProperties.$router=de,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>T(l)}),Ca&&!_&&l.value===Us&&(_=!0,R(s.location).catch(ye=>{}));const A={};for(const ye in Us)Object.defineProperty(A,ye,{get:()=>l.value[ye],enumerable:!0});z.provide(Rd,de),z.provide(Sm,Uw(A)),z.provide(lp,l);const V=z.unmount;v.add(z),z.unmount=function(){v.delete(z),v.size<1&&(u=Us,K&&K(),K=null,l.value=Us,_=!1,W=!1),V()}}};function X(z){return z.reduce((de,A)=>de.then(()=>j(A)),Promise.resolve())}return Q}function wC(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const o=t.matched[a];o&&(e.matched.find(u=>no(u,o))?r.push(o):n.push(o));const l=e.matched[a];l&&(t.matched.find(u=>no(u,l))||s.push(l))}return[n,r,s]}function nu(){return Bn(Rd)}function Sd(){return Bn(Sm)}var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},bC=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],o=e[n++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},zb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,o=a?e[s+1]:0,l=s+2<e.length,u=l?e[s+2]:0,c=i>>2,d=(i&3)<<4|o>>4;let h=(o&15)<<2|u>>6,f=u&63;l||(f=64,a||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):bC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const d=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||o==null||u==null||d==null)throw new TC;const h=i<<2|o>>4;if(r.push(h),u!==64){const f=o<<4&240|u>>2;if(r.push(f),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class TC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EC=function(e){const t=qb(e);return zb.encodeByteArray(t,!0)},Sc=function(e){return EC(e).replace(/\./g,"")},Gb=function(e){try{return zb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=()=>IC().__FIREBASE_DEFAULTS__,kC=()=>{if(typeof process>"u"||typeof K_>"u")return;const e=K_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},RC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Gb(e[1]);return t&&JSON.parse(t)},Cm=()=>{try{return AC()||kC()||RC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Kb=e=>{var t,n;return(n=(t=Cm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Qb=e=>{const t=Kb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Xb=()=>{var e;return(e=Cm())===null||e===void 0?void 0:e.config},Jb=e=>{var t;return(t=Cm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Sc(JSON.stringify(n)),Sc(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function eT(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function CC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xC(){const e=Pn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tT(){try{return typeof indexedDB=="object"}catch{return!1}}function nT(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}function DC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="FirebaseError";class ur extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=MC,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?OC(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new ur(s,o,r)}}function OC(e,t){return e.replace(NC,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const NC=/\{\$([^}]+)}/g;function VC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(Q_(i)&&Q_(a)){if(!Pl(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Q_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ko(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(i)}}),t}function Qo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $C(e,t){const n=new LC(e,t);return n.subscribe.bind(n)}class LC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FC(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Kh),s.error===void 0&&(s.error=Kh),s.complete===void 0&&(s.complete=Kh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FC(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1e3,jC=2,BC=4*60*60*1e3,YC=.5;function X_(e,t=UC,n=jC){const r=t*Math.pow(n,e),s=Math.round(YC*r*(Math.random()-.5)*2);return Math.min(BC,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e){return e&&e._delegate?e._delegate:e}class lr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new PC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qC(t))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Ni){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ni){return this.instances.has(t)}getOptions(t=Ni){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&t(a,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WC(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ni){return this.component?this.component.multipleInstances?t:Ni:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WC(e){return e===Ni?void 0:e}function qC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new HC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nt||(nt={}));const GC={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},KC=nt.INFO,QC={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},XC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=QC[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cd{constructor(t){this.name=t,this._logLevel=KC,this._logHandler=XC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...t),this._logHandler(this,nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...t),this._logHandler(this,nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...t),this._logHandler(this,nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...t),this._logHandler(this,nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...t),this._logHandler(this,nt.ERROR,...t)}}const JC=(e,t)=>t.some(n=>e instanceof n);let J_,Z_;function ZC(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ex(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,up=new WeakMap,sT=new WeakMap,Qh=new WeakMap,xm=new WeakMap;function tx(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(oi(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&rT.set(n,e)}).catch(()=>{}),xm.set(t,e),t}function nx(e){if(up.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});up.set(e,t)}let cp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return up.get(e);if(t==="objectStoreNames")return e.objectStoreNames||sT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rx(e){cp=e(cp)}function sx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Xh(this),t,...n);return sT.set(r,t.sort?t.sort():[t]),oi(r)}:ex().includes(e)?function(...t){return e.apply(Xh(this),t),oi(rT.get(this))}:function(...t){return oi(e.apply(Xh(this),t))}}function ix(e){return typeof e=="function"?sx(e):(e instanceof IDBTransaction&&nx(e),JC(e,ZC())?new Proxy(e,cp):e)}function oi(e){if(e instanceof IDBRequest)return tx(e);if(Qh.has(e))return Qh.get(e);const t=ix(e);return t!==e&&(Qh.set(e,t),xm.set(t,e)),t}const Xh=e=>xm.get(e);function ax(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=oi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(oi(a.result),l.oldVersion,l.newVersion,oi(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const ox=["get","getKey","getAll","getAllKeys","count"],lx=["put","add","delete","clear"],Jh=new Map;function ev(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Jh.get(t))return Jh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=lx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ox.includes(n)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&l.done]))[0]};return Jh.set(t,i),i}rx(e=>({...e,get:(t,n,r)=>ev(t,n)||e.get(t,n,r),has:(t,n)=>!!ev(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cx(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dp="@firebase/app",tv="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Cd("@firebase/app"),dx="@firebase/app-compat",hx="@firebase/analytics-compat",fx="@firebase/analytics",px="@firebase/app-check-compat",mx="@firebase/app-check",gx="@firebase/auth",yx="@firebase/auth-compat",_x="@firebase/database",vx="@firebase/database-compat",wx="@firebase/functions",bx="@firebase/functions-compat",Tx="@firebase/installations",Ex="@firebase/installations-compat",Ix="@firebase/messaging",Ax="@firebase/messaging-compat",kx="@firebase/performance",Rx="@firebase/performance-compat",Px="@firebase/remote-config",Sx="@firebase/remote-config-compat",Cx="@firebase/storage",xx="@firebase/storage-compat",Dx="@firebase/firestore",Mx="@firebase/firestore-compat",Ox="firebase",Nx="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",Vx={[dp]:"fire-core",[dx]:"fire-core-compat",[fx]:"fire-analytics",[hx]:"fire-analytics-compat",[mx]:"fire-app-check",[px]:"fire-app-check-compat",[gx]:"fire-auth",[yx]:"fire-auth-compat",[_x]:"fire-rtdb",[vx]:"fire-rtdb-compat",[wx]:"fire-fn",[bx]:"fire-fn-compat",[Tx]:"fire-iid",[Ex]:"fire-iid-compat",[Ix]:"fire-fcm",[Ax]:"fire-fcm-compat",[kx]:"fire-perf",[Rx]:"fire-perf-compat",[Px]:"fire-rc",[Sx]:"fire-rc-compat",[Cx]:"fire-gcs",[xx]:"fire-gcs-compat",[Dx]:"fire-fst",[Mx]:"fire-fst-compat","fire-js":"fire-js",[Ox]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,fp=new Map;function $x(e,t){try{e.container.addComponent(t)}catch(n){ia.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ir(e){const t=e.name;if(fp.has(t))return ia.debug(`There were multiple attempts to register component ${t}.`),!1;fp.set(t,e);for(const n of Cc.values())$x(n,e);return!0}function bi(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},li=new ya("app","Firebase",Lx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=Nx;function iT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:hp,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw li.create("bad-app-name",{appName:String(s)});if(n||(n=Xb()),!n)throw li.create("no-options");const i=Cc.get(s);if(i){if(Pl(n,i.options)&&Pl(r,i.config))return i;throw li.create("duplicate-app",{appName:s})}const a=new zC(s);for(const l of fp.values())a.addComponent(l);const o=new Fx(n,r,a);return Cc.set(s,o),o}function xd(e=hp){const t=Cc.get(e);if(!t&&e===hp&&Xb())return iT();if(!t)throw li.create("no-app",{appName:e});return t}function Yn(e,t,n){var r;let s=(r=Vx[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${t}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ia.warn(o.join(" "));return}Ir(new lr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebase-heartbeat-database",jx=1,Sl="firebase-heartbeat-store";let Zh=null;function aT(){return Zh||(Zh=ax(Ux,jx,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Sl)}}}).catch(e=>{throw li.create("idb-open",{originalErrorMessage:e.message})})),Zh}async function Bx(e){try{return await(await aT()).transaction(Sl).objectStore(Sl).get(oT(e))}catch(t){if(t instanceof ur)ia.warn(t.message);else{const n=li.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ia.warn(n.message)}}}async function nv(e,t){try{const r=(await aT()).transaction(Sl,"readwrite");await r.objectStore(Sl).put(t,oT(e)),await r.done}catch(n){if(n instanceof ur)ia.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ia.warn(r.message)}}}function oT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=1024,Hx=30*24*60*60*1e3;class Wx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rv();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=Hx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rv(),{heartbeatsToSend:r,unsentEntries:s}=qx(this._heartbeatsCache.heartbeats),i=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function rv(){return new Date().toISOString().substring(0,10)}function qx(e,t=Yx){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),sv(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tT()?nT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function sv(e){return Sc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(e){Ir(new lr("platform-logger",t=>new ux(t),"PRIVATE")),Ir(new lr("heartbeat",t=>new Wx(t),"PRIVATE")),Yn(dp,tv,e),Yn(dp,tv,"esm2017"),Yn("fire-js","")}Gx("");function Dm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function lT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kx=lT,uT=new ya("auth","Firebase",lT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Cd("@firebase/auth");function Qx(e,...t){xc.logLevel<=nt.WARN&&xc.warn(`Auth (${_a}): ${e}`,...t)}function oc(e,...t){xc.logLevel<=nt.ERROR&&xc.error(`Auth (${_a}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(e,...t){throw Mm(e,...t)}function zr(e,...t){return Mm(e,...t)}function Xx(e,t,n){const r=Object.assign(Object.assign({},Kx()),{[t]:n});return new ya("auth","Firebase",r).create(t,{appName:e.name})}function Mm(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return uT.create(e,...t)}function Fe(e,t,...n){if(!e)throw Mm(t,...n)}function gs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw oc(t),new Error(t)}function Ps(e,t){e||gs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Jx(){return iv()==="http:"||iv()==="https:"}function iv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jx()||eT()||"connection"in navigator)?navigator.onLine:!0}function eD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ps(n>t,"Short delay should be less than long delay!"),this.isMobile=SC()||CC()}get(){return Zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(e,t){Ps(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new su(3e4,6e4);function va(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ti(e,t,n,r,s={}){return dT(e,s,async()=>{let i={},a={};r&&(t==="GET"?a=r:i={body:JSON.stringify(r)});const o=ru(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),cT.fetch()(hT(e,e.config.apiHost,n,o),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))})}async function dT(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},tD),t);try{const s=new sD(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Fu(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Fu(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw Fu(e,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xx(e,c,u);Ar(e,c)}}catch(s){if(s instanceof ur)throw s;Ar(e,"network-request-failed",{message:String(s)})}}async function Dd(e,t,n,r,s={}){const i=await Ti(e,t,n,r,s);return"mfaPendingCredential"in i&&Ar(e,"multi-factor-auth-required",{_serverResponse:i}),i}function hT(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?Om(e.config,s):`${e.config.apiScheme}://${s}`}function rD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sD{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),nD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=zr(e,t,r);return s.customData._tokenResponse=n,s}function av(e){return e!==void 0&&e.enterprise!==void 0}class iD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return rD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function aD(e,t){return Ti(e,"GET","/v2/recaptchaConfig",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(e,t){return Ti(e,"POST","/v1/accounts:delete",t)}async function lD(e,t){return Ti(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uD(e,t=!1){const n=Nt(e),r=await n.getIdToken(t),s=Nm(r);Fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ul(ef(s.auth_time)),issuedAtTime:ul(ef(s.iat)),expirationTime:ul(ef(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ef(e){return Number(e)*1e3}function Nm(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return oc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Gb(n);return s?JSON.parse(s):(oc("Failed to decode base64 JWT payload"),null)}catch(s){return oc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cD(e){const t=Nm(e);return Fe(t,"internal-error"),Fe(typeof t.exp<"u","internal-error"),Fe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ur&&dD(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function dD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Cl(e,lD(n,{idToken:r}));Fe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?mD(i.providerUserInfo):[],o=pD(e.providerData,a),l=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fT(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function fD(e){const t=Nt(e);await Dc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pD(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function mD(e){return e.map(t=>{var{providerId:n}=t,r=Dm(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(e,t){const n=await dT(e,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,a=hT(e,s,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",cT.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yD(e,t){return Ti(e,"POST","/v2/accounts:revokeToken",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Fe(t.idToken,"internal-error"),Fe(typeof t.idToken<"u","internal-error"),Fe(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cD(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Fe(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await gD(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new xl;return r&&(Fe(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),s&&(Fe(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),i&&(Fe(typeof i=="number","internal-error",{appName:t}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(e,t){Fe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Xi{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=Dm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return uD(this,t)}reload(){return fD(this)}_assign(t){this!==t&&(Fe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Dc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Cl(this,oD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,a,o,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(o=n.tenantId)!==null&&o!==void 0?o:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,C=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:R,isAnonymous:N,providerData:D,stsTokenManager:x}=n;Fe(E&&x,t,"internal-error");const M=xl.fromJSON(this.name,x);Fe(typeof E=="string",t,"internal-error"),js(d,t.name),js(h,t.name),Fe(typeof R=="boolean",t,"internal-error"),Fe(typeof N=="boolean",t,"internal-error"),js(f,t.name),js(m,t.name),js(y,t.name),js(b,t.name),js(I,t.name),js(C,t.name);const j=new Xi({uid:E,auth:t,email:h,emailVerified:R,displayName:d,isAnonymous:N,photoURL:m,phoneNumber:f,tenantId:y,stsTokenManager:M,createdAt:I,lastLoginAt:C});return D&&Array.isArray(D)&&(j.providerData=D.map(H=>Object.assign({},H))),b&&(j._redirectEventId=b),j}static async _fromIdTokenResponse(t,n,r=!1){const s=new xl;s.updateFromServerResponse(n);const i=new Xi({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Dc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;function ys(e){Ps(e instanceof Function,"Expected a class definition");let t=ov.get(e);return t?(Ps(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ov.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}pT.type="NONE";const lv=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(e,t,n){return`firebase:${e}:${t}:${n}`}class Wa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=lc(this.userKey,s.apiKey,i),this.fullPersistenceKey=lc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Xi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Wa(ys(lv),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ys(lv);const a=lc(r,t.config.apiKey,t.name);let o=null;for(const u of n)try{const c=await u._get(a);if(c){const d=Xi._fromJSON(t,c);u!==i&&(o=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Wa(i,t,r):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Wa(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vT(t))return"Blackberry";if(wT(t))return"Webos";if(Vm(t))return"Safari";if((t.includes("chrome/")||gT(t))&&!t.includes("edge/"))return"Chrome";if(_T(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mT(e=Pn()){return/firefox\//i.test(e)}function Vm(e=Pn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gT(e=Pn()){return/crios\//i.test(e)}function yT(e=Pn()){return/iemobile/i.test(e)}function _T(e=Pn()){return/android/i.test(e)}function vT(e=Pn()){return/blackberry/i.test(e)}function wT(e=Pn()){return/webos/i.test(e)}function Md(e=Pn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _D(e=Pn()){var t;return Md(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function vD(){return xC()&&document.documentMode===10}function bT(e=Pn()){return Md(e)||_T(e)||wT(e)||vT(e)||/windows phone/i.test(e)||yT(e)}function wD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(e,t=[]){let n;switch(e){case"Browser":n=uv(Pn());break;case"Worker":n=`${uv(Pn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((a,o)=>{try{const l=t(i);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(e,t={}){return Ti(e,"GET","/v2/passwordPolicy",va(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=6;class ID{constructor(t){var n,r,s,i;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:ED,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,s,i,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new bD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Dc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Nt(t):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Fe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TD(this),n=new ID(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ya("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yD(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ys(t)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,s);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Qx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bo(e){return Nt(e)}class cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=$C(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function ET(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=zr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",kD().appendChild(r)})}function RD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const PD="https://www.google.com/recaptcha/enterprise.js?render=",SD="recaptcha-enterprise",CD="NO_RECAPTCHA";class xD{constructor(t){this.type=SD,this.auth=bo(t)}async verify(t="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{aD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new iD(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function s(i,a,o){const l=window.grecaptcha;av(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:t}).then(u=>{a(u)}).catch(()=>{a(CD)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(o=>{if(!n&&av(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}ET(PD+o).then(()=>{s(o,i,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function dv(e,t,n,r=!1){const s=new xD(e);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hv(e,t,n,r){var s;if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await dv(e,t,n,n==="getOobCode");return r(e,i)}else return r(e,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await dv(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(e,t){const n=bi(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Pl(i,t??{}))return s;Ar(s,"already-initialized")}return n.initialize({options:t})}function MD(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function OD(e,t,n){const r=bo(e);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=IT(t),{host:a,port:o}=ND(t),l=o===null?"":`:${o}`;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||VD()}function IT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ND(e){const t=IT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:fv(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:fv(a)}}}function fv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function VD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(t){return gs("not implemented")}_linkToIdToken(t,n){return gs("not implemented")}_getReauthenticationResolver(t){return gs("not implemented")}}async function $D(e,t){return Ti(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(e,t){return Dd(e,"POST","/v1/accounts:signInWithPassword",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(e,t){return Dd(e,"POST","/v1/accounts:signInWithEmailLink",va(e,t))}async function UD(e,t){return Dd(e,"POST","/v1/accounts:signInWithEmailLink",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends $m{constructor(t,n,r,s=null){super("password",r),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Dl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Dl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hv(t,n,"signInWithPassword",LD);case"emailLink":return FD(t,{email:this._email,oobCode:this._password});default:Ar(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hv(t,r,"signUpPassword",$D);case"emailLink":return UD(t,{idToken:n,email:this._email,oobCode:this._password});default:Ar(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(e,t){return Dd(e,"POST","/v1/accounts:signInWithIdp",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class aa extends $m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=Dm(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new aa(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return qa(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,qa(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,qa(t,n)}buildRequest(){const t={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ru(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YD(e){const t=Ko(Qo(e)).link,n=t?Ko(Qo(t)).deep_link_id:null,r=Ko(Qo(e)).deep_link_id;return(r?Ko(Qo(r)).link:null)||r||n||t||e}class Lm{constructor(t){var n,r,s,i,a,o;const l=Ko(Qo(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=BD((s=l.mode)!==null&&s!==void 0?s:null);Fe(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const n=YD(t);try{return new Lm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(t,n){return Dl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Lm.parseLink(n);return Fe(r,"argument-error"),Dl._fromEmailAndCode(t,r.code,r.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends AT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends iu{constructor(){super("facebook.com")}static credential(t){return aa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return aa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends iu{constructor(){super("github.com")}static credential(t){return aa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends iu{constructor(){super("twitter.com")}static credential(t,n){return aa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Xi._fromIdTokenResponse(t,r,s),a=pv(r);return new so({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=pv(r);return new so({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function pv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends ur{constructor(t,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mc.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new Mc(t,n,r,s)}}function kT(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mc._fromErrorAndOperation(e,i,t,r):i})}async function HD(e,t,n=!1){const r=await Cl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return so._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(e,t,n=!1){const{auth:r}=e,s="reauthenticate";try{const i=await Cl(e,kT(r,s,t,e),n);Fe(i.idToken,r,"internal-error");const a=Nm(i.idToken);Fe(a,r,"internal-error");const{sub:o}=a;return Fe(e.uid===o,r,"user-mismatch"),so._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(e,t,n=!1){const r="signIn",s=await kT(e,r,t),i=await so._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function qD(e,t){return RT(bo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(e){const t=bo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function GD(e,t,n){return qD(Nt(e),To.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zD(e),r})}function KD(e,t,n,r){return Nt(e).onIdTokenChanged(t,n,r)}function QD(e,t,n){return Nt(e).beforeAuthStateChanged(t,n)}const Oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){const e=Pn();return Vm(e)||Md(e)}const JD=1e3,ZD=10;class ST extends PT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XD()&&wD(),this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);vD()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,ZD):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ST.type="LOCAL";const eM=ST;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends PT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CT.type="SESSION";const xT=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Od(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async u=>u(n.origin,i)),l=await tM(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const u=Fm("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(h.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function rM(e){Gr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function sM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iM(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function aM(){return DT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebaseLocalStorageDb",oM=1,Nc="firebaseLocalStorage",OT="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nd(e,t){return e.transaction([Nc],t?"readwrite":"readonly").objectStore(Nc)}function lM(){const e=indexedDB.deleteDatabase(MT);return new au(e).toPromise()}function mp(){const e=indexedDB.open(MT,oM);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Nc,{keyPath:OT})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Nc)?t(r):(r.close(),await lM(),t(await mp()))})})}async function mv(e,t,n){const r=Nd(e,!0).put({[OT]:t,value:n});return new au(r).toPromise()}async function uM(e,t){const n=Nd(e,!1).get(t),r=await new au(n).toPromise();return r===void 0?null:r.value}function gv(e,t){const n=Nd(e,!0).delete(t);return new au(n).toPromise()}const cM=800,dM=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>dM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(aM()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await sM(),!this.activeServiceWorker)return;this.sender=new nM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mp();return await mv(t,Oc,"1"),await gv(t,Oc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>uM(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Nd(s,!1).getAll();return new au(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const hM=NT;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(e,t){return t?ys(t):(Fe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends $m{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function pM(e){return RT(e.auth,new Um(e),e.bypassAuthState)}function mM(e){const{auth:t,user:n}=e;return Fe(n,t,"internal-error"),WD(n,new Um(e),e.bypassAuthState)}async function gM(e){const{auth:t,user:n}=e;return Fe(n,t,"internal-error"),HD(n,new Um(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pM;case"linkViaPopup":case"linkViaRedirect":return gM;case"reauthViaPopup":case"reauthViaRedirect":return mM;default:Ar(this.auth,"internal-error")}}resolve(t){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new su(2e3,1e4);class $a extends VT{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Fe(t,this.auth,"internal-error"),t}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const t=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yM.get())};t()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="pendingRedirect",uc=new Map;class vM extends VT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=uc.get(this.auth._key());if(!t){try{const r=await wM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}uc.set(this.auth._key(),t)}return this.bypassAuthState||uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wM(e,t){const n=EM(t),r=TM(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bM(e,t){uc.set(e._key(),t)}function TM(e){return ys(e._redirectPersistence)}function EM(e){return lc(_M,e.config.apiKey,e.name)}async function IM(e,t,n=!1){const r=bo(e),s=fM(r,t),a=await new vM(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=10*60*1e3;class kM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RM(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!$T(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AM&&this.cachedEventUids.clear(),this.cachedEventUids.has(yv(t))}saveEventToCache(t){this.cachedEventUids.add(yv(t)),this.lastProcessedEventTime=Date.now()}}function yv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function $T({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function RM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $T(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(e,t={}){return Ti(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CM=/^https?/;async function xM(e){if(e.config.emulator)return;const{authorizedDomains:t}=await PM(e);for(const n of t)try{if(DM(n))return}catch{}Ar(e,"unauthorized-domain")}function DM(e){const t=pp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!CM.test(n))return!1;if(SM.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new su(3e4,6e4);function _v(){const e=Gr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function OM(e){return new Promise((t,n)=>{var r,s,i;function a(){_v(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_v(),n(zr(e,"network-request-failed"))},timeout:MM.get()})}if(!((s=(r=Gr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=Gr().gapi)===null||i===void 0)&&i.load)a();else{const o=RD("iframefcb");return Gr()[o]=()=>{gapi.load?a():n(zr(e,"network-request-failed"))},ET(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw cc=null,t})}let cc=null;function NM(e){return cc=cc||OM(e),cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new su(5e3,15e3),$M="__/auth/iframe",LM="emulator/auth/iframe",FM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jM(e){const t=e.config;Fe(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Om(t,LM):`https://${e.config.authDomain}/${$M}`,r={apiKey:t.apiKey,appName:e.name,v:_a},s=UM.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ru(r).slice(1)}`}async function BM(e){const t=await NM(e),n=Gr().gapi;return Fe(n,e,"internal-error"),t.open({where:document.body,url:jM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=zr(e,"network-request-failed"),o=Gr().setTimeout(()=>{i(a)},VM.get());function l(){Gr().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HM=500,WM=600,qM="_blank",zM="http://localhost";class vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GM(e,t,n,r=HM,s=WM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},YM),{width:r.toString(),height:s.toString(),top:i,left:a}),u=Pn().toLowerCase();n&&(o=gT(u)?qM:n),mT(u)&&(t=t||zM,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(_D(u)&&o!=="_self")return KM(t||"",o),new vv(null);const d=window.open(t||"",o,c);Fe(d,e,"popup-blocked");try{d.focus()}catch{}return new vv(d)}function KM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="__/auth/handler",XM="emulator/auth/handler",JM=encodeURIComponent("fac");async function wv(e,t,n,r,s,i){Fe(e.config.authDomain,e,"auth-domain-config-required"),Fe(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_a,eventId:s};if(t instanceof AT){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",VC(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(i||{}))a[c]=d}if(t instanceof iu){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${JM}=${encodeURIComponent(l)}`:"";return`${ZM(e)}?${ru(o).slice(1)}${u}`}function ZM({config:e}){return e.emulator?Om(e,XM):`https://${e.authDomain}/${QM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xT,this._completeRedirectFn=IM,this._overrideRedirectResult=bM}async _openPopup(t,n,r,s){var i;Ps((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await wv(t,n,r,pp(),s);return GM(t,a,Fm())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await wv(t,n,r,pp(),s);return rM(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ps(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await BM(t),r=new kM(t);return n.register("authEvent",s=>(Fe(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tf,{type:tf},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[tf];a!==void 0&&n(!!a),Ar(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bT()||Vm()||Md()}}const tO=eO;var bv="@firebase/auth",Tv="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function sO(e){Ir(new lr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TT(e)},u=new AD(r,s,i,l);return MD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ir(new lr("auth-internal",t=>{const n=bo(t.getProvider("auth").getImmediate());return(r=>new nO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(bv,Tv,rO(e)),Yn(bv,Tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=5*60,aO=Jb("authIdTokenMaxAge")||iO;let Ev=null;const oO=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aO)return;const s=n==null?void 0:n.token;Ev!==s&&(Ev=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cl(e=xd()){const t=bi(e,"auth");if(t.isInitialized())return t.getImmediate();const n=DD(e,{popupRedirectResolver:tO,persistence:[hM,eM,xT]}),r=Jb("authTokenSyncURL");if(r){const i=oO(r);QD(n,i,()=>i(n.currentUser)),KD(n,a=>i(a))}const s=Kb("auth");return s&&OD(n,`http://${s}`),n}sO("Browser");var lO="firebase",uO="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(lO,uO,"app");const cO=(e,t)=>t.some(n=>e instanceof n);let Iv,Av;function dO(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hO(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,gp=new WeakMap,FT=new WeakMap,nf=new WeakMap,jm=new WeakMap;function fO(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(ui(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&LT.set(n,e)}).catch(()=>{}),jm.set(t,e),t}function pO(e){if(gp.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});gp.set(e,t)}let yp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return gp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||FT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mO(e){yp=e(yp)}function gO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(rf(this),t,...n);return FT.set(r,t.sort?t.sort():[t]),ui(r)}:hO().includes(e)?function(...t){return e.apply(rf(this),t),ui(LT.get(this))}:function(...t){return ui(e.apply(rf(this),t))}}function yO(e){return typeof e=="function"?gO(e):(e instanceof IDBTransaction&&pO(e),cO(e,dO())?new Proxy(e,yp):e)}function ui(e){if(e instanceof IDBRequest)return fO(e);if(nf.has(e))return nf.get(e);const t=yO(e);return t!==e&&(nf.set(e,t),jm.set(t,e)),t}const rf=e=>jm.get(e);function _O(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=ui(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ui(a.result),l.oldVersion,l.newVersion,ui(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),o}const vO=["get","getKey","getAll","getAllKeys","count"],wO=["put","add","delete","clear"],sf=new Map;function kv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sf.get(t))return sf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=wO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vO.includes(n)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&l.done]))[0]};return sf.set(t,i),i}mO(e=>({...e,get:(t,n,r)=>kv(t,n)||e.get(t,n,r),has:(t,n)=>!!kv(t,n)||e.has(t,n)}));const UT="@firebase/installations",Bm="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=1e4,BT=`w:${Bm}`,YT="FIS_v2",bO="https://firebaseinstallations.googleapis.com/v1",TO=60*60*1e3,EO="installations",IO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new ya(EO,IO,AO);function HT(e){return e instanceof ur&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT({projectId:e}){return`${bO}/projects/${e}/installations`}function qT(e){return{token:e.token,requestStatus:2,expiresIn:RO(e.expiresIn),creationTime:Date.now()}}async function zT(e,t){const r=(await t.json()).error;return oa.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function GT({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function kO(e,{refreshToken:t}){const n=GT(e);return n.append("Authorization",PO(t)),n}async function KT(e){const t=await e();return t.status>=500&&t.status<600?e():t}function RO(e){return Number(e.replace("s","000"))}function PO(e){return`${YT} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=WT(e),s=GT(e),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:YT,appId:e.appId,sdkVersion:BT},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await KT(()=>fetch(r,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:qT(u.authToken)}}else throw await zT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^[cdef][\w-]{21}$/,_p="";function DO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=MO(e);return xO.test(n)?n:_p}catch{return _p}}function MO(e){return CO(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;function JT(e,t){const n=Vd(e);ZT(n,t),OO(n,t)}function ZT(e,t){const n=XT.get(e);if(n)for(const r of n)r(t)}function OO(e,t){const n=NO();n&&n.postMessage({key:e,fid:t}),VO()}let Bi=null;function NO(){return!Bi&&"BroadcastChannel"in self&&(Bi=new BroadcastChannel("[Firebase] FID Change"),Bi.onmessage=e=>{ZT(e.data.key,e.data.fid)}),Bi}function VO(){XT.size===0&&Bi&&(Bi.close(),Bi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="firebase-installations-database",LO=1,la="firebase-installations-store";let af=null;function Ym(){return af||(af=_O($O,LO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(la)}}})),af}async function Vc(e,t){const n=Vd(e),s=(await Ym()).transaction(la,"readwrite"),i=s.objectStore(la),a=await i.get(n);return await i.put(t,n),await s.done,(!a||a.fid!==t.fid)&&JT(e,t.fid),t}async function eE(e){const t=Vd(e),r=(await Ym()).transaction(la,"readwrite");await r.objectStore(la).delete(t),await r.done}async function $d(e,t){const n=Vd(e),s=(await Ym()).transaction(la,"readwrite"),i=s.objectStore(la),a=await i.get(n),o=t(a);return o===void 0?await i.delete(n):await i.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&JT(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hm(e){let t;const n=await $d(e.appConfig,r=>{const s=FO(r),i=UO(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===_p?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function FO(e){const t=e||{fid:DO(),registrationStatus:0};return tE(t)}function UO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(oa.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=jO(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:BO(e)}:{installationEntry:t}}async function jO(e,t){try{const n=await SO(e,t);return Vc(e.appConfig,n)}catch(n){throw HT(n)&&n.customData.serverCode===409?await eE(e.appConfig):await Vc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function BO(e){let t=await Rv(e.appConfig);for(;t.registrationStatus===1;)await QT(100),t=await Rv(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Hm(e);return r||n}return t}function Rv(e){return $d(e,t=>{if(!t)throw oa.create("installation-not-found");return tE(t)})}function tE(e){return YO(e)?{fid:e.fid,registrationStatus:0}:e}function YO(e){return e.registrationStatus===1&&e.registrationTime+jT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO({appConfig:e,heartbeatServiceProvider:t},n){const r=WO(e,n),s=kO(e,n),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:BT,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await KT(()=>fetch(r,o));if(l.ok){const u=await l.json();return qT(u)}else throw await zT("Generate Auth Token",l)}function WO(e,{fid:t}){return`${WT(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(e,t=!1){let n;const r=await $d(e.appConfig,i=>{if(!nE(i))throw oa.create("not-registered");const a=i.authToken;if(!t&&GO(a))return i;if(a.requestStatus===1)return n=qO(e,t),i;{if(!navigator.onLine)throw oa.create("app-offline");const o=QO(i);return n=zO(e,o),o}});return n?await n:r.authToken}async function qO(e,t){let n=await Pv(e.appConfig);for(;n.authToken.requestStatus===1;)await QT(100),n=await Pv(e.appConfig);const r=n.authToken;return r.requestStatus===0?Wm(e,t):r}function Pv(e){return $d(e,t=>{if(!nE(t))throw oa.create("not-registered");const n=t.authToken;return XO(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function zO(e,t){try{const n=await HO(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Vc(e.appConfig,r),n}catch(n){if(HT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eE(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Vc(e.appConfig,r)}throw n}}function nE(e){return e!==void 0&&e.registrationStatus===2}function GO(e){return e.requestStatus===2&&!KO(e)}function KO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+TO}function QO(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function XO(e){return e.requestStatus===1&&e.requestTime+jT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(e){const t=e,{installationEntry:n,registrationPromise:r}=await Hm(t);return r?r.catch(console.error):Wm(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t=!1){const n=e;return await eN(n),(await Wm(n,t)).token}async function eN(e){const{registrationPromise:t}=await Hm(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e){if(!e||!e.options)throw of("App Configuration");if(!e.name)throw of("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw of(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function of(e){return oa.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="installations",nN="installations-internal",rN=e=>{const t=e.getProvider("app").getImmediate(),n=tN(t),r=bi(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},sN=e=>{const t=e.getProvider("app").getImmediate(),n=bi(t,rE).getImmediate();return{getId:()=>JO(n),getToken:s=>ZO(n,s)}};function iN(){Ir(new lr(rE,rN,"PUBLIC")),Ir(new lr(nN,sN,"PRIVATE"))}iN();Yn(UT,Bm);Yn(UT,Bm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="analytics",aN="firebase_id",oN="origin",lN=60*1e3,uN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Cd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qn=new ya("analytics","Analytics",cN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(e){if(!e.startsWith(qm)){const t=Qn.create("invalid-gtag-resource",{gtagURL:e});return Hn.warn(t.message),""}return e}function sE(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function hN(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function fN(e,t){const n=hN("firebase-js-sdk-policy",{createScriptURL:dN}),r=document.createElement("script"),s=`${qm}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function pN(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function mN(e,t,n,r,s,i){const a=r[s];try{if(a)await t[a];else{const l=(await sE(n)).find(u=>u.measurementId===s);l&&await t[l.appId]}}catch(o){Hn.error(o)}e("config",s,i)}async function gN(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await sE(n);for(const l of a){const u=o.find(d=>d.measurementId===l),c=u&&t[u.appId];if(c)i.push(c);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Hn.error(i)}}function yN(e,t,n,r){async function s(i,...a){try{if(i==="event"){const[o,l]=a;await gN(e,t,n,o,l)}else if(i==="config"){const[o,l]=a;await mN(e,t,n,r,o,l)}else if(i==="consent"){const[o]=a;e("consent","update",o)}else if(i==="get"){const[o,l,u]=a;e("get",o,l,u)}else if(i==="set"){const[o]=a;e("set",o)}else e(i,...a)}catch(o){Hn.error(o)}}return s}function _N(e,t,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=yN(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}function vN(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(qm)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=30,bN=1e3;class TN{constructor(t={},n=bN){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const iE=new TN;function EN(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function IN(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:EN(r)},i=uN.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(o=l.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function AN(e,t=iE,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw Qn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Qn.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new PN;return setTimeout(async()=>{o.abort()},n!==void 0?n:lN),aE({appId:r,apiKey:s,measurementId:i},a,o,t)}async function aE(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=iE){var i;const{appId:a,measurementId:o}=e;try{await kN(r,t)}catch(l){if(o)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await IN(e);return s.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!RN(u)){if(s.deleteThrottleMetadata(a),o)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:o};throw l}const c=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?X_(n,s.intervalMillis,wN):X_(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return s.setThrottleMetadata(a,d),Hn.debug(`Calling attemptFetch again in ${c} millis`),aE(e,d,r,s)}}function kN(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(Qn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function RN(e){if(!(e instanceof ur)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class PN{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function SN(e,t,n,r,s){if(s&&s.global){e("event",n,r);return}else{const i=await t,a=Object.assign(Object.assign({},r),{send_to:i});e("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(){if(tT())try{await nT()}catch(e){return Hn.warn(Qn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Hn.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xN(e,t,n,r,s,i,a){var o;const l=AN(e);l.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Hn.error(f)),t.push(l);const u=CN().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);vN(i)||fN(i,c.measurementId),s("js",new Date);const h=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return h[oN]="firebase",h.update=!0,d!=null&&(h[aN]=d),s("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.app=t}_delete(){return delete dl[this.app.options.appId],Promise.resolve()}}let dl={},Sv=[];const Cv={};let lf="dataLayer",MN="gtag",xv,oE,Dv=!1;function ON(){const e=[];if(eT()&&e.push("This is a browser extension environment."),DC()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Qn.create("invalid-analytics-context",{errorInfo:t});Hn.warn(n.message)}}function NN(e,t,n){ON();const r=e.options.appId;if(!r)throw Qn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qn.create("no-api-key");if(dl[r]!=null)throw Qn.create("already-exists",{id:r});if(!Dv){pN(lf);const{wrappedGtag:i,gtagCore:a}=_N(dl,Sv,Cv,lf,MN);oE=i,xv=a,Dv=!0}return dl[r]=xN(e,Sv,Cv,t,xv,lf,n),new DN(e)}function VN(e=xd()){e=Nt(e);const t=bi(e,$c);return t.isInitialized()?t.getImmediate():$N(e)}function $N(e,t={}){const n=bi(e,$c);if(n.isInitialized()){const s=n.getImmediate();if(Pl(t,n.getOptions()))return s;throw Qn.create("already-initialized")}return n.initialize({options:t})}function LN(e,t,n,r){e=Nt(e),SN(oE,dl[e.app.options.appId],t,n,r).catch(s=>Hn.error(s))}const Mv="@firebase/analytics",Ov="0.10.0";function FN(){Ir(new lr($c,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return NN(r,s,n)},"PUBLIC")),Ir(new lr("analytics-internal",e,"PRIVATE")),Yn(Mv,Ov),Yn(Mv,Ov,"esm2017");function e(t){try{const n=t.getProvider($c).getImmediate();return{logEvent:(r,s,i)=>LN(n,r,s,i)}}catch(n){throw Qn.create("interop-component-reg-failed",{reason:n})}}}FN();var UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e,zm=zm||{},je=UN||self;function Ld(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ou(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function jN(e){return Object.prototype.hasOwnProperty.call(e,uf)&&e[uf]||(e[uf]=++BN)}var uf="closure_uid_"+(1e9*Math.random()>>>0),BN=0;function YN(e,t,n){return e.call.apply(e.bind,arguments)}function HN(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function An(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?An=YN:An=HN,An.apply(null,arguments)}function Uu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function hn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return t.prototype[s].apply(r,a)}}function Ei(){this.s=this.s,this.o=this.o}var WN=0;Ei.prototype.s=!1;Ei.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),WN!=0)&&jN(this)};Ei.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Gm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nv(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ld(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let a=0;a<i;a++)e[s+a]=r[a]}else e.push(r)}}function kn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kn.prototype.h=function(){this.defaultPrevented=!0};var qN=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};je.addEventListener("test",n,t),je.removeEventListener("test",n,t)}catch{}return e}();function Ml(e){return/^[\s\xa0]*$/.test(e)}function Fd(){var e=je.navigator;return e&&(e=e.userAgent)?e:""}function Fr(e){return Fd().indexOf(e)!=-1}function Km(e){return Km[" "](e),e}Km[" "]=function(){};function zN(e,t){var n=FV;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var GN=Fr("Opera"),io=Fr("Trident")||Fr("MSIE"),uE=Fr("Edge"),vp=uE||io,cE=Fr("Gecko")&&!(Fd().toLowerCase().indexOf("webkit")!=-1&&!Fr("Edge"))&&!(Fr("Trident")||Fr("MSIE"))&&!Fr("Edge"),KN=Fd().toLowerCase().indexOf("webkit")!=-1&&!Fr("Edge");function dE(){var e=je.document;return e?e.documentMode:void 0}var wp;e:{var cf="",df=function(){var e=Fd();if(cE)return/rv:([^\);]+)(\)|;)/.exec(e);if(uE)return/Edge\/([\d\.]+)/.exec(e);if(io)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(KN)return/WebKit\/(\S+)/.exec(e);if(GN)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(df&&(cf=df?df[1]:""),io){var hf=dE();if(hf!=null&&hf>parseFloat(cf)){wp=String(hf);break e}}wp=cf}var bp;if(je.document&&io){var Vv=dE();bp=Vv||parseInt(wp,10)||void 0}else bp=void 0;var QN=bp;function Ol(e,t){if(kn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(cE){e:{try{Km(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:XN[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ol.$.h.call(this)}}hn(Ol,kn);var XN={2:"touch",3:"pen",4:"mouse"};Ol.prototype.h=function(){Ol.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lu="closure_listenable_"+(1e6*Math.random()|0),JN=0;function ZN(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++JN,this.fa=this.ia=!1}function Ud(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Qm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function eV(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function hE(e){const t={};for(const n in e)t[n]=e[n];return t}const $v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fE(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<$v.length;i++)n=$v[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function jd(e){this.src=e,this.g={},this.h=0}jd.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var a=Ep(e,t,r,s);return-1<a?(t=e[a],n||(t.ia=!1)):(t=new ZN(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function Tp(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=lE(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Ud(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ep(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var Xm="closure_lm_"+(1e6*Math.random()|0),ff={};function pE(e,t,n,r,s){if(r&&r.once)return gE(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)pE(e,t[i],n,r,s);return null}return n=eg(n),e&&e[lu]?e.O(t,n,ou(r)?!!r.capture:!!r,s):mE(e,t,n,!1,r,s)}function mE(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=ou(s)?!!s.capture:!!s,o=Zm(e);if(o||(e[Xm]=o=new jd(e)),n=o.add(t,n,r,a,i),n.proxy)return n;if(r=tV(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qN||(s=a),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(_E(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function tV(){function e(n){return t.call(e.src,e.listener,n)}const t=nV;return e}function gE(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)gE(e,t[i],n,r,s);return null}return n=eg(n),e&&e[lu]?e.P(t,n,ou(r)?!!r.capture:!!r,s):mE(e,t,n,!0,r,s)}function yE(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)yE(e,t[i],n,r,s);else r=ou(r)?!!r.capture:!!r,n=eg(n),e&&e[lu]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Ep(i,n,r,s),-1<n&&(Ud(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Zm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ep(t,n,r,s)),(n=-1<e?t[e]:null)&&Jm(n))}function Jm(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[lu])Tp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_E(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zm(t))?(Tp(n,e),n.h==0&&(n.src=null,t[Xm]=null)):Ud(e)}}}function _E(e){return e in ff?ff[e]:ff[e]="on"+e}function nV(e,t){if(e.fa)e=!0;else{t=new Ol(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Jm(e),e=n.call(r,t)}return e}function Zm(e){return e=e[Xm],e instanceof jd?e:null}var pf="__closure_events_fn_"+(1e9*Math.random()>>>0);function eg(e){return typeof e=="function"?e:(e[pf]||(e[pf]=function(t){return e.handleEvent(t)}),e[pf])}function dn(){Ei.call(this),this.i=new jd(this),this.S=this,this.J=null}hn(dn,Ei);dn.prototype[lu]=!0;dn.prototype.removeEventListener=function(e,t,n,r){yE(this,e,t,n,r)};function yn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new kn(t,e);else if(t instanceof kn)t.target=t.target||e;else{var s=t;t=new kn(r,e),fE(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=ju(a,r,!0,t)&&s}if(a=t.g=e,s=ju(a,r,!0,t)&&s,s=ju(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)a=t.g=n[i],s=ju(a,r,!1,t)&&s}dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ud(n[r]);delete e.g[t],e.h--}}this.J=null};dn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};dn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ju(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Tp(e.i,a),s=o.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var tg=je.JSON.stringify;class rV{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function sV(){var e=ng;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class iV{constructor(){this.h=this.g=null}add(t,n){const r=vE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var vE=new rV(()=>new aV,e=>e.reset());class aV{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oV(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function lV(e){je.setTimeout(()=>{throw e},0)}let Nl,Vl=!1,ng=new iV,wE=()=>{const e=je.Promise.resolve(void 0);Nl=()=>{e.then(uV)}};var uV=()=>{for(var e;e=sV();){try{e.h.call(e.g)}catch(n){lV(n)}var t=vE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vl=!1};function Bd(e,t){dn.call(this),this.h=e||1,this.g=t||je,this.j=An(this.qb,this),this.l=Date.now()}hn(Bd,dn);_e=Bd.prototype;_e.ga=!1;_e.T=null;_e.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yn(this,"tick"),this.ga&&(rg(this),this.start()))}};_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function rg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}_e.N=function(){Bd.$.N.call(this),rg(this),delete this.g};function sg(e,t,n){if(typeof e=="function")n&&(e=An(e,n));else if(e&&typeof e.handleEvent=="function")e=An(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:je.setTimeout(e,t||0)}function bE(e){e.g=sg(()=>{e.g=null,e.i&&(e.i=!1,bE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class cV extends Ei{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:bE(this)}N(){super.N(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $l(e){Ei.call(this),this.h=e,this.g={}}hn($l,Ei);var Lv=[];function TE(e,t,n,r){Array.isArray(n)||(n&&(Lv[0]=n.toString()),n=Lv);for(var s=0;s<n.length;s++){var i=pE(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function EE(e){Qm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Jm(t)},e),e.g={}}$l.prototype.N=function(){$l.$.N.call(this),EE(this)};$l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yd(){this.g=!0}Yd.prototype.Ea=function(){this.g=!1};function dV(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");a=2<=d.length&&d[1]=="type"?a+(c+"="+u+"&"):a+(c+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+a})}function hV(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+a})}function La(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+pV(e,n)+(r?" "+r:"")})}function fV(e,t){e.info(function(){return"TIMEOUT: "+t})}Yd.prototype.info=function(){};function pV(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return tg(n)}catch{return t}}var wa={},Fv=null;function Hd(){return Fv=Fv||new dn}wa.Ta="serverreachability";function IE(e){kn.call(this,wa.Ta,e)}hn(IE,kn);function Ll(e){const t=Hd();yn(t,new IE(t))}wa.STAT_EVENT="statevent";function AE(e,t){kn.call(this,wa.STAT_EVENT,e),this.stat=t}hn(AE,kn);function Nn(e){const t=Hd();yn(t,new AE(t,e))}wa.Ua="timingevent";function kE(e,t){kn.call(this,wa.Ua,e),this.size=t}hn(kE,kn);function uu(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){e()},t)}var Wd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ig(){}ig.prototype.h=null;function Uv(e){return e.h||(e.h=e.i())}function PE(){}var cu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ag(){kn.call(this,"d")}hn(ag,kn);function og(){kn.call(this,"c")}hn(og,kn);var Ip;function qd(){}hn(qd,ig);qd.prototype.g=function(){return new XMLHttpRequest};qd.prototype.i=function(){return{}};Ip=new qd;function du(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new $l(this),this.P=mV,e=vp?125:void 0,this.V=new Bd(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new SE}function SE(){this.i=null,this.g="",this.h=!1}var mV=45e3,CE={},Ap={};_e=du.prototype;_e.setTimeout=function(e){this.P=e};function kp(e,t,n){e.L=1,e.A=Gd(Ss(t)),e.u=n,e.S=!0,xE(e,null)}function xE(e,t){e.G=Date.now(),hu(e),e.B=Ss(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),FE(n.i,"t",r),e.o=0,n=e.l.J,e.h=new SE,e.g=a1(e.l,n?t:null,!e.u),0<e.O&&(e.M=new cV(An(e.Pa,e,e.g),e.O)),TE(e.U,e.g,"readystatechange",e.nb),t=e.I?hE(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ll(),dV(e.j,e.v,e.B,e.m,e.W,e.u)}_e.nb=function(e){e=e.target;const t=this.M;t&&Yr(e)==3?t.l():this.Pa(e)};_e.Pa=function(e){try{if(e==this.g)e:{const c=Yr(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||vp||this.g&&(this.h.h||this.g.ja()||Hv(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?Ll(3):Ll(2)),zd(this);var n=this.g.da();this.ca=n;t:if(DE(this)){var r=Hv(this.g);e="";var s=r.length,i=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),hl(this);var a="";break t}this.h.i=new je.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,hV(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ml(o)){var u=o;break t}}u=null}if(n=u)La(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rp(this,n);else{this.i=!1,this.s=3,Nn(12),Yi(this),hl(this);break e}}this.S?(ME(this,c,a),vp&&this.i&&c==3&&(TE(this.U,this.V,"tick",this.mb),this.V.start())):(La(this.j,this.m,a,null),Rp(this,a)),c==4&&Yi(this),this.i&&!this.J&&(c==4?n1(this.l,this):(this.i=!1,hu(this)))}else VV(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Nn(12)):(this.s=0,Nn(13)),Yi(this),hl(this)}}}catch{}finally{}};function DE(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function ME(e,t,n){let r=!0,s;for(;!e.J&&e.o<n.length;)if(s=gV(e,n),s==Ap){t==4&&(e.s=4,Nn(14),r=!1),La(e.j,e.m,null,"[Incomplete Response]");break}else if(s==CE){e.s=4,Nn(15),La(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else La(e.j,e.m,s,null),Rp(e,s);DE(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Nn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fg(t),t.M=!0,Nn(11))):(La(e.j,e.m,n,"[Invalid Chunked Response]"),Yi(e),hl(e))}_e.mb=function(){if(this.g){var e=Yr(this.g),t=this.g.ja();this.o<t.length&&(zd(this),ME(this,e,t),this.i&&e!=4&&hu(this))}};function gV(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?Ap:(n=Number(t.substring(n,r)),isNaN(n)?CE:(r+=1,r+n>t.length?Ap:(t=t.slice(r,r+n),e.o=r+n,t)))}_e.cancel=function(){this.J=!0,Yi(this)};function hu(e){e.Y=Date.now()+e.P,OE(e,e.P)}function OE(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=uu(An(e.lb,e),t)}function zd(e){e.C&&(je.clearTimeout(e.C),e.C=null)}_e.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(fV(this.j,this.B),this.L!=2&&(Ll(),Nn(17)),Yi(this),this.s=2,hl(this)):OE(this,this.Y-e)};function hl(e){e.l.H==0||e.J||n1(e.l,e)}function Yi(e){zd(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,rg(e.V),EE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Rp(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Pp(n.i,e))){if(!e.K&&Pp(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Uc(n),Jd(n);else break e;hg(n),Nn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=uu(An(n.ib,n),6e3));if(1>=BE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Hi(n,11)}else if((e.K||n.g==e)&&Uc(n),!Ml(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let u=s[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(lg(i,i.h),i.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Pt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=e;if(r.wa=i1(r,r.J?r.pa:null,r.Y),a.K){YE(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(zd(o),hu(o)),r.g=a}else e1(r);0<n.j.length&&Zd(n)}else u[0]!="stop"&&u[0]!="close"||Hi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Hi(n,7):dg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ll(4)}catch{}}function yV(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Ld(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function _V(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Ld(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function NE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Ld(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=_V(e),r=yV(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var VE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vV(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ji(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ji){this.h=e.h,Lc(this,e.j),this.s=e.s,this.g=e.g,Fc(this,e.m),this.l=e.l;var t=e.i,n=new Fl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),jv(this,n),this.o=e.o}else e&&(t=String(e).match(VE))?(this.h=!1,Lc(this,t[1]||"",!0),this.s=Xo(t[2]||""),this.g=Xo(t[3]||"",!0),Fc(this,t[4]),this.l=Xo(t[5]||"",!0),jv(this,t[6]||"",!0),this.o=Xo(t[7]||"")):(this.h=!1,this.i=new Fl(null,this.h))}Ji.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jo(t,Bv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Jo(t,Bv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Jo(n,n.charAt(0)=="/"?TV:bV,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jo(n,IV)),e.join("")};function Ss(e){return new Ji(e)}function Lc(e,t,n){e.j=n?Xo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jv(e,t,n){t instanceof Fl?(e.i=t,AV(e.i,e.h)):(n||(t=Jo(t,EV)),e.i=new Fl(t,e.h))}function Pt(e,t,n){e.i.set(t,n)}function Gd(e){return Pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,wV),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wV(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Bv=/[#\/\?@]/g,bV=/[#\?:]/g,TV=/[#\?]/g,EV=/[#\?@]/g,IV=/#/g;function Fl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ii(e){e.g||(e.g=new Map,e.h=0,e.i&&vV(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}_e=Fl.prototype;_e.add=function(e,t){Ii(this),this.i=null,e=Eo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $E(e,t){Ii(e),t=Eo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function LE(e,t){return Ii(e),t=Eo(e,t),e.g.has(t)}_e.forEach=function(e,t){Ii(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};_e.ta=function(){Ii(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};_e.Z=function(e){Ii(this);let t=[];if(typeof e=="string")LE(this,e)&&(t=t.concat(this.g.get(Eo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};_e.set=function(e,t){return Ii(this),this.i=null,e=Eo(this,e),LE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};_e.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function FE(e,t,n){$E(e,t),0<n.length&&(e.i=null,e.g.set(Eo(e,t),Gm(n)),e.h+=n.length)}_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;a[r]!==""&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")};function Eo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function AV(e,t){t&&!e.j&&(Ii(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&($E(this,r),FE(this,s,n))},e)),e.j=t}var kV=class{constructor(e,t){this.g=e,this.map=t}};function UE(e){this.l=e||RV,je.PerformanceNavigationTiming?(e=je.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(je.g&&je.g.Ka&&je.g.Ka()&&je.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var RV=10;function jE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function BE(e){return e.h?1:e.g?e.g.size:0}function Pp(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function lg(e,t){e.g?e.g.add(t):e.h=t}function YE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}UE.prototype.cancel=function(){if(this.i=HE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function HE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Gm(e.i)}var PV=class{stringify(e){return je.JSON.stringify(e,void 0)}parse(e){return je.JSON.parse(e,void 0)}};function SV(){this.g=new PV}function CV(e,t,n){const r=n||"";try{NE(e,function(s,i){let a=s;ou(s)&&(a=tg(s)),t.push(r+i+"="+encodeURIComponent(a))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function xV(e,t){const n=new Yd;if(je.Image){const r=new Image;r.onload=Uu(Bu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Uu(Bu,n,r,"TestLoadImage: error",!1,t),r.onabort=Uu(Bu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Uu(Bu,n,r,"TestLoadImage: timeout",!1,t),je.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Bu(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function Kd(e){this.l=e.ec||null,this.j=e.ob||!1}hn(Kd,ig);Kd.prototype.g=function(){return new Qd(this.l,this.j)};Kd.prototype.i=function(e){return function(){return e}}({});function Qd(e,t){dn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(Qd,dn);var ug=0;_e=Qd.prototype;_e.open=function(e,t){if(this.readyState!=ug)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ul(this)};_e.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||je).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fu(this)),this.readyState=ug};_e.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function WE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}_e.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fu(this):Ul(this),this.readyState==3&&WE(this)}};_e.Za=function(e){this.g&&(this.response=this.responseText=e,fu(this))};_e.Ya=function(e){this.g&&(this.response=e,fu(this))};_e.ka=function(){this.g&&fu(this)};function fu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ul(e)}_e.setRequestHeader=function(e,t){this.v.append(e,t)};_e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};_e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ul(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var DV=je.JSON.parse;function Ut(e){dn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qE,this.L=this.M=!1}hn(Ut,dn);var qE="",MV=/^https?$/i,OV=["POST","PUT"];_e=Ut.prototype;_e.Oa=function(e){this.M=e};_e.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ip.g(),this.C=this.u?Uv(this.u):Uv(Ip),this.g.onreadystatechange=An(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){Yv(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=je.FormData&&e instanceof je.FormData,!(0<=lE(OV,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KE(this),0<this.B&&((this.L=NV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=An(this.ua,this)):this.A=sg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Yv(this,i)}};function NV(e){return io&&typeof e.timeout=="number"&&e.ontimeout!==void 0}_e.ua=function(){typeof zm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yn(this,"timeout"),this.abort(8))};function Yv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zE(e),Xd(e)}function zE(e){e.F||(e.F=!0,yn(e,"complete"),yn(e,"error"))}_e.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yn(this,"complete"),yn(this,"abort"),Xd(this))};_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xd(this,!0)),Ut.$.N.call(this)};_e.La=function(){this.s||(this.G||this.v||this.l?GE(this):this.kb())};_e.kb=function(){GE(this)};function GE(e){if(e.h&&typeof zm<"u"&&(!e.C[1]||Yr(e)!=4||e.da()!=2)){if(e.v&&Yr(e)==4)sg(e.La,0,e);else if(yn(e,"readystatechange"),Yr(e)==4){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var s=String(e.I).match(VE)[1]||null;!s&&je.self&&je.self.location&&(s=je.self.location.protocol.slice(0,-1)),r=!MV.test(s?s.toLowerCase():"")}n=r}if(n)yn(e,"complete"),yn(e,"success");else{e.m=6;try{var i=2<Yr(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",zE(e)}}finally{Xd(e)}}}}function Xd(e,t){if(e.g){KE(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||yn(e,"ready");try{n.onreadystatechange=r}catch{}}}function KE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(je.clearTimeout(e.A),e.A=null)}_e.isActive=function(){return!!this.g};function Yr(e){return e.g?e.g.readyState:0}_e.da=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}};_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};_e.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),DV(t)}};function Hv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case qE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function VV(e){const t={};e=(e.g&&2<=Yr(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Ml(e[r]))continue;var n=oV(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}eV(t,function(r){return r.join(", ")})}_e.Ia=function(){return this.m};_e.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function QE(e){let t="";return Qm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function cg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Pt(e,t,n))}function $o(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function XE(e){this.Ga=0,this.j=[],this.l=new Yd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$o("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$o("baseRetryDelayMs",5e3,e),this.hb=$o("retryDelaySeedMs",1e4,e),this.eb=$o("forwardChannelMaxRetries",2,e),this.xa=$o("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new UE(e&&e.concurrentRequestLimit),this.Ja=new SV,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}_e=XE.prototype;_e.ra=8;_e.H=1;function dg(e){if(JE(e),e.H==3){var t=e.W++,n=Ss(e.I);if(Pt(n,"SID",e.K),Pt(n,"RID",t),Pt(n,"TYPE","terminate"),pu(e,n),t=new du(e,e.l,t),t.L=2,t.A=Gd(Ss(n)),n=!1,je.navigator&&je.navigator.sendBeacon)try{n=je.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&je.Image&&(new Image().src=t.A,n=!0),n||(t.g=a1(t.l,null),t.g.ha(t.A)),t.G=Date.now(),hu(t)}s1(e)}function Jd(e){e.g&&(fg(e),e.g.cancel(),e.g=null)}function JE(e){Jd(e),e.u&&(je.clearTimeout(e.u),e.u=null),Uc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&je.clearTimeout(e.m),e.m=null)}function Zd(e){if(!jE(e.i)&&!e.m){e.m=!0;var t=e.Na;Nl||wE(),Vl||(Nl(),Vl=!0),ng.add(t,e),e.C=0}}function $V(e,t){return BE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=uu(An(e.Na,e,t),r1(e,e.C)),e.C++,!0)}_e.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new du(this,this.l,e);let i=this.s;if(this.U&&(i?(i=hE(i),fE(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ZE(this,s,t),n=Ss(this.I),Pt(n,"RID",e),Pt(n,"CVER",22),this.F&&Pt(n,"X-HTTP-Session-Id",this.F),pu(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(QE(i)))+"&"+t:this.o&&cg(n,this.o,i)),lg(this.i,s),this.bb&&Pt(n,"TYPE","init"),this.P?(Pt(n,"$req",t),Pt(n,"SID","null"),s.aa=!0,kp(s,n,null)):kp(s,n,t),this.H=2}}else this.H==3&&(e?Wv(this,e):this.j.length==0||jE(this.i)||Wv(this))};function Wv(e,t){var n;t?n=t.m:n=e.W++;const r=Ss(e.I);Pt(r,"SID",e.K),Pt(r,"RID",n),Pt(r,"AID",e.V),pu(e,r),e.o&&e.s&&cg(r,e.o,e.s),n=new du(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ZE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),lg(e.i,n),kp(n,r,t)}function pu(e,t){e.na&&Qm(e.na,function(n,r){Pt(t,r,n)}),e.h&&NE({},function(n,r){Pt(t,r,n)})}function ZE(e,t,n){n=Math.min(e.j.length,n);var r=e.h?An(e.h.Va,e.h,e):null;e:{var s=e.j;let i=-1;for(;;){const a=["count="+n];i==-1?0<n?(i=s[0].g,a.push("ofs="+i)):i=0:a.push("ofs="+i);let o=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),o=!1;else try{CV(c,a,"req"+u+"_")}catch{r&&r(c)}}if(o){r=a.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function e1(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Nl||wE(),Vl||(Nl(),Vl=!0),ng.add(t,e),e.A=0}}function hg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=uu(An(e.Ma,e),r1(e,e.A)),e.A++,!0)}_e.Ma=function(){if(this.u=null,t1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=uu(An(this.jb,this),e)}};_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nn(10),Jd(this),t1(this))};function fg(e){e.B!=null&&(je.clearTimeout(e.B),e.B=null)}function t1(e){e.g=new du(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ss(e.wa);Pt(t,"RID","rpc"),Pt(t,"SID",e.K),Pt(t,"AID",e.V),Pt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Pt(t,"TO",e.qa),Pt(t,"TYPE","xmlhttp"),pu(e,t),e.o&&e.s&&cg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Gd(Ss(t)),n.u=null,n.S=!0,xE(n,e)}_e.ib=function(){this.v!=null&&(this.v=null,Jd(this),hg(this),Nn(19))};function Uc(e){e.v!=null&&(je.clearTimeout(e.v),e.v=null)}function n1(e,t){var n=null;if(e.g==t){Uc(e),fg(e),e.g=null;var r=2}else if(Pp(e.i,t))n=t.F,YE(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;r=Hd(),yn(r,new kE(r,n)),Zd(e)}else e1(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(r==1&&$V(e,t)||r==2&&hg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Hi(e,5);break;case 4:Hi(e,10);break;case 3:Hi(e,6);break;default:Hi(e,2)}}}function r1(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Hi(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=An(e.pb,e);n||(n=new Ji("//www.google.com/images/cleardot.gif"),je.location&&je.location.protocol=="http"||Lc(n,"https"),Gd(n)),xV(n.toString(),r)}else Nn(2);e.H=0,e.h&&e.h.za(t),s1(e),JE(e)}_e.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Nn(2)):(this.l.info("Failed to ping google.com"),Nn(1))};function s1(e){if(e.H=0,e.ma=[],e.h){const t=HE(e.i);(t.length!=0||e.j.length!=0)&&(Nv(e.ma,t),Nv(e.ma,e.j),e.i.i.length=0,Gm(e.j),e.j.length=0),e.h.ya()}}function i1(e,t,n){var r=n instanceof Ji?Ss(n):new Ji(n);if(r.g!="")t&&(r.g=t+"."+r.g),Fc(r,r.m);else{var s=je.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Ji(null);r&&Lc(i,r),t&&(i.g=t),s&&Fc(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&Pt(r,n,t),Pt(r,"VER",e.ra),pu(e,r),r}function a1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Ut(new Kd({ob:n})):new Ut(e.va),t.Oa(e.J),t}_e.isActive=function(){return!!this.h&&this.h.isActive(this)};function o1(){}_e=o1.prototype;_e.Ba=function(){};_e.Aa=function(){};_e.za=function(){};_e.ya=function(){};_e.isActive=function(){return!0};_e.Va=function(){};function jc(){if(io&&!(10<=Number(QN)))throw Error("Environmental error: no available transport.")}jc.prototype.g=function(e,t){return new Xn(e,t)};function Xn(e,t){dn.call(this),this.g=new XE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ml(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ml(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Io(this)}hn(Xn,dn);Xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Nn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=i1(e,null,e.Y),Zd(e)};Xn.prototype.close=function(){dg(this.g)};Xn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=tg(e),e=n);t.j.push(new kV(t.fb++,e)),t.H==3&&Zd(t)};Xn.prototype.N=function(){this.g.h=null,delete this.j,dg(this.g),delete this.g,Xn.$.N.call(this)};function l1(e){ag.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}hn(l1,ag);function u1(){og.call(this),this.status=1}hn(u1,og);function Io(e){this.g=e}hn(Io,o1);Io.prototype.Ba=function(){yn(this.g,"a")};Io.prototype.Aa=function(e){yn(this.g,new l1(e))};Io.prototype.za=function(e){yn(this.g,new u1)};Io.prototype.ya=function(){yn(this.g,"b")};function LV(){this.blockSize=-1}function kr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hn(kr,LV);kr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mf(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(a<<7&4294967295|a>>>25),a=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(a<<12&4294967295|a>>>20),a=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(a<<7&4294967295|a>>>25),a=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(a<<12&4294967295|a>>>20),a=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(a<<7&4294967295|a>>>25),a=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(a<<12&4294967295|a>>>20),a=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(a<<7&4294967295|a>>>25),a=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(a<<12&4294967295|a>>>20),a=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(a<<4&4294967295|a>>>28),a=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(a<<11&4294967295|a>>>21),a=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(a<<4&4294967295|a>>>28),a=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(a<<11&4294967295|a>>>21),a=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(a<<4&4294967295|a>>>28),a=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(a<<11&4294967295|a>>>21),a=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(a<<4&4294967295|a>>>28),a=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(a<<11&4294967295|a>>>21),a=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(a<<10&4294967295|a>>>22),a=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(a<<10&4294967295|a>>>22),a=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(a<<10&4294967295|a>>>22),a=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(a<<10&4294967295|a>>>22),a=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}kr.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)mf(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){mf(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){mf(this,r),s=0;break}}this.h=s,this.i+=t};kr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function wt(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var FV={};function pg(e){return-128<=e&&128>e?zN(e,function(t){return new wt([t|0],0>t?-1:0)}):new wt([e|0],0>e?-1:0)}function Hr(e){if(isNaN(e)||!isFinite(e))return za;if(0>e)return mn(Hr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Sp;return new wt(t,0)}function c1(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return mn(c1(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hr(Math.pow(t,8)),r=za,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+i),t);8>i?(i=Hr(Math.pow(t,i)),r=r.R(i).add(Hr(a))):(r=r.R(n),r=r.add(Hr(a)))}return r}var Sp=4294967296,za=pg(0),Cp=pg(1),qv=pg(16777216);_e=wt.prototype;_e.ea=function(){if(rr(this))return-mn(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Sp+r)*t,t*=Sp}return e};_e.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(_s(this))return"0";if(rr(this))return"-"+mn(this).toString(e);for(var t=Hr(Math.pow(e,6)),n=this,r="";;){var s=Yc(n,t).g;n=Bc(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,_s(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};_e.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function _s(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function rr(e){return e.h==-1}_e.X=function(e){return e=Bc(this,e),rr(e)?-1:_s(e)?0:1};function mn(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new wt(n,~e.h).add(Cp)}_e.abs=function(){return rr(this)?mn(this):this};_e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),a=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,n[s]=a<<16|i}return new wt(n,n[n.length-1]&-2147483648?-1:0)};function Bc(e,t){return e.add(mn(t))}_e.R=function(e){if(_s(this)||_s(e))return za;if(rr(this))return rr(e)?mn(this).R(mn(e)):mn(mn(this).R(e));if(rr(e))return mn(this.R(mn(e)));if(0>this.X(qv)&&0>e.X(qv))return Hr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,a=this.D(r)&65535,o=e.D(s)>>>16,l=e.D(s)&65535;n[2*r+2*s]+=a*l,Yu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Yu(n,2*r+2*s+1),n[2*r+2*s+1]+=a*o,Yu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*o,Yu(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new wt(n,0)};function Yu(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Lo(e,t){this.g=e,this.h=t}function Yc(e,t){if(_s(t))throw Error("division by zero");if(_s(e))return new Lo(za,za);if(rr(e))return t=Yc(mn(e),t),new Lo(mn(t.g),mn(t.h));if(rr(t))return t=Yc(e,mn(t)),new Lo(mn(t.g),t.h);if(30<e.g.length){if(rr(e)||rr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Cp,r=t;0>=r.X(e);)n=zv(n),r=zv(r);var s=ka(n,1),i=ka(r,1);for(r=ka(r,2),n=ka(n,2);!_s(r);){var a=i.add(r);0>=a.X(e)&&(s=s.add(n),i=a),r=ka(r,1),n=ka(n,1)}return t=Bc(e,s.R(t)),new Lo(s,t)}for(s=za;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Hr(n),a=i.R(t);rr(a)||0<a.X(e);)n-=r,i=Hr(n),a=i.R(t);_s(i)&&(i=Cp),s=s.add(i),e=Bc(e,a)}return new Lo(s,e)}_e.gb=function(e){return Yc(this,e).h};_e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new wt(n,this.h&e.h)};_e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new wt(n,this.h|e.h)};_e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new wt(n,this.h^e.h)};function zv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new wt(n,e.h)}function ka(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new wt(s,e.h)}jc.prototype.createWebChannel=jc.prototype.g;Xn.prototype.send=Xn.prototype.u;Xn.prototype.open=Xn.prototype.m;Xn.prototype.close=Xn.prototype.close;Wd.NO_ERROR=0;Wd.TIMEOUT=8;Wd.HTTP_ERROR=6;RE.COMPLETE="complete";PE.EventType=cu;cu.OPEN="a";cu.CLOSE="b";cu.ERROR="c";cu.MESSAGE="d";dn.prototype.listen=dn.prototype.O;Ut.prototype.listenOnce=Ut.prototype.P;Ut.prototype.getLastError=Ut.prototype.Sa;Ut.prototype.getLastErrorCode=Ut.prototype.Ia;Ut.prototype.getStatus=Ut.prototype.da;Ut.prototype.getResponseJson=Ut.prototype.Wa;Ut.prototype.getResponseText=Ut.prototype.ja;Ut.prototype.send=Ut.prototype.ha;Ut.prototype.setWithCredentials=Ut.prototype.Oa;kr.prototype.digest=kr.prototype.l;kr.prototype.reset=kr.prototype.reset;kr.prototype.update=kr.prototype.j;wt.prototype.add=wt.prototype.add;wt.prototype.multiply=wt.prototype.R;wt.prototype.modulo=wt.prototype.gb;wt.prototype.compare=wt.prototype.X;wt.prototype.toNumber=wt.prototype.ea;wt.prototype.toString=wt.prototype.toString;wt.prototype.getBits=wt.prototype.D;wt.fromNumber=Hr;wt.fromString=c1;var UV=function(){return new jc},jV=function(){return Hd()},gf=Wd,BV=RE,YV=wa,Gv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hu=PE,HV=Ut,WV=kr,Ga=wt;const Kv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Cd("@firebase/firestore");function Fo(){return ua.logLevel}function Ie(e,...t){if(ua.logLevel<=nt.DEBUG){const n=t.map(mg);ua.debug(`Firestore (${Ao}): ${e}`,...n)}}function Cs(e,...t){if(ua.logLevel<=nt.ERROR){const n=t.map(mg);ua.error(`Firestore (${Ao}): ${e}`,...n)}}function ao(e,...t){if(ua.logLevel<=nt.WARN){const n=t.map(mg);ua.warn(`Firestore (${Ao}): ${e}`,...n)}}function mg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e="Unexpected state"){const t=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+e;throw Cs(t),new Error(t)}function At(e,t){e||Ue()}function qe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class zV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GV{constructor(t){this.t=t,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Is,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Is)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new d1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return At(t===null||typeof t=="string"),new bn(t)}}class KV{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QV{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new KV(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JV{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,Ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(At(typeof n.token=="string"),this.R=n.token,new XV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=ZV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function ht(e,t){return e<t?-1:e>t?1:0}function oo(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return rn.fromMillis(Date.now())}static fromDate(t){return rn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ht(this.nanoseconds,t.nanoseconds):ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Be(t)}static min(){return new Be(new rn(0,0))}static max(){return new Be(new rn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ue(),r===void 0?r=t.length-n:r>t.length-n&&Ue(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return jl.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof jl?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class St extends jl{construct(t,n,r){return new St(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ee(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new St(n)}static emptyPath(){return new St([])}}const e$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends jl{construct(t,n,r){return new gn(t,n,r)}static isValidIdentifier(t){return e$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gn(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ee(ie.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new Ee(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ee(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new Ee(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.path=t}static fromPath(t){return new Oe(St.fromString(t))}static fromName(t){return new Oe(St.fromString(t).popFirst(5))}static empty(){return new Oe(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&St.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return St.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Oe(new St(t.slice()))}}function t$(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new _i(s,Oe.empty(),t)}function n$(e){return new _i(e.readTime,e.key,-1)}class _i{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(Be.min(),Oe.empty(),-1)}static max(){return new _i(Be.max(),Oe.empty(),-1)}}function r$(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Oe.comparator(e.documentKey,t.documentKey),n!==0?n:ht(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(e){if(e.code!==ie.FAILED_PRECONDITION||e.message!==s$)throw e;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ue((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ue.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ue.reject(n)}static resolve(t){return new ue((n,r)=>{n(t)})}static reject(t){return new ue((n,r)=>{r(t)})}static waitFor(t){return new ue((n,r)=>{let s=0,i=0,a=!1;t.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&n()},l=>r(l))}),a=!0,i===s&&n()})}static or(t){let n=ue.resolve(!1);for(const r of t)n=n.next(s=>s?ue.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new ue((r,s)=>{const i=t.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const u=l;n(t[u]).next(c=>{a[u]=c,++o,o===i&&r(a)},c=>s(c))}})}static doWhile(t,n){return new ue((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function gu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}gg._e=-1;function eh(e){return e==null}function Hc(e){return e===0&&1/e==-1/0}function a$(e){return typeof e=="number"&&Number.isInteger(e)&&!Hc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ba(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function f1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,n){this.comparator=t,this.root=n||pn.EMPTY}insert(t,n){return new Vt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(t){return new Vt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wu(this.root,t,this.comparator,!0)}}class Wu{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pn{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??pn.RED,this.left=s??pn.EMPTY,this.right=i??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new pn(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const t=this.left.check();if(t!==this.right.check())throw Ue();return t+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(t,n,r,s,i){return this}insert(t,n,r){return new pn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.comparator=t,this.data=new Vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(t){return new Xv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof _n)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new _n(this.comparator);return n.data=t,n}}class Xv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new zn([])}unionWith(t){let n=new _n(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new p1("Invalid base64 string: "+i):i}}(t);return new Sn(n)}static fromUint8Array(t){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(t);return new Sn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const o$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(e){if(At(!!e),typeof e=="string"){let t=0;const n=o$.exec(e);if(At(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xt(e.seconds),nanos:Xt(e.nanos)}}function Xt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ca(e){return typeof e=="string"?Sn.fromBase64String(e):Sn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _g(e){const t=e.mapValue.fields.__previous_value__;return yg(t)?_g(t):t}function Bl(e){const t=vi(e.mapValue.fields.__local_write_time__.timestampValue);return new rn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(t,n,r,s,i,a,o,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Yl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function da(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yg(e)?4:u$(e)?9007199254740991:10:Ue()}function ts(e,t){if(e===t)return!0;const n=da(e);if(n!==da(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bl(e).isEqual(Bl(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=vi(s.timestampValue),o=vi(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return ca(s.bytesValue).isEqual(ca(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return Xt(s.geoPointValue.latitude)===Xt(i.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Xt(s.integerValue)===Xt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Xt(s.doubleValue),o=Xt(i.doubleValue);return a===o?Hc(a)===Hc(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return oo(e.arrayValue.values||[],t.arrayValue.values||[],ts);case 10:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(Qv(a)!==Qv(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!ts(a[l],o[l])))return!1;return!0}(e,t);default:return Ue()}}function Hl(e,t){return(e.values||[]).find(n=>ts(n,t))!==void 0}function lo(e,t){if(e===t)return 0;const n=da(e),r=da(t);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(e.booleanValue,t.booleanValue);case 2:return function(i,a){const o=Xt(i.integerValue||i.doubleValue),l=Xt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return Jv(e.timestampValue,t.timestampValue);case 4:return Jv(Bl(e),Bl(t));case 5:return ht(e.stringValue,t.stringValue);case 6:return function(i,a){const o=ca(i),l=ca(a);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=ht(o[u],l[u]);if(c!==0)return c}return ht(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,a){const o=ht(Xt(i.latitude),Xt(a.latitude));return o!==0?o:ht(Xt(i.longitude),Xt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,a){const o=i.values||[],l=a.values||[];for(let u=0;u<o.length&&u<l.length;++u){const c=lo(o[u],l[u]);if(c)return c}return ht(o.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,a){if(i===qu.mapValue&&a===qu.mapValue)return 0;if(i===qu.mapValue)return 1;if(a===qu.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=ht(l[d],c[d]);if(h!==0)return h;const f=lo(o[l[d]],u[c[d]]);if(f!==0)return f}return ht(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Ue()}}function Jv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ht(e,t);const n=vi(e),r=vi(t),s=ht(n.seconds,r.seconds);return s!==0?s:ht(n.nanos,r.nanos)}function uo(e){return xp(e)}function xp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=vi(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ca(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Oe.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=xp(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${xp(n.fields[a])}`;return s+"}"}(e.mapValue):Ue()}function Zv(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dp(e){return!!e&&"integerValue"in e}function vg(e){return!!e&&"arrayValue"in e}function e0(e){return!!e&&"nullValue"in e}function t0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dc(e){return!!e&&"mapValue"in e}function fl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ba(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=fl(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function u$(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.value=t}static empty(){return new jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!dc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=fl(n)}setAll(t){let n=gn.emptyPath(),r={},s=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=fl(a):s.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ts(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];dc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){ba(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new jn(fl(this.value))}}function m1(e){const t=[];return ba(e.fields,(n,r)=>{const s=new gn([n]);if(dc(r)){const i=m1(r.mapValue).fields;if(i.length===0)t.push(s);else for(const a of i)t.push(s.child(a))}else t.push(s)}),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,n,r,s,i,a,o){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new Tn(t,0,Be.min(),Be.min(),Be.min(),jn.empty(),0)}static newFoundDocument(t,n,r,s){return new Tn(t,1,n,Be.min(),r,s,0)}static newNoDocument(t,n){return new Tn(t,2,n,Be.min(),Be.min(),jn.empty(),0)}static newUnknownDocument(t,n){return new Tn(t,3,n,Be.min(),Be.min(),jn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n){this.position=t,this.inclusive=n}}function n0(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(i.field.isKeyField()?r=Oe.comparator(Oe.fromName(a.referenceValue),n.key):r=lo(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ts(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n="asc"){this.field=t,this.dir=n}}function c$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{}class Jt extends g1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new h$(t,n,r):n==="array-contains"?new m$(t,r):n==="in"?new g$(t,r):n==="not-in"?new y$(t,r):n==="array-contains-any"?new _$(t,r):new Jt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new f$(t,r):new p$(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lo(n,this.value)):n!==null&&da(this.value)===da(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends g1{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Rr(t,n)}matches(t){return y1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function y1(e){return e.op==="and"}function _1(e){return d$(e)&&y1(e)}function d$(e){for(const t of e.filters)if(t instanceof Rr)return!1;return!0}function Mp(e){if(e instanceof Jt)return e.field.canonicalString()+e.op.toString()+uo(e.value);if(_1(e))return e.filters.map(t=>Mp(t)).join(",");{const t=e.filters.map(n=>Mp(n)).join(",");return`${e.op}(${t})`}}function v1(e,t){return e instanceof Jt?function(r,s){return s instanceof Jt&&r.op===s.op&&r.field.isEqual(s.field)&&ts(r.value,s.value)}(e,t):e instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&v1(a,s.filters[o]),!0):!1}(e,t):void Ue()}function w1(e){return e instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(e):e instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(w1).join(" ,")+"}"}(e):"Filter"}class h$ extends Jt{constructor(t,n,r){super(t,n,r),this.key=Oe.fromName(r.referenceValue)}matches(t){const n=Oe.comparator(t.key,this.key);return this.matchesComparison(n)}}class f$ extends Jt{constructor(t,n){super(t,"in",n),this.keys=b1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class p$ extends Jt{constructor(t,n){super(t,"not-in",n),this.keys=b1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function b1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class m$ extends Jt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return vg(n)&&Hl(n.arrayValue,this.value)}}class g$ extends Jt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class y$ extends Jt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Hl(this.value.arrayValue,n)}}class _$ extends Jt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(t,n=null,r=[],s=[],i=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ce=null}}function s0(e,t=null,n=[],r=[],s=null,i=null,a=null){return new v$(e,t,n,r,s,i,a)}function wg(e){const t=qe(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Mp(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>uo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>uo(r)).join(",")),t.ce=n}return t.ce}function bg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!c$(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!v1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!r0(e.startAt,t.startAt)&&r0(e.endAt,t.endAt)}function Op(e){return Oe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n=null,r=[],s=[],i=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function w$(e,t,n,r,s,i,a,o){return new yu(e,t,n,r,s,i,a,o)}function Tg(e){return new yu(e)}function i0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function T1(e){return e.collectionGroup!==null}function pl(e){const t=qe(e);if(t.le===null){t.le=[];const n=new Set;for(const i of t.explicitOrderBy)t.le.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new _n(gn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.le.push(new qc(i,r))}),n.has(gn.keyField().canonicalString())||t.le.push(new qc(gn.keyField(),r))}return t.le}function Kr(e){const t=qe(e);return t.he||(t.he=b$(t,pl(e))),t.he}function b$(e,t){if(e.limitType==="F")return s0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new qc(s.field,i)});const n=e.endAt?new Wc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wc(e.startAt.position,e.startAt.inclusive):null;return s0(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Np(e,t){const n=e.filters.concat([t]);return new yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vp(e,t,n){return new yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function th(e,t){return bg(Kr(e),Kr(t))&&e.limitType===t.limitType}function E1(e){return`${wg(Kr(e))}|lt:${e.limitType}`}function xa(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>w1(s)).join(", ")}]`),eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>uo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>uo(s)).join(",")),`Target(${r})`}(Kr(e))}; limitType=${e.limitType})`}function nh(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of pl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(a,o,l){const u=n0(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,pl(r),s)||r.endAt&&!function(a,o,l){const u=n0(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,pl(r),s))}(e,t)}function T$(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function I1(e){return(t,n)=>{let r=!1;for(const s of pl(e)){const i=E$(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function E$(e,t,n){const r=e.field.isKeyField()?Oe.comparator(t.key,n.key):function(i,a,o){const l=a.data.field(i),u=o.data.field(i);return l!==null&&u!==null?lo(l,u):Ue()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ba(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new Vt(Oe.comparator);function xs(){return I$}const A1=new Vt(Oe.comparator);function Zo(...e){let t=A1;for(const n of e)t=t.insert(n.key,n);return t}function k1(e){let t=A1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Wi(){return ml()}function R1(){return ml()}function ml(){return new ko(e=>e.toString(),(e,t)=>e.isEqual(t))}const A$=new Vt(Oe.comparator),k$=new _n(Oe.comparator);function Ze(...e){let t=k$;for(const n of e)t=t.add(n);return t}const R$=new _n(ht);function P$(){return R$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function S1(e){return{integerValue:""+e}}function S$(e,t){return a$(t)?S1(t):P1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this._=void 0}}function C$(e,t,n){return e instanceof zc?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&yg(i)&&(i=_g(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,t):e instanceof Wl?x1(e,t):e instanceof ql?D1(e,t):function(s,i){const a=C1(s,i),o=a0(a)+a0(s.Ie);return Dp(a)&&Dp(s.Ie)?S1(o):P1(s.serializer,o)}(e,t)}function x$(e,t,n){return e instanceof Wl?x1(e,t):e instanceof ql?D1(e,t):n}function C1(e,t){return e instanceof Gc?function(r){return Dp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class zc extends rh{}class Wl extends rh{constructor(t){super(),this.elements=t}}function x1(e,t){const n=M1(t);for(const r of e.elements)n.some(s=>ts(s,r))||n.push(r);return{arrayValue:{values:n}}}class ql extends rh{constructor(t){super(),this.elements=t}}function D1(e,t){let n=M1(t);for(const r of e.elements)n=n.filter(s=>!ts(s,r));return{arrayValue:{values:n}}}class Gc extends rh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function a0(e){return Xt(e.integerValue||e.doubleValue)}function M1(e){return vg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function D$(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Wl&&s instanceof Wl||r instanceof ql&&s instanceof ql?oo(r.elements,s.elements,ts):r instanceof Gc&&s instanceof Gc?ts(r.Ie,s.Ie):r instanceof zc&&s instanceof zc}(e.transform,t.transform)}class M${constructor(t,n){this.version=t,this.transformResults=n}}class wr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wr}static exists(t){return new wr(void 0,t)}static updateTime(t){return new wr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class sh{}function O1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new V1(e.key,wr.none()):new _u(e.key,e.data,wr.none());{const n=e.data,r=jn.empty();let s=new _n(gn.comparator);for(let i of t.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Ai(e.key,r,new zn(s.toArray()),wr.none())}}function O$(e,t,n){e instanceof _u?function(s,i,a){const o=s.value.clone(),l=l0(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ai?function(s,i,a){if(!hc(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=l0(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(N1(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function gl(e,t,n,r){return e instanceof _u?function(i,a,o,l){if(!hc(i.precondition,a))return o;const u=i.value.clone(),c=u0(i.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ai?function(i,a,o,l){if(!hc(i.precondition,a))return o;const u=u0(i.fieldTransforms,l,a),c=a.data;return c.setAll(N1(i)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(i,a,o){return hc(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function N$(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=C1(r.transform,s||null);i!=null&&(n===null&&(n=jn.empty()),n.set(r.field,i))}return n||null}function o0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oo(r,s,(i,a)=>D$(i,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _u extends sh{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ai extends sh{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function N1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function l0(e,t,n){const r=new Map;At(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,x$(a,o,n[s]))}return r}function u0(e,t,n){const r=new Map;for(const s of e){const i=s.transform,a=n.data.field(s.field);r.set(s.field,C$(i,a,t))}return r}class V1 extends sh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V$ extends sh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&O$(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=gl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=gl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=R1();return this.mutations.forEach(s=>{const i=t.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=n.has(s.key)?null:o;const l=O1(a,o);l!==null&&r.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ze())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,(n,r)=>o0(n,r))&&oo(this.baseMutations,t.baseMutations,(n,r)=>o0(n,r))}}class Eg{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){At(t.mutations.length===r.length);let s=function(){return A$}();const i=t.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Eg(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,rt;function U$(e){switch(e){default:return Ue();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function $1(e){if(e===void 0)return Cs("GRPC error has no .code"),ie.UNKNOWN;switch(e){case Qt.OK:return ie.OK;case Qt.CANCELLED:return ie.CANCELLED;case Qt.UNKNOWN:return ie.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ie.INTERNAL;case Qt.UNAVAILABLE:return ie.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ie.NOT_FOUND;case Qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Qt.ABORTED:return ie.ABORTED;case Qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Qt.DATA_LOSS:return ie.DATA_LOSS;default:return Ue()}}(rt=Qt||(Qt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=new Ga([4294967295,4294967295],0);function c0(e){const t=j$().encode(e),n=new WV;return n.update(t),new Uint8Array(n.digest())}function d0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Ga([n,r],0),new Ga([s,i],0)]}class Ig{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(r<0)throw new el(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Ga.fromNumber(this.Te)}de(t,n,r){let s=t.add(n.multiply(Ga.fromNumber(r)));return s.compare(B$)===1&&(s=new Ga([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=c0(t),[r,s]=d0(n);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);if(!this.Ae(a))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new Ig(i,s,n);return r.forEach(o=>a.insert(o)),a}insert(t){if(this.Te===0)return;const n=c0(t),[r,s]=d0(n);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);this.Re(a)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,vu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ih(Be.min(),s,new Vt(ht),xs(),Ze())}}class vu{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new vu(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n,r,s){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=s}}class L1{constructor(t,n){this.targetId=t,this.fe=n}}class F1{constructor(t,n,r=Sn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class h0{constructor(){this.ge=0,this.pe=p0(),this.ye=Sn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ze(),n=Ze(),r=Ze();return this.pe.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ue()}}),new vu(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=p0()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,At(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Y${constructor(t){this.Le=t,this.ke=new Map,this.qe=xs(),this.Qe=f0(),this.Ke=new Vt(ht)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Ue()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,r=t.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Op(i))if(r===0){const a=new Oe(i.path);this.We(n,a,Tn.newNoDocument(a,Be.min()))}else At(r===1);else{const a=this.Ze(n);if(a!==r){const o=this.Xe(t),l=o?this.et(o,t,a):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,o;try{a=ca(r).toUint8Array()}catch(l){if(l instanceof p1)return ao("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Ig(a,s,i)}catch(l){return ao(l instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Te===0?null:o}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.nt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.We(n,i,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((i,a)=>{const o=this.Ye(a);if(o){if(i.current&&Op(o.target)){const l=new Oe(o.target.path);this.qe.get(l)!==null||this.st(a,l)||this.We(a,l,Tn.newNoDocument(l,t))}i.De&&(n.set(a,i.ve()),i.Fe())}});let r=Ze();this.Qe.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.qe.forEach((i,a)=>a.setReadTime(t));const s=new ih(t,n,this.Ke,this.qe,r);return this.qe=xs(),this.Qe=f0(),this.Ke=new Vt(ht),s}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new h0,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new _n(ht),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new h0),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function f0(){return new Vt(Oe.comparator)}function p0(){return new Vt(Oe.comparator)}const H$={asc:"ASCENDING",desc:"DESCENDING"},W$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q$={and:"AND",or:"OR"};class z${constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function $p(e,t){return e.useProto3Json||eh(t)?t:{value:t}}function Kc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function G$(e,t){return Kc(e,t.toTimestamp())}function Qr(e){return At(!!e),Be.fromTimestamp(function(n){const r=vi(n);return new rn(r.seconds,r.nanos)}(e))}function Ag(e,t){return function(r){return new St(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function j1(e){const t=St.fromString(e);return At(W1(t)),t}function Lp(e,t){return Ag(e.databaseId,t.path)}function yf(e,t){const n=j1(t);if(n.get(1)!==e.databaseId.projectId)throw new Ee(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ee(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Oe(B1(n))}function Fp(e,t){return Ag(e.databaseId,t)}function K$(e){const t=j1(e);return t.length===4?St.emptyPath():B1(t)}function Up(e){return new St(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function B1(e){return At(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function m0(e,t,n){return{name:Lp(e,t),fields:n.value.mapValue.fields}}function Q$(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ue()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(At(c===void 0||typeof c=="string"),Sn.fromBase64String(c||"")):(At(c===void 0||c instanceof Uint8Array),Sn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(u){const c=u.code===void 0?ie.UNKNOWN:$1(u.code);return new Ee(c,u.message||"")}(a);n=new F1(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=yf(e,r.document.name),i=Qr(r.document.updateTime),a=r.document.createTime?Qr(r.document.createTime):Be.min(),o=new jn({mapValue:{fields:r.document.fields}}),l=Tn.newFoundDocument(s,i,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fc(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=yf(e,r.document),i=r.readTime?Qr(r.readTime):Be.min(),a=Tn.newNoDocument(s,i),o=r.removedTargetIds||[];n=new fc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=yf(e,r.document),i=r.removedTargetIds||[];n=new fc([],i,s,null)}else{if(!("filter"in t))return Ue();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new F$(s,i),o=r.targetId;n=new L1(o,a)}}return n}function X$(e,t){let n;if(t instanceof _u)n={update:m0(e,t.key,t.value)};else if(t instanceof V1)n={delete:Lp(e,t.key)};else if(t instanceof Ai)n={update:m0(e,t.key,t.data),updateMask:aL(t.fieldMask)};else{if(!(t instanceof V$))return Ue();n={verify:Lp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof zc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Wl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ql)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Gc)return{fieldPath:a.field.canonicalString(),increment:o.Ie};throw Ue()}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:G$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ue()}(e,t.precondition)),n}function J$(e,t){return e&&e.length>0?(At(t!==void 0),e.map(n=>function(s,i){let a=s.updateTime?Qr(s.updateTime):Qr(i);return a.isEqual(Be.min())&&(a=Qr(i)),new M$(a,s.transformResults||[])}(n,t))):[]}function Z$(e,t){return{documents:[Fp(e,t.path)]}}function eL(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Fp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Fp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return H1(Rr.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Da(d.field),direction:rL(d.dir)}}(u))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=$p(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function tL(e){let t=K$(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){At(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:t=t.child(c.collectionId)}let i=[];n.where&&(i=function(d){const h=Y1(d);return h instanceof Rr&&_1(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(m){return new qc(Ma(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,eh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Wc(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Wc(f,h)}(n.endAt)),w$(t,s,a,i,o,"F",l,u)}function nL(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Y1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ma(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ma(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ma(n.unaryFilter.field);return Jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ma(n.unaryFilter.field);return Jt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(e):e.fieldFilter!==void 0?function(n){return Jt.create(Ma(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>Y1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue()}}(n.compositeFilter.op))}(e):Ue()}function rL(e){return H$[e]}function sL(e){return W$[e]}function iL(e){return q$[e]}function Da(e){return{fieldPath:e.canonicalString()}}function Ma(e){return gn.fromServerFormat(e.fieldPath)}function H1(e){return e instanceof Jt?function(n){if(n.op==="=="){if(t0(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NAN"}};if(e0(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t0(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NAN"}};if(e0(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(n.field),op:sL(n.op),value:n.value}}}(e):e instanceof Rr?function(n){const r=n.getFilters().map(s=>H1(s));return r.length===1?r[0]:{compositeFilter:{op:iL(n.op),filters:r}}}(e):Ue()}function aL(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function W1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t,n,r,s,i=Be.min(),a=Be.min(),o=Sn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new ti(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(t){this.ut=t}}function lL(e){const t=tL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Vp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.on=new cL}addToCollectionParentIndex(t,n){return this.on.add(n),ue.resolve()}getCollectionParents(t,n){return ue.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return ue.resolve()}deleteFieldIndex(t,n){return ue.resolve()}deleteAllFieldIndexes(t){return ue.resolve()}createTargetIndexes(t,n){return ue.resolve()}getDocumentsMatchingTarget(t,n){return ue.resolve(null)}getIndexType(t,n){return ue.resolve(0)}getFieldIndexes(t,n){return ue.resolve([])}getNextCollectionGroupToUpdate(t){return ue.resolve(null)}getMinOffset(t,n){return ue.resolve(_i.min())}getMinOffsetFromCollectionGroup(t,n){return ue.resolve(_i.min())}updateCollectionGroup(t,n,r){return ue.resolve()}updateIndexEntries(t,n){return ue.resolve()}}class cL{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new _n(St.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new _n(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new co(0)}static Nn(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.changes=new ko(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&gl(r.mutation,s,zn.empty(),rn.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ze()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ze()){const s=Wi();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let a=Zo();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Wi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ze()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,r,s){let i=xs();const a=ml(),o=function(){return ml()}();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof Ai)?i=i.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),gl(c.mutation,u,c.mutation.getFieldMask(),rn.now())):a.set(u.key,zn.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var d;return o.set(u,new hL(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,n){const r=ml();let s=new Vt((a,o)=>a-o),i=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zn.empty();c=o.applyToLocalView(u,c),r.set(l,c);const d=(s.get(o.batchId)||Ze()).add(l);s=s.insert(o.batchId,d)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=R1();c.forEach(h=>{if(!i.has(h)){const f=O1(n.get(h),r.get(h));f!==null&&d.set(h,f),i=i.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,d))}return ue.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(a){return Oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):T1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):ue.resolve(Wi());let o=-1,l=i;return a.next(u=>ue.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(c)?ue.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,i)).next(()=>this.computeViews(t,l,u,Ze())).next(c=>({batchId:o,changes:k1(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Oe(n)).next(r=>{let s=Zo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let a=Zo();return this.indexManager.getCollectionParents(t,i).next(o=>ue.forEach(o,l=>{const u=function(d,h){return new yu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,u,r,s).next(c=>{c.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(a=>{i.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Tn.newInvalidDocument(c)))});let o=Zo();return a.forEach((l,u)=>{const c=i.get(l);c!==void 0&&gl(c.mutation,u,zn.empty(),rn.now()),nh(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return ue.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Qr(s.createTime)}}(n)),ue.resolve()}getNamedQuery(t,n){return ue.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(s){return{name:s.name,query:lL(s.bundledQuery),readTime:Qr(s.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.overlays=new Vt(Oe.comparator),this.lr=new Map}getOverlay(t,n){return ue.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Wi();return ue.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.lt(t,n,i)}),ue.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),ue.resolve()}getOverlaysForCollection(t,n,r){const s=Wi(),i=n.length+1,a=new Oe(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return ue.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Vt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Wi(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Wi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=s)););return ue.resolve(o)}lt(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new L$(n,r));let i=this.lr.get(n);i===void 0&&(i=Ze(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.hr=new _n(on.Pr),this.Ir=new _n(on.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new on(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new on(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new Oe(new St([])),r=new on(n,t),s=new on(n,t+1),i=[];return this.Ir.forEachInRange([r,s],a=>{this.dr(a),i.push(a.key)}),i}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new Oe(new St([])),r=new on(n,t),s=new on(n,t+1);let i=Ze();return this.Ir.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(t){const n=new on(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class on{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return Oe.comparator(t.key,n.key)||ht(t.gr,n.gr)}static Tr(t,n){return ht(t.gr,n.gr)||Oe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new _n(on.Pr)}checkEmpty(t){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new $$(i,n,r,s);this.mutationQueue.push(a);for(const o of s)this.yr=this.yr.add(new on(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return ue.resolve(a)}lookupMutationBatch(t,n){return ue.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return ue.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],a=>{const o=this.wr(a.gr);i.push(o)}),ue.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new _n(ht);return n.forEach(s=>{const i=new on(s,0),a=new on(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,a],o=>{r=r.add(o.gr)})}),ue.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;Oe.isDocumentKey(i)||(i=i.child(""));const a=new on(new Oe(i),0);let o=new _n(ht);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(o=o.add(l.gr)),!0)},a),ue.resolve(this.br(o))}br(t){const n=[];return t.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){At(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return ue.forEach(n.mutations,s=>{const i=new on(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new on(n,0),s=this.yr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ue.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t){this.Cr=t,this.docs=function(){return new Vt(Oe.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(t,n){let r=xs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tn.newInvalidDocument(s))}),ue.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=xs();const a=n.path,o=new Oe(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||r$(n$(c),r)<=0||(s.has(c.key)||nh(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return ue.resolve(i)}getAllFromCollectionGroup(t,n,r,s){Ue()}vr(t,n){return ue.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new _L(this)}getSize(t){return ue.resolve(this.size)}}class _L extends dL{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(t,s)):this._r.removeEntry(r)}),ue.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t){this.persistence=t,this.Fr=new ko(n=>wg(n),bg),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Mr=0,this.Or=new kg,this.targetCount=0,this.Nr=co.On()}forEachTarget(t,n){return this.Fr.forEach((r,s)=>n(s)),ue.resolve()}getLastRemoteSnapshotVersion(t){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ue.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),ue.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new co(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,ue.resolve()}updateTargetData(t,n){return this.kn(n),ue.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Fr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Fr.delete(a),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),ue.waitFor(i).next(()=>s)}getTargetCount(t){return ue.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return ue.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),ue.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(t,a))}),ue.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),ue.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return ue.resolve(r)}containsKey(t,n){return ue.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(t,n){this.Br={},this.overlays={},this.Lr=new gg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new vL(this),this.indexManager=new uL,this.remoteDocumentCache=function(s){return new yL(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new oL(n),this.Kr=new pL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new gL(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){Ie("MemoryPersistence","Starting transaction:",t);const s=new bL(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(t,n){return ue.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class bL extends i${constructor(t){super(),this.currentSequenceNumber=t}}class Rg{constructor(t){this.persistence=t,this.Gr=new kg,this.zr=null}static jr(t){return new Rg(t)}get Hr(){if(this.zr)return this.zr;throw Ue()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),ue.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),ue.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Hr,r=>{const s=Oe.fromPath(r);return this.Jr(t,s).next(i=>{i||n.removeEntry(s,Be.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return ue.or([()=>ue.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=s}static Qi(t,n){let r=Ze(),s=Ze();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Pg(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.zi(t,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ji(t,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new TL;return this.Hi(t,n,a).next(o=>{if(i.result=o,this.$i)return this.Ji(t,n,a,o.size)})}).next(()=>i.result)}Ji(t,n,r,s){return r.documentReadCount<this.Ui?(Fo()<=nt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ue.resolve()):(Fo()<=nt.DEBUG&&Ie("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Fo()<=nt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Kr(n))):ue.resolve())}zi(t,n){if(i0(n))return ue.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vp(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const a=Ze(...i);return this.Gi.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,o);return this.Zi(n,u,a,l.readTime)?this.zi(t,Vp(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,s){return i0(n)||s.isEqual(Be.min())?ue.resolve(null):this.Gi.getDocuments(t,r).next(i=>{const a=this.Yi(n,i);return this.Zi(n,a,r,s)?ue.resolve(null):(Fo()<=nt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xa(n)),this.Xi(t,a,n,t$(s,-1)).next(o=>o))})}Yi(t,n){let r=new _n(I1(t));return n.forEach((s,i)=>{nh(t,i)&&(r=r.add(i))}),r}Zi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(t,n,r){return Fo()<=nt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",xa(n)),this.Gi.getDocumentsMatchingQuery(t,n,_i.min(),r)}Xi(t,n,r,s){return this.Gi.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(t,n,r,s){this.persistence=t,this.es=n,this.serializer=s,this.ts=new Vt(ht),this.ns=new ko(i=>wg(i),bg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function AL(e,t,n,r){return new IL(e,t,n,r)}async function q1(e,t){const n=qe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let l=Ze();for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:a,addedBatchIds:o}))})})}function kL(e,t){const n=qe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,h=d.keys();let f=ue.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(y=>{const b=u.docVersions.get(m);At(b!==null),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ze();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function z1(e){const t=qe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function RL(e,t){const n=qe(e),r=t.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const o=[];t.targetChanges.forEach((c,d)=>{const h=s.get(d);if(!h)return;o.push(n.qr.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(i,c.addedDocuments,d)));let f=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(Sn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),s=s.insert(d,f),function(y,b,I){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(h,f,c)&&o.push(n.qr.updateTargetData(i,f))});let l=xs(),u=Ze();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),o.push(PL(i,a,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Be.min())){const c=n.qr.getLastRemoteSnapshotVersion(i).next(d=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(c)}return ue.waitFor(o).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ts=s,i))}function PL(e,t,n){let r=Ze(),s=Ze();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let a=xs();return n.forEach((o,l)=>{const u=i.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Be.min())?(t.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),a=a.insert(o,l)):Ie("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{us:a,cs:s}})}function SL(e,t){const n=qe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function CL(e,t){const n=qe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,t).next(i=>i?(s=i,ue.resolve(s)):n.qr.allocateTargetId(r).next(a=>(s=new ti(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function jp(e,t,n){const r=qe(e),s=r.ts.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!gu(a))throw a;Ie("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.ts=r.ts.remove(t),r.ns.delete(s.target)}function g0(e,t,n){const r=qe(e);let s=Be.min(),i=Ze();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=qe(l),h=d.ns.get(c);return h!==void 0?ue.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,a,Kr(t)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(a,t,n?s:Be.min(),n?i:Ze())).next(o=>(xL(r,T$(t),o),{documents:o,ls:i})))}function xL(e,t,n){let r=e.rs.get(t)||Be.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.rs.set(t,r)}class y0{constructor(){this.activeTargetIds=P$()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DL{constructor(){this.eo=new y0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new y0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function _f(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class VL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,a){const o=_f(),l=this.So(n,r);Ie("RestConnection",`Sending RPC '${n}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,a),this.Do(n,l,u,s).then(c=>(Ie("RestConnection",`Received RPC '${n}' ${o}: `,c),c),c=>{throw ao("RestConnection",`RPC '${n}' ${o} failed with error: `,c,"url: ",l,"request:",s),c})}Co(n,r,s,i,a,o){return this.wo(n,r,s,i,a)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}So(n,r){const s=OL[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,s){const i=_f();return new Promise((a,o)=>{const l=new HV;l.setWithCredentials(!0),l.listenOnce(BV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gf.NO_ERROR:const c=l.getResponseJson();Ie(vn,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(c)),a(c);break;case gf.TIMEOUT:Ie(vn,`RPC '${t}' ${i} timed out`),o(new Ee(ie.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const d=l.getStatus();if(Ie(vn,`RPC '${t}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(b){const I=b.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(I)>=0?I:ie.UNKNOWN}(f.status);o(new Ee(m,f.message))}else o(new Ee(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ee(ie.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Ie(vn,`RPC '${t}' ${i} completed.`)}});const u=JSON.stringify(s);Ie(vn,`RPC '${t}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}vo(t,n,r){const s=_f(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=UV(),o=jV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");Ie(vn,`Creating RPC '${t}' stream ${s}: ${c}`,l);const d=a.createWebChannel(c,l);let h=!1,f=!1;const m=new NL({co:b=>{f?Ie(vn,`Not sending because RPC '${t}' stream ${s} is closed:`,b):(h||(Ie(vn,`Opening RPC '${t}' stream ${s} transport.`),d.open(),h=!0),Ie(vn,`RPC '${t}' stream ${s} sending:`,b),d.send(b))},lo:()=>d.close()}),y=(b,I,C)=>{b.listen(I,E=>{try{C(E)}catch(R){setTimeout(()=>{throw R},0)}})};return y(d,Hu.EventType.OPEN,()=>{f||Ie(vn,`RPC '${t}' stream ${s} transport opened.`)}),y(d,Hu.EventType.CLOSE,()=>{f||(f=!0,Ie(vn,`RPC '${t}' stream ${s} transport closed`),m.Ro())}),y(d,Hu.EventType.ERROR,b=>{f||(f=!0,ao(vn,`RPC '${t}' stream ${s} transport errored:`,b),m.Ro(new Ee(ie.UNAVAILABLE,"The operation could not be completed")))}),y(d,Hu.EventType.MESSAGE,b=>{var I;if(!f){const C=b.data[0];At(!!C);const E=C,R=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(R){Ie(vn,`RPC '${t}' stream ${s} received error:`,R);const N=R.status;let D=function(j){const H=Qt[j];if(H!==void 0)return $1(H)}(N),x=R.message;D===void 0&&(D=ie.INTERNAL,x="Unknown error status: "+N+" with message "+R.message),f=!0,m.Ro(new Ee(D,x)),d.close()}else Ie(vn,`RPC '${t}' stream ${s} received:`,C),m.Vo(C)}}),y(o,YV.STAT_EVENT,b=>{b.stat===Gv.PROXY?Ie(vn,`RPC '${t}' stream ${s} detected buffering proxy`):b.stat===Gv.NOPROXY&&Ie(vn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(e){return new z$(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,n,r=1e3,s=1.5,i=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,n,r,s,i,a,o,l){this.si=t,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new G1(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{t(()=>{const s=new Ee(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Ie("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $L extends K1{constructor(t,n,r,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=Q$(this.serializer,t),r=function(i){if(!("targetChange"in i))return Be.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Be.min():a.readTime?Qr(a.readTime):Be.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=Up(this.serializer),n.addTarget=function(i,a){let o;const l=a.target;if(o=Op(l)?{documents:Z$(i,l)}:{query:eL(i,l)},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=U1(i,a.resumeToken);const u=$p(i,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Be.min())>0){o.readTime=Kc(i,a.snapshotVersion.toTimestamp());const u=$p(i,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const r=nL(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=Up(this.serializer),n.removeTarget=t,this.e_(n)}}class LL extends K1{constructor(t,n,r,s,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(At(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=J$(t.writeResults,t.commitTime),r=Qr(t.commitTime);return this.listener.I_(r,n)}return At(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Up(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>X$(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new Ee(ie.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(ie.UNKNOWN,s.toString())})}Co(t,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Co(t,n,r,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ee(ie.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class UL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Cs(n),this.f_=!1):Ie("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(a=>{r.enqueueAndForget(async()=>{Ta(this)&&(Ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=qe(l);u.C_.add(4),await wu(u),u.M_.set("Unknown"),u.C_.delete(4),await oh(u)}(this))})}),this.M_=new UL(r,s)}}async function oh(e){if(Ta(e))for(const t of e.v_)await t(!0)}async function wu(e){for(const t of e.v_)await t(!1)}function Q1(e,t){const n=qe(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),xg(n)?Cg(n):Ro(n).Ho()&&Sg(n,t))}function X1(e,t){const n=qe(e),r=Ro(n);n.D_.delete(t),r.Ho()&&J1(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Ta(n)&&n.M_.set("Unknown"))}function Sg(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Be.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(e).u_(t)}function J1(e,t){e.x_.Oe(t),Ro(e).c_(t)}function Cg(e){e.x_=new Y$({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ro(e).start(),e.M_.g_()}function xg(e){return Ta(e)&&!Ro(e).jo()&&e.D_.size>0}function Ta(e){return qe(e).C_.size===0}function Z1(e){e.x_=void 0}async function BL(e){e.D_.forEach((t,n)=>{Sg(e,t)})}async function YL(e,t){Z1(e),xg(e)?(e.M_.w_(t),Cg(e)):e.M_.set("Unknown")}async function HL(e,t,n){if(e.M_.set("Online"),t instanceof F1&&t.state===2&&t.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.D_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.D_.delete(o),s.x_.removeTarget(o))}(e,t)}catch(r){Ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Qc(e,r)}else if(t instanceof fc?e.x_.$e(t):t instanceof L1?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Be.min()))try{const r=await z1(e.localStore);n.compareTo(r)>=0&&await function(i,a){const o=i.x_.it(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.D_.get(u);c&&i.D_.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=i.D_.get(l);if(!c)return;i.D_.set(l,c.withResumeToken(Sn.EMPTY_BYTE_STRING,c.snapshotVersion)),J1(i,l);const d=new ti(c.target,l,u,c.sequenceNumber);Sg(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){Ie("RemoteStore","Failed to raise snapshot:",r),await Qc(e,r)}}async function Qc(e,t,n){if(!gu(t))throw t;e.C_.add(1),await wu(e),e.M_.set("Offline"),n||(n=()=>z1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ie("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await oh(e)})}function eI(e,t){return t().catch(n=>Qc(e,n,t))}async function lh(e){const t=qe(e),n=wi(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;WL(t);)try{const s=await SL(t.localStore,r);if(s===null){t.b_.length===0&&n.Zo();break}r=s.batchId,qL(t,s)}catch(s){await Qc(t,s)}tI(t)&&nI(t)}function WL(e){return Ta(e)&&e.b_.length<10}function qL(e,t){e.b_.push(t);const n=wi(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function tI(e){return Ta(e)&&!wi(e).jo()&&e.b_.length>0}function nI(e){wi(e).start()}async function zL(e){wi(e).E_()}async function GL(e){const t=wi(e);for(const n of e.b_)t.P_(n.mutations)}async function KL(e,t,n){const r=e.b_.shift(),s=Eg.from(r,t,n);await eI(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await lh(e)}async function QL(e,t){t&&wi(e).h_&&await async function(r,s){if(function(a){return U$(a)&&a!==ie.ABORTED}(s.code)){const i=r.b_.shift();wi(r).Yo(),await eI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await lh(r)}}(e,t),tI(e)&&nI(e)}async function v0(e,t){const n=qe(e);n.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const r=Ta(n);n.C_.add(3),await wu(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await oh(n)}async function XL(e,t){const n=qe(e);t?(n.C_.delete(2),await oh(n)):t||(n.C_.add(2),await wu(n),n.M_.set("Unknown"))}function Ro(e){return e.O_||(e.O_=function(n,r,s){const i=qe(n);return i.A_(),new $L(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{ho:BL.bind(null,e),Io:YL.bind(null,e),a_:HL.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),xg(e)?Cg(e):e.M_.set("Unknown")):(await e.O_.stop(),Z1(e))})),e.O_}function wi(e){return e.N_||(e.N_=function(n,r,s){const i=qe(n);return i.A_(),new LL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{ho:zL.bind(null,e),Io:QL.bind(null,e),T_:GL.bind(null,e),I_:KL.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await lh(e)):(await e.N_.stop(),e.b_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const a=Date.now()+r,o=new Dg(t,n,a,s,i);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ie.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(e,t){if(Cs("AsyncQueue",`${t}: ${e}`),gu(e))return new Ee(ie.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Zo(),this.sortedSet=new Vt(this.comparator)}static emptySet(t){return new Ka(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.B_=new Vt(Oe.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Ue():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class ho{constructor(t,n,r,s,i,a,o,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,s,i){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new ho(t,n,Ka.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.k_=void 0,this.listeners=[]}}class ZL{constructor(){this.queries=new ko(t=>E1(t),th),this.onlineState="Unknown",this.q_=new Set}}async function rI(e,t){const n=qe(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new JL),s)try{i.k_=await n.onListen(r)}catch(a){const o=Mg(a,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(o)}n.queries.set(r,i),i.listeners.push(t),t.Q_(n.onlineState),i.k_&&t.K_(i.k_)&&Og(n)}async function sI(e,t){const n=qe(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const a=i.listeners.indexOf(t);a>=0&&(i.listeners.splice(a,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function e2(e,t){const n=qe(e);let r=!1;for(const s of t){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.listeners)o.K_(s)&&(r=!0);a.k_=s}}r&&Og(n)}function t2(e,t,n){const r=qe(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Og(e){e.q_.forEach(t=>{t.next()})}class iI{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new ho(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.key=t}}class oI{constructor(t){this.key=t}}class n2{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ze(),this.mutatedKeys=Ze(),this._a=I1(t),this.aa=new Ka(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new w0,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((c,d)=>{const h=s.get(c),f=nh(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;h&&f?h.data.isEqual(f.data)?m!==y&&(r.track({type:3,doc:f}),b=!0):this.ha(h,f)||(r.track({type:2,doc:f}),b=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(o=!0)):!h&&f?(r.track({type:0,doc:f}),b=!0):h&&!f&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(o=!0)),b&&(f?(a=a.add(f),i=y?i.add(c):i.delete(c)):(a=a.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{aa:a,la:r,Zi:o,mutatedKeys:i}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const a=t.la.L_();a.sort((c,d)=>function(f,m){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return y(f)-y(m)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),s=s!=null&&s;const o=n&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,u=l!==this.sa;return this.sa=l,a.length!==0||u?{snapshot:new ho(this.query,t.aa,i,a,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new w0,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Ze(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new oI(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new aI(r))}),n}da(t){this.ia=t.ls,this.oa=Ze();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return ho.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class r2{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class s2{constructor(t){this.key=t,this.Ra=!1}}class i2{constructor(t,n,r,s,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Va={},this.ma=new ko(o=>E1(o),th),this.fa=new Map,this.ga=new Set,this.pa=new Vt(Oe.comparator),this.ya=new Map,this.wa=new kg,this.Sa={},this.ba=new Map,this.Da=co.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function a2(e,t){const n=g2(e);let r,s;const i=n.ma.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const a=await CL(n.localStore,Kr(t)),o=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,s=await o2(n,t,r,o==="current",a.resumeToken),n.isPrimaryClient&&Q1(n.remoteStore,a)}return s}async function o2(e,t,n,r,s){e.va=(d,h,f)=>async function(y,b,I,C){let E=b.view.ca(I);E.Zi&&(E=await g0(y.localStore,b.query,!1).then(({documents:x})=>b.view.ca(x,E)));const R=C&&C.targetChanges.get(b.targetId),N=C&&C.targetMismatches.get(b.targetId)!=null,D=b.view.applyChanges(E,y.isPrimaryClient,R,N);return T0(y,b.targetId,D.Ta),D.snapshot}(e,d,h,f);const i=await g0(e.localStore,t,!0),a=new n2(t,i.ls),o=a.ca(i.documents),l=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),u=a.applyChanges(o,e.isPrimaryClient,l);T0(e,n,u.Ta);const c=new r2(t,n,a);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function l2(e,t){const n=qe(e),r=n.ma.get(t),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!th(i,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await jp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),X1(n.remoteStore,r.targetId),Bp(n,r.targetId)}).catch(mu)):(Bp(n,r.targetId),await jp(n.localStore,r.targetId,!0))}async function u2(e,t,n){const r=y2(e);try{const s=await function(a,o){const l=qe(a),u=rn.now(),c=o.reduce((f,m)=>f.add(m.key),Ze());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=xs(),y=Ze();return l.ss.getEntries(f,c).next(b=>{m=b,m.forEach((I,C)=>{C.isValidDocument()||(y=y.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(b=>{d=b;const I=[];for(const C of o){const E=N$(C,d.get(C.key).overlayedDocument);E!=null&&I.push(new Ai(C.key,E,m1(E.value.mapValue),wr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,I,o)}).next(b=>{h=b;const I=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(f,b.batchId,I)})}).then(()=>({batchId:h.batchId,changes:k1(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let u=a.Sa[a.currentUser.toKey()];u||(u=new Vt(ht)),u=u.insert(o,l),a.Sa[a.currentUser.toKey()]=u}(r,s.batchId,n),await bu(r,s.changes),await lh(r.remoteStore)}catch(s){const i=Mg(s,"Failed to persist write");n.reject(i)}}async function lI(e,t){const n=qe(e);try{const r=await RL(n.localStore,t);t.targetChanges.forEach((s,i)=>{const a=n.ya.get(i);a&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Ra=!0:s.modifiedDocuments.size>0?At(a.Ra):s.removedDocuments.size>0&&(At(a.Ra),a.Ra=!1))}),await bu(n,r,t)}catch(r){await mu(r)}}function b0(e,t,n){const r=qe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,a)=>{const o=a.view.Q_(t);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=qe(a);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(o)&&(u=!0)}),u&&Og(l)}(r.eventManager,t),s.length&&r.Va.a_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function c2(e,t,n){const r=qe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.ya.get(t),i=s&&s.key;if(i){let a=new Vt(Oe.comparator);a=a.insert(i,Tn.newNoDocument(i,Be.min()));const o=Ze().add(i),l=new ih(Be.min(),new Map,new Vt(ht),a,o);await lI(r,l),r.pa=r.pa.remove(i),r.ya.delete(t),Ng(r)}else await jp(r.localStore,t,!1).then(()=>Bp(r,t,n)).catch(mu)}async function d2(e,t){const n=qe(e),r=t.batch.batchId;try{const s=await kL(n.localStore,t);cI(n,r,null),uI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bu(n,s)}catch(s){await mu(s)}}async function h2(e,t,n){const r=qe(e);try{const s=await function(a,o){const l=qe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(At(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);cI(r,t,n),uI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bu(r,s)}catch(s){await mu(s)}}function uI(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function cI(e,t,n){const r=qe(e);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Sa[r.currentUser.toKey()]=s}}function Bp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||dI(e,r)})}function dI(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(X1(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Ng(e))}function T0(e,t,n){for(const r of n)r instanceof aI?(e.wa.addReference(r.key,t),f2(e,r)):r instanceof oI?(Ie("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||dI(e,r.key)):Ue()}function f2(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Ie("SyncEngine","New document in limbo: "+n),e.ga.add(r),Ng(e))}function Ng(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Oe(St.fromString(t)),r=e.Da.next();e.ya.set(r,new s2(n)),e.pa=e.pa.insert(n,r),Q1(e.remoteStore,new ti(Kr(Tg(n.path)),r,"TargetPurposeLimboResolution",gg._e))}}async function bu(e,t,n){const r=qe(e),s=[],i=[],a=[];r.ma.isEmpty()||(r.ma.forEach((o,l)=>{a.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=Pg.Qi(l.targetId,u);i.push(c)}}))}),await Promise.all(a),r.Va.a_(s),await async function(l,u){const c=qe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ue.forEach(u,h=>ue.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>ue.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!gu(d))throw d;Ie("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),m=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(m);c.ts=c.ts.insert(h,y)}}}(r.localStore,i))}async function p2(e,t){const n=qe(e);if(!n.currentUser.isEqual(t)){Ie("SyncEngine","User change. New user:",t.toKey());const r=await q1(n.localStore,t);n.currentUser=t,function(i,a){i.ba.forEach(o=>{o.forEach(l=>{l.reject(new Ee(ie.CANCELLED,a))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await bu(n,r._s)}}function m2(e,t){const n=qe(e),r=n.ya.get(t);if(r&&r.Ra)return Ze().add(r.key);{let s=Ze();const i=n.fa.get(t);if(!i)return s;for(const a of i){const o=n.ma.get(a);s=s.unionWith(o.view.ua)}return s}}function g2(e){const t=qe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=c2.bind(null,t),t.Va.a_=e2.bind(null,t.eventManager),t.Va.Fa=t2.bind(null,t.eventManager),t}function y2(e){const t=qe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h2.bind(null,t),t}class E0{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=ah(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return AL(this.persistence,new EL,t.initialUser,this.serializer)}createPersistence(t){return new wL(Rg.jr,this.serializer)}createSharedClientState(t){return new DL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _2{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p2.bind(null,this.syncEngine),await XL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ZL}()}createDatastore(t){const n=ah(t.databaseInfo.databaseId),r=function(i){return new VL(i)}(t.databaseInfo);return function(i,a,o,l){return new FL(i,a,o,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,a,o){return new jL(r,s,i,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>b0(this.syncEngine,n,0),function(){return _0.D()?new _0:new ML}())}createSyncEngine(t,n){return function(s,i,a,o,l,u,c){const d=new i2(s,i,a,o,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=qe(n);Ie("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await wu(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Cs("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=h1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Ie("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ie("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Mg(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function wf(e,t){e.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await q1(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function I0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await b2(e);Ie("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>v0(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>v0(t.remoteStore,i)),e._onlineComponents=t}function w2(e){return e.name==="FirebaseError"?e.code===ie.FAILED_PRECONDITION||e.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function b2(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await wf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!w2(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await wf(e,new E0)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),await wf(e,new E0);return e._offlineComponents}async function fI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),await I0(e,e._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),await I0(e,new _2))),e._onlineComponents}function T2(e){return fI(e).then(t=>t.syncEngine)}async function pI(e){const t=await fI(e),n=t.eventManager;return n.onListen=a2.bind(null,t.syncEngine),n.onUnlisten=l2.bind(null,t.syncEngine),n}function E2(e,t,n={}){const r=new Is;return e.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,u){const c=new hI({next:h=>{a.enqueueAndForget(()=>sI(i,d));const f=h.docs.has(o);!f&&h.fromCache?u.reject(new Ee(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new Ee(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new iI(Tg(o.path),c,{includeMetadataChanges:!0,J_:!0});return rI(i,d)}(await pI(e),e.asyncQueue,t,n,r)),r.promise}function I2(e,t,n={}){const r=new Is;return e.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,u){const c=new hI({next:h=>{a.enqueueAndForget(()=>sI(i,d)),h.fromCache&&l.source==="server"?u.reject(new Ee(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new iI(o,c,{includeMetadataChanges:!0,J_:!0});return rI(i,d)}(await pI(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(e,t,n){if(!n)throw new Ee(ie.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function A2(e,t,n,r){if(t===!0&&r===!0)throw new Ee(ie.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function k0(e){if(!Oe.isDocumentKey(e))throw new Ee(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function R0(e){if(Oe.isDocumentKey(e))throw new Ee(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ue()}function ns(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ee(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(e);throw new Ee(ie.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ee(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ee(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}A2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mI((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ch{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ee(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Ee(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qV;switch(r.type){case"firstParty":return new QV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=A0.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),A0.delete(n),r.terminate())}(this),Promise.resolve()}}function k2(e,t,n,r={}){var s;const i=(e=ns(e,ch))._getSettings(),a=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=bn.MOCK_USER;else{o=Zb(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ee(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bn(u)}e._authCredentials=new zV(new d1(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Po(this.firestore,t,this._query)}}class $n{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $n(this.firestore,t,this._key)}}class ci extends Po{constructor(t,n,r){super(t,n,Tg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $n(this.firestore,null,new Oe(t))}withConverter(t){return new ci(this.firestore,t,this._path)}}function Gu(e,t,...n){if(e=Nt(e),gI("collection","path",t),e instanceof ch){const r=St.fromString(t,...n);return R0(r),new ci(e,null,r)}{if(!(e instanceof $n||e instanceof ci))throw new Ee(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(St.fromString(t,...n));return R0(r),new ci(e.firestore,null,r)}}function Vi(e,t,...n){if(e=Nt(e),arguments.length===1&&(t=h1.newId()),gI("doc","path",t),e instanceof ch){const r=St.fromString(t,...n);return k0(r),new $n(e,null,new Oe(r))}{if(!(e instanceof $n||e instanceof ci))throw new Ee(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(St.fromString(t,...n));return k0(r),new $n(e.firestore,e instanceof ci?e.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new G1(this,"async_queue_retry"),this.iu=()=>{const n=vf();n&&Ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=vf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Is;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!gu(t))throw t;Ie("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Cs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const s=Dg.createAndSchedule(this,t,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&Ue()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class So extends ch{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new R2}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yI(this),this._firestoreClient.terminate()}}function P2(e,t){const n=typeof e=="object"?e:xd(),r=typeof e=="string"?e:t||"(default)",s=bi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Qb("firestore");i&&k2(s,...i)}return s}function Vg(e){return e._firestoreClient||yI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yI(e){var t,n,r;const s=e._freezeSettings(),i=function(o,l,u,c){return new l$(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,mI(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new v2(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fo(Sn.fromBase64String(t))}catch(n){throw new Ee(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fo(Sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ee(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ee(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ee(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ht(this._lat,t._lat)||ht(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class C2{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ai(t,this.data,this.fieldMask,n,this.fieldTransforms):new _u(t,this.data,n,this.fieldTransforms)}}class _I{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ai(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function vI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Fg{constructor(t,n,r,s,i,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Fg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Tu({path:r,du:!1});return s.Au(t),s}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return Xc(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(vI(this.Iu)&&S2.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class x2{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ah(t)}pu(t,n,r,s=!1){return new Fg({Iu:t,methodName:n,gu:r,path:gn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(e){const t=e._freezeSettings(),n=ah(e._databaseId);return new x2(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wI(e,t,n,r,s,i={}){const a=e.pu(i.merge||i.mergeFields?2:0,t,n,s);Ug("Data must be an object, but it was:",a,r);const o=bI(r,a);let l,u;if(i.merge)l=new zn(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const h=Yp(t,d,n);if(!a.contains(h))throw new Ee(ie.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);EI(c,h)||c.push(h)}l=new zn(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new C2(new jn(o),l,u)}class fh extends $g{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fh}}function D2(e,t,n,r){const s=e.pu(1,t,n);Ug("Data must be an object, but it was:",s,r);const i=[],a=jn.empty();ba(r,(l,u)=>{const c=jg(t,l,n);u=Nt(u);const d=s.Ru(c);if(u instanceof fh)i.push(c);else{const h=Tu(u,d);h!=null&&(i.push(c),a.set(c,h))}});const o=new zn(i);return new _I(a,o,s.fieldTransforms)}function M2(e,t,n,r,s,i){const a=e.pu(1,t,n),o=[Yp(t,r,n)],l=[s];if(i.length%2!=0)throw new Ee(ie.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(Yp(t,i[h])),l.push(i[h+1]);const u=[],c=jn.empty();for(let h=o.length-1;h>=0;--h)if(!EI(u,o[h])){const f=o[h];let m=l[h];m=Nt(m);const y=a.Ru(f);if(m instanceof fh)u.push(f);else{const b=Tu(m,y);b!=null&&(u.push(f),c.set(f,b))}}const d=new zn(u);return new _I(c,d,a.fieldTransforms)}function O2(e,t,n,r=!1){return Tu(n,e.pu(r?4:3,t))}function Tu(e,t){if(TI(e=Nt(e)))return Ug("Unsupported field value:",t,e),bI(e,t);if(e instanceof $g)return function(r,s){if(!vI(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let l=Tu(o,s.Vu(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=rn.fromDate(r);return{timestampValue:Kc(s.serializer,i)}}if(r instanceof rn){const i=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kc(s.serializer,i)}}if(r instanceof Lg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fo)return{bytesValue:U1(s.serializer,r._byteString)};if(r instanceof $n){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ag(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${uh(r)}`)}(e,t)}function bI(e,t){const n={};return f1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ba(e,(r,s)=>{const i=Tu(s,t.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function TI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof rn||e instanceof Lg||e instanceof fo||e instanceof $n||e instanceof $g)}function Ug(e,t,n){if(!TI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=uh(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Yp(e,t,n){if((t=Nt(t))instanceof dh)return t._internalPath;if(typeof t=="string")return jg(e,t);throw Xc("Field path arguments must be of type string or ",e,!1,void 0,n)}const N2=new RegExp("[~\\*/\\[\\]]");function jg(e,t,n){if(t.search(N2)>=0)throw Xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dh(...t.split("."))._internalPath}catch{throw Xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xc(e,t,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new Ee(ie.INVALID_ARGUMENT,o+e+l)}function EI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(AI("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V2 extends II{data(){return super.data()}}function AI(e,t){return typeof t=="string"?jg(e,t):t instanceof dh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ee(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class L2 extends Bg{}function S0(e,t,...n){let r=[];t instanceof Bg&&r.push(t),r=r.concat(n),function(i){const a=i.filter(l=>l instanceof Hg).length,o=i.filter(l=>l instanceof Yg).length;if(a>1||a>0&&o>0)throw new Ee(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class Yg extends L2{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Yg(t,n,r)}_apply(t){const n=this._parse(t);return kI(t._query,n),new Po(t.firestore,t.converter,Np(t._query,n))}_parse(t){const n=hh(t.firestore);return function(i,a,o,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ee(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){x0(d,c);const f=[];for(const m of d)f.push(C0(l,i,m));h={arrayValue:{values:f}}}else h=C0(l,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||x0(d,c),h=O2(o,a,d,c==="in"||c==="not-in");return Jt.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Hg extends Bg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hg(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const l of o)kI(a,l),a=Np(a,l)}(t._query,n),new Po(t.firestore,t.converter,Np(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function C0(e,t,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new Ee(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T1(t)&&n.indexOf("/")!==-1)throw new Ee(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(St.fromString(n));if(!Oe.isDocumentKey(r))throw new Ee(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zv(e,new Oe(r))}if(n instanceof $n)return Zv(e,n._key);throw new Ee(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function x0(e,t){if(!Array.isArray(e)||e.length===0)throw new Ee(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kI(e,t){const n=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ee(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ee(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class F2{convertValue(t,n="none"){switch(da(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Ue()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ba(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Lg(Xt(t.latitude),Xt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=_g(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(t));default:return null}}convertTimestamp(t){const n=vi(t);return new rn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=St.fromString(t);At(W1(r));const s=new Yl(r.get(1),r.get(3)),i=new Oe(r.popFirst(5));return s.isEqual(n)||Cs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class PI extends II{constructor(t,n,r,s,i,a){super(t,n,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(AI("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pc extends PI{data(t={}){return super.data(t)}}class U2{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new tl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new pc(this._firestore,this._userDataWriter,r.key,r,new tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new pc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new tl(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new pc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new tl(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:j2(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function j2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(e){e=ns(e,$n);const t=ns(e.firestore,So);return E2(Vg(t),e._key).then(n=>Y2(t,e,n))}class SI extends F2{constructor(t){super(),this.firestore=t}convertBytes(t){return new fo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function M0(e){e=ns(e,Po);const t=ns(e.firestore,So),n=Vg(t),r=new SI(t);return $2(e._query),I2(n,e._query).then(s=>new U2(t,r,e,s))}function B2(e,t,n){e=ns(e,$n);const r=ns(e.firestore,So),s=RI(e.converter,t,n);return Wg(r,[wI(hh(r),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,wr.none())])}function bf(e,t,n,...r){e=ns(e,$n);const s=ns(e.firestore,So),i=hh(s);let a;return a=typeof(t=Nt(t))=="string"||t instanceof dh?M2(i,"updateDoc",e._key,t,n,r):D2(i,"updateDoc",e._key,t),Wg(s,[a.toMutation(e._key,wr.exists(!0))])}function O0(e,t){const n=ns(e.firestore,So),r=Vi(e),s=RI(e.converter,t);return Wg(n,[wI(hh(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}function Wg(e,t){return function(r,s){const i=new Is;return r.asyncQueue.enqueueAndForget(async()=>u2(await T2(r),s,i)),i.promise}(Vg(e),t)}function Y2(e,t,n){const r=n.docs.get(t._key),s=new SI(e);return new PI(e,s,t._key,r,new tl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Ao=s})(_a),Ir(new lr("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new So(new GV(r.getProvider("auth-internal")),new JV(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ee(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(u.options.projectId,c)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Yn(Kv,"4.4.0",t),Yn(Kv,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebasestorage.googleapis.com",xI="storageBucket",H2=2*60*1e3,W2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt extends ur{constructor(t,n,r=0){super(Tf(t),`Firebase Storage: ${n} (${Tf(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Tf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function Tf(e){return"storage/"+e}function qg(){const e="An unknown error occurred, please check the error payload for server response.";return new Yt(jt.UNKNOWN,e)}function q2(e){return new Yt(jt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function z2(e){return new Yt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function G2(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yt(jt.UNAUTHENTICATED,e)}function K2(){return new Yt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q2(e){return new Yt(jt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function X2(){return new Yt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J2(){return new Yt(jt.CANCELED,"User canceled the upload/download.")}function Z2(e){return new Yt(jt.INVALID_URL,"Invalid URL '"+e+"'.")}function eF(e){return new Yt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function tF(){return new Yt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xI+"' property when initializing the app?")}function nF(){return new Yt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rF(){return new Yt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sF(e){return new Yt(jt.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hp(e){return new Yt(jt.INVALID_ARGUMENT,e)}function DI(){return new Yt(jt.APP_DELETED,"The Firebase app was deleted.")}function iF(e){return new Yt(jt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yl(e,t){return new Yt(jt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Uo(e){throw new Yt(jt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Gn.makeFromUrl(t,n)}catch{return new Gn(t,"")}if(r.path==="")return r;throw eF(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),l={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${s}/o${h}`,"i"),m={bucket:1,path:3},y=n===CI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",I=new RegExp(`^https?://${y}/${s}/${b}`,"i"),E=[{regex:o,indices:l,postModify:i},{regex:f,indices:m,postModify:u},{regex:I,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<E.length;R++){const N=E[R],D=N.regex.exec(t);if(D){const x=D[N.indices.bucket];let M=D[N.indices.path];M||(M=""),r=new Gn(x,M),N.postModify(r);break}}if(r==null)throw Z2(t);return r}}class aF{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return o===2}let u=!1;function c(...b){u||(u=!0,t.apply(null,b))}function d(b){s=setTimeout(()=>{s=null,e(f,l())},b)}function h(){i&&clearTimeout(i)}function f(b,...I){if(u){h();return}if(b){h(),c.call(null,b,...I);return}if(l()||a){h(),c.call(null,b,...I);return}r<64&&(r*=2);let E;o===1?(o=2,E=0):E=(r+Math.random())*1e3,d(E)}let m=!1;function y(b){m||(m=!0,h(),!u&&(s!==null?(b||(o=2),clearTimeout(s),d(0)):b||(o=1)))}return d(0),i=setTimeout(()=>{a=!0,y(!0)},n),y}function lF(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(e){return e!==void 0}function cF(e){return typeof e=="object"&&!Array.isArray(e)}function zg(e){return typeof e=="string"||e instanceof String}function N0(e){return Gg()&&e instanceof Blob}function Gg(){return typeof Blob<"u"}function V0(e,t,n,r){if(r<t)throw Hp(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Hp(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function MI(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Zi||(Zi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t,n,r,s,i,a,o,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new Ku(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const o=i.getErrorCode()===Zi.NO_ERROR,l=i.getStatus();if(!o||dF(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Zi.ABORT;r(!1,new Ku(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ku(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());uF(l)?i(l):i()}catch(l){a(l)}else if(o!==null){const l=qg();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(s.canceled){const l=this.appDelete_?DI():J2();a(l)}else{const l=X2();a(l)}};this.canceled_?n(!1,new Ku(!1,null,!0)):this.backoffId_=oF(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&lF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ku{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function fF(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function pF(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function mF(e,t){t&&(e["X-Firebase-GMPID"]=t)}function gF(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function yF(e,t,n,r,s,i,a=!0){const o=MI(e.urlParams),l=e.url+o,u=Object.assign({},e.headers);return mF(u,t),fF(u,n),pF(u,i),gF(u,r),new hF(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vF(...e){const t=_F();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Gg())return new Blob(e);throw new Yt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wF(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(e){if(typeof atob>"u")throw sF("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ef{constructor(t,n){this.data=t,this.contentType=n||null}}function TF(e,t){switch(e){case Wr.RAW:return new Ef(OI(t));case Wr.BASE64:case Wr.BASE64URL:return new Ef(NI(e,t));case Wr.DATA_URL:return new Ef(IF(t),AF(t))}throw qg()}function OI(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const i=r,a=e.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function EF(e){let t;try{t=decodeURIComponent(e)}catch{throw yl(Wr.DATA_URL,"Malformed data URL.")}return OI(t)}function NI(e,t){switch(e){case Wr.BASE64:{const s=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(s||i)throw yl(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Wr.BASE64URL:{const s=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(s||i)throw yl(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bF(t)}catch(s){throw s.message.includes("polyfill")?s:yl(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class VI{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw yl(Wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=kF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function IF(e){const t=new VI(e);return t.base64?NI(Wr.BASE64,t.rest):EF(t.rest)}function AF(e){return new VI(e).contentType}function kF(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t,n){let r=0,s="";N0(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(N0(this.data_)){const r=this.data_,s=wF(r,t,n);return s===null?null:new ei(s)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new ei(r,!0)}}static getBlob(...t){if(Gg()){const n=t.map(r=>r instanceof ei?r.data_:r);return new ei(vF.apply(null,n))}else{const n=t.map(a=>zg(a)?TF(Wr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)s[i++]=a[o]}),new ei(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(e){let t;try{t=JSON.parse(e)}catch{return null}return cF(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function PF(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function LI(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(e,t){return t}class xn{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||SF}}let Qu=null;function CF(e){return!zg(e)||e.length<2?e:LI(e)}function Kg(){if(Qu)return Qu;const e=[];e.push(new xn("bucket")),e.push(new xn("generation")),e.push(new xn("metageneration")),e.push(new xn("name","fullPath",!0));function t(i,a){return CF(a)}const n=new xn("name");n.xform=t,e.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new xn("size");return s.xform=r,e.push(s),e.push(new xn("timeCreated")),e.push(new xn("updated")),e.push(new xn("md5Hash",null,!0)),e.push(new xn("cacheControl",null,!0)),e.push(new xn("contentDisposition",null,!0)),e.push(new xn("contentEncoding",null,!0)),e.push(new xn("contentLanguage",null,!0)),e.push(new xn("contentType",null,!0)),e.push(new xn("metadata","customMetadata",!0)),Qu=e,Qu}function xF(e,t){function n(){const r=e.bucket,s=e.fullPath,i=new Gn(r,s);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function DF(e,t,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,t[a.server])}return xF(r,e),r}function FI(e,t,n){const r=$I(t);return r===null?null:DF(e,r,n)}function MF(e,t,n,r){const s=$I(t);if(s===null||!zg(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(u=>{const c=e.bucket,d=e.fullPath,h="/b/"+a(c)+"/o/"+a(d),f=ph(h,n,r),m=MI({alt:"media",token:u});return f+m})[0]}function OF(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const i=t[s];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class Qg{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(e){if(!e)throw qg()}function jI(e,t){function n(r,s){const i=FI(e,s,t);return UI(i!==null),i}return n}function NF(e,t){function n(r,s){const i=FI(e,s,t);return UI(i!==null),MF(i,s,e.host,e._protocol)}return n}function BI(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=K2():s=G2():n.getStatus()===402?s=z2(e.bucket):n.getStatus()===403?s=Q2(e.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return t}function YI(e){const t=BI(e);function n(r,s){let i=t(r,s);return r.getStatus()===404&&(i=q2(e.path)),i.serverResponse=s.serverResponse,i}return n}function VF(e,t,n){const r=t.fullServerUrl(),s=ph(r,e.host,e._protocol),i="GET",a=e.maxOperationRetryTime,o=new Qg(s,i,jI(e,n),a);return o.errorHandler=YI(t),o}function $F(e,t,n){const r=t.fullServerUrl(),s=ph(r,e.host,e._protocol),i="GET",a=e.maxOperationRetryTime,o=new Qg(s,i,NF(e,n),a);return o.errorHandler=YI(t),o}function LF(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function FF(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=LF(null,t)),r}function UF(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let E="";for(let R=0;R<2;R++)E=E+Math.random().toString().slice(2);return E}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const u=FF(t,r,s),c=OF(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=ei.getBlob(d,r,h);if(f===null)throw nF();const m={name:u.fullPath},y=ph(i,e.host,e._protocol),b="POST",I=e.maxUploadRetryTime,C=new Qg(y,b,jI(e,n),I);return C.urlParams=m,C.headers=a,C.body=f.uploadData(),C.errorHandler=BI(t),C}class jF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zi.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zi.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zi.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s){if(this.sent_)throw Uo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class BF extends jF{initXhr(){this.xhr_.responseType="text"}}function Xg(){return new BF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,n){this._service=t,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ha(t,n)}get root(){const t=new Gn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LI(this._location.path)}get storage(){return this._service}get parent(){const t=RF(this._location.path);if(t===null)return null;const n=new Gn(this._location.bucket,t);return new ha(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw iF(t)}}function YF(e,t,n){e._throwIfRoot("uploadBytes");const r=UF(e.storage,e._location,Kg(),new ei(t,!0),n);return e.storage.makeRequestWithTokens(r,Xg).then(s=>({metadata:s,ref:e}))}function HF(e){e._throwIfRoot("getMetadata");const t=VF(e.storage,e._location,Kg());return e.storage.makeRequestWithTokens(t,Xg)}function WF(e){e._throwIfRoot("getDownloadURL");const t=$F(e.storage,e._location,Kg());return e.storage.makeRequestWithTokens(t,Xg).then(n=>{if(n===null)throw rF();return n})}function qF(e,t){const n=PF(e._location.path,t),r=new Gn(e._location.bucket,n);return new ha(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(e){return/^[A-Za-z]+:\/\//.test(e)}function GF(e,t){return new ha(e,t)}function HI(e,t){if(e instanceof Jg){const n=e;if(n._bucket==null)throw tF();const r=new ha(n,n._bucket);return t!=null?HI(r,t):r}else return t!==void 0?qF(e,t):e}function KF(e,t){if(t&&zF(t)){if(e instanceof Jg)return GF(e,t);throw Hp("To use ref(service, url), the first argument must be a Storage instance.")}else return HI(e,t)}function $0(e,t){const n=t==null?void 0:t[xI];return n==null?null:Gn.makeFromBucketSpec(n,e)}function QF(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:Zb(s,e.app.options.projectId))}class Jg{constructor(t,n,r,s,i){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=CI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H2,this._maxUploadRetryTime=W2,this._requests=new Set,s!=null?this._bucket=Gn.makeFromBucketSpec(s,this._host):this._bucket=$0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,t):this._bucket=$0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){V0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){V0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ha(this,t)}_makeRequest(t,n,r,s,i=!0){if(this._deleted)return new aF(DI());{const a=yF(t,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const L0="@firebase/storage",F0="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="storage";function U0(e,t,n){return e=Nt(e),YF(e,t,n)}function XF(e){return e=Nt(e),HF(e)}function j0(e){return e=Nt(e),WF(e)}function If(e,t){return e=Nt(e),KF(e,t)}function JF(e=xd(),t){e=Nt(e);const r=bi(e,WI).getImmediate({identifier:t}),s=Qb("storage");return s&&ZF(r,...s),r}function ZF(e,t,n,r={}){QF(e,t,n,r)}function eU(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Jg(n,r,s,t,_a)}function tU(){Ir(new lr(WI,eU,"PUBLIC").setMultipleInstances(!0)),Yn(L0,F0,""),Yn(L0,F0,"esm2017")}tU();let Xu;const nU=new Uint8Array(16);function rU(){if(!Xu&&(Xu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xu(nU)}const fn=[];for(let e=0;e<256;++e)fn.push((e+256).toString(16).slice(1));function sU(e,t=0){return fn[e[t+0]]+fn[e[t+1]]+fn[e[t+2]]+fn[e[t+3]]+"-"+fn[e[t+4]]+fn[e[t+5]]+"-"+fn[e[t+6]]+fn[e[t+7]]+"-"+fn[e[t+8]]+fn[e[t+9]]+"-"+fn[e[t+10]]+fn[e[t+11]]+fn[e[t+12]]+fn[e[t+13]]+fn[e[t+14]]+fn[e[t+15]]}const iU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),B0={randomUUID:iU};function aU(e,t,n){if(B0.randomUUID&&!t&&!e)return B0.randomUUID();e=e||{};const r=e.random||(e.rng||rU)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return sU(r)}const oU={apiKey:"AIzaSyBG3iD5AwRWwd8dycbOsFNKKSyOrLqMzbI",authDomain:"test-project-33abc.firebaseapp.com",projectId:"test-project-33abc",storageBucket:"test-project-33abc.appspot.com",messagingSenderId:"780047539809",appId:"1:780047539809:web:60e87c0c582ad90be41420",measurementId:"G-KH2NKJXSV0"},qI=iT(oU),Nr=P2(qI);VN(qI);const Af=JF();let fr={login:(e,t)=>{const n=cl();return new Promise((r,s)=>{n!==null?GD(n,e,t).then(i=>{i&&n.currentUser?n.currentUser.getIdToken().then(a=>{r({status:!0,message:"Login successfully."})}):r({status:!1,message:"Incorrect Email or Password."})}).catch(i=>{r({status:!1,message:"Incorrect Email or Password."})}):r({status:!1,message:"Incorrect Email or Password."})})},getUser:()=>cl().currentUser,logout:async()=>new Promise(e=>{cl().signOut().then(()=>{e(!0)}).catch(n=>{e(!0)})}),findProject:async e=>{const t=Vi(Nr,"projects",e),n=await D0(t);if(n.exists()){const r=n.data();return Object.keys(r).includes("storagePath")&&r.storagePath,{status:!0,data:{id:e,name:r.name,transactions:[]}}}return{status:!1}},getProjects:async()=>{const e=S0(Gu(Nr,"projects"));try{const t=await M0(e),n=[];return t.forEach(async r=>{const s=r.data(),i={id:r.id,name:s.name,transactions:[]};n.push(i)}),{status:!0,data:n}}catch(t){return console.log("error, ",t),typeof t=="object"&&Object.keys(t).includes("code")&&t.code=="permission-denied"?{status:!1,code:"permission_denied"}:{status:!1,code:""}}},getProjectTransactions:async e=>{const t=S0(Gu(Nr,"projects",e,"transactions"));try{const n=await M0(t),r=[];return n.forEach(async s=>{const i=s.data(),a={id:s.id,type:i.type,price:i.price,current_qty:i.current_qty,support_qty:i.support_qty,operation:i.operation,change_by_n:i.change_by_n,added_at:i.added_at};r.push(a)}),{status:!0,data:r}}catch(n){return console.log("error, ",n),typeof n=="object"&&Object.keys(n).includes("code")&&n.code=="permission-denied"?{status:!1,code:"permission_denied"}:{status:!1,code:""}}},updateProjects:async(e,t,n)=>{const r=Vi(Nr,"projects",e);await bf(r,{name:t,url:n})},addProjectTransaction:async(e,t)=>{await O0(Gu(Nr,"projects",e,"transactions"),t)},addProjects:async e=>{await O0(Gu(Nr,"projects"),{name:e,id:aU()})},updateProjectLogo:async(e,t)=>{let n=t.name.split(".").pop(),r=`${t.name.split(".").slice(0,-1).join(".")}-${new Date().getTime()}.${n}`;const s=`${e}/logo/${r}`,i=If(Af,s);await U0(i,t);const a=Vi(Nr,"projects",e);await bf(a,{filename:r,storagePath:s})},getProjectLogo:async e=>{let t=null;if(sessionStorage.getItem(btoa(e)))return atob(sessionStorage.getItem(btoa(e))??"");if(e)try{const n=If(Af,e);await XF(n),t=await j0(n),sessionStorage.setItem(btoa(e),btoa(t))}catch(n){console.log("ERR",n)}return t},setProjectHome:async(e,t)=>{const n=Vi(Nr,"projectHeading",e);let r={title:t.title,sub_title:t.sub_title,banner:null,created_at:new Date().toISOString(),updated_at:null,deleted_at:null};if(t.banner!==null){const s=await fr.uploadFile(t.banner,"heading",`${e}_heading`);s.status&&(r.banner=s.downloadUrl)}await B2(n,r)},getProjectHome:async e=>{const t=Vi(Nr,"projectHeading",e),n=await D0(t);if(n.exists()){const r=n.data();return{status:!0,data:{title:r.title,sub_title:r.sub_title,banner:r.banner,created_at:r.created_at,updated_at:r.updated_at,deleted_at:r.deleted_at}}}else return{status:!1,data:{message:"data not found"}}},updateProjectHome:async(e,t)=>{const n=Vi(Nr,"projectHeading",e);if(t.banner!=null&&typeof t.banner!="string"){const r=await fr.uploadFile(t.banner,"heading",`${e}_heading`);r.status&&(r.downloadUrl,t.banner=r.downloadUrl)}await bf(n,{...t,updated_at:new Date().toISOString()})},uploadFile:async(e,t,n)=>{const r=`${t}/${n}`,s=If(Af,r);return new Promise((i,a)=>{U0(s,e).then(o=>{j0(s).then(l=>{sessionStorage.setItem(btoa(r),btoa(l)),i({status:!0,downloadUrl:l})}).catch(()=>{i({status:!1,downloadUrl:null})})}).catch(o=>{i({status:!1,downloadUrl:null})})})}};const as=Nb({id:"auth",state:()=>({fAuth:cl(),user:null,applicationUser:null,is_fetching:!1,initProcessDone:!1,projects:null,has_permission:null,selected_project:null,project_transactions:{}}),getters:{getUser(){return this.applicationUser!==null?this.applicationUser:{name:"",email:""}},getProjects(){return this.projects!==null?this.projects:[]}},actions:{async login(e,t){let n=await fr.login(e,t);return n.status&&await this.fetchUser(!0),n},async logout(){return await fr.logout(),await this.fetchUser(!0),{status:!0,message:"Logout success."}},async fetchUser(e=!1){return(this.user==null||e)&&await new Promise((t,n)=>{const r=cl().onAuthStateChanged(s=>{r(),this.user=s,s&&(this.applicationUser={name:typeof s.displayName=="string"?s.displayName:"-",email:typeof s.email=="string"?s.email:""}),t(s)},n)}),this.user},async fetchProjects(e=!1){if(this.is_fetching=!0,this.has_permission!==!1&&(this.projects==null||e)){const t=await fr.getProjects();t.status?(this.has_permission=!0,this.projects=t.data):t.code=="permission_denied"&&(this.has_permission=!1)}return this.is_fetching=!1,this.projects},async fetchProjectTransaction(e,t=!1){if(this.is_fetching=!0,!Object.keys(this.project_transactions).includes(e)||t){const n=await fr.getProjectTransactions(e);n.status?this.project_transactions[e]=n.data:(delete this.project_transactions[e],n.code=="permission_denied"&&(this.has_permission=!1))}return this.is_fetching=!1,this.project_transactions[e]},async updateProject(e,t,n){await fr.updateProjects(e,t,n),await this.fetchProjects(!0)},async addProject(e){await fr.addProjects(e),await this.fetchProjects(!0)},async addProjectTransaction(e,t){await fr.addProjectTransaction(e,t),await this.fetchProjects(!0)},async updateProjectLogo(e,t){await fr.updateProjectLogo(e,t),await this.fetchProjects(!0)},async setProjectHome(e,t){await this.fetchProjects(!0)},async selectProject(e){this.selected_project=e}}}),mh=Nb({id:"project",state:()=>({project:null,projectUid:""}),getters:{isProjectLoad(){return this.projectUid!==""&&this.project!==null}},actions:{async loanProject(e,t=!1){if(e!==this.projectUid||this.project==null||t){const n=await fr.findProject(e);n.status?(this.project=n.data,this.projectUid=e):(this.project=null,this.projectUid="")}}}}),lU=at({__name:"App",setup(e){const t=J(!0),n=as(),r=mh(),s=Sd(),i=nu();return Kt(async()=>{let a=await n.fetchUser();n.initProcessDone=!0,t.value=!1,s.meta&&Object.keys(s.meta).includes("guard")&&(s.meta.guard=="auth"&&a==null?i.push({name:"login"}):s.meta.guard=="unauth"&&a!==null&&i.push({name:"projects"})),n.user!==null&&(await n.fetchProjects(),n.has_permission===!1&&s.name=="projects"&&(r.loanProject(n.user.uid),r.isProjectLoad&&i.push({name:"pages",params:{project_id:r.projectUid}})))}),(a,o)=>t.value?oe("",!0):(F(),Je(T(Pd),{key:0}))}});typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const uU=e=>typeof e<"u";function cU(e){return JSON.parse(JSON.stringify(e))}const jo=new Map;function dU(e){const t=dd();function n(o){var l;const u=jo.get(e)||new Set;u.add(o),jo.set(e,u);const c=()=>s(o);return(l=t==null?void 0:t.cleanups)==null||l.push(c),c}function r(o){function l(...u){s(l),o(...u)}return n(l)}function s(o){const l=jo.get(e);l&&(l.delete(o),l.size||i())}function i(){jo.delete(e)}function a(o,l){var u;(u=jo.get(e))==null||u.forEach(c=>c(o,l))}return{on:n,once:r,off:s,emit:a,reset:i}}function gh(e,t,n,r={}){var s,i,a;const{clone:o=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:h}=r,f=bd(),m=n||(f==null?void 0:f.emit)||((s=f==null?void 0:f.$emit)==null?void 0:s.bind(f))||((a=(i=f==null?void 0:f.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(f==null?void 0:f.proxy));let y=u;t||(t="modelValue"),y=y||`update:${t.toString()}`;const b=E=>o?typeof o=="function"?o(E):cU(E):E,I=()=>uU(e[t])?b(e[t]):d,C=E=>{h?h(E)&&m(y,E):m(y,E)};if(l){const E=I(),R=J(E);let N=!1;return en(()=>e[t],D=>{N||(N=!0,R.value=b(D),Ln(()=>N=!1))}),en(R,D=>{!N&&(D!==e[t]||c)&&C(D)},{deep:c}),R}else return G({get(){return I()},set(E){C(E)}})}const hU=["for"],fU=["id","disabled","placeholder","type"],pU={key:0,class:"text-red-500"},Oa=at({__name:"FormInputComponent",props:{name:{},label:{},value:{},processing:{type:Boolean},error:{type:Boolean,default:!1},errorMessage:{default:""},type:{default:"text"}},emits:["update:value"],setup(e,{emit:t}){const n=e,s=gh(n,"value",t);return(i,a)=>(F(),Z("div",null,[$("label",{for:i.name,class:"block mb-2 text-sm font-medium text-gray-900"},We(i.label),9,hU),vr($("input",{id:i.name,disabled:i.processing,placeholder:i.label,"onUpdate:modelValue":a[0]||(a[0]=o=>vt(s)?s.value=o:null),type:n.type,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},null,8,fU),[[rS,T(s)]]),n.error?(F(),Z("small",pU,We(n.errorMessage),1)):oe("",!0)]))}});function Y0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(n),!0).forEach(function(r){mU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=T(e[r])),n),{})}function Jc(e){return typeof e=="function"}function gU(e){return Es(e)||sa(e)}function zI(e,t,n){let r=e;const s=t.split(".");for(let i=0;i<s.length;i++){if(!r[s[i]])return n;r=r[s[i]]}return r}function kf(e,t,n){return G(()=>e.some(r=>zI(t,r,{[n]:!1})[n]))}function W0(e,t,n){return G(()=>e.reduce((r,s)=>{const i=zI(t,s,{[n]:!1})[n]||[];return r.concat(i)},[]))}function GI(e,t,n,r){return e.call(r,T(t),T(n),r)}function KI(e){return e.$valid!==void 0?!e.$valid:!e}function yU(e,t,n,r,s,i,a){let{$lazy:o,$rewardEarly:l}=s,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],c=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0;const f=J(!!r.value),m=J(0);n.value=!1;const y=en([t,r].concat(u,h),()=>{if(o&&!r.value||l&&!d.value&&!n.value)return;let b;try{b=GI(e,t,c,a)}catch(I){b=Promise.reject(I)}m.value++,n.value=!!m.value,f.value=!1,Promise.resolve(b).then(I=>{m.value--,n.value=!!m.value,i.value=I,f.value=KI(I)}).catch(I=>{m.value--,n.value=!!m.value,i.value=I,f.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:f,$unwatch:y}}function _U(e,t,n,r,s,i,a,o){let{$lazy:l,$rewardEarly:u}=r;const c=()=>({}),d=G(()=>{if(l&&!n.value||u&&!o.value)return!1;let h=!0;try{const f=GI(e,t,a,i);s.value=f,h=KI(f)}catch(f){s.value=f}return h});return{$unwatch:c,$invalid:d}}function vU(e,t,n,r,s,i,a,o,l,u,c){const d=J(!1),h=e.$params||{},f=J(null);let m,y;e.$async?{$invalid:m,$unwatch:y}=yU(e.$validator,t,d,n,r,f,s,e.$watchTargets,l,u,c):{$invalid:m,$unwatch:y}=_U(e.$validator,t,n,r,f,s,l,u);const b=e.$message;return{$message:Jc(b)?G(()=>b(H0({$pending:d,$invalid:m,$params:H0(h),$model:t,$response:f,$validator:i,$propertyPath:o,$property:a}))):b||"",$params:h,$pending:d,$invalid:m,$response:f,$unwatch:y}}function wU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=T(e),n=Object.keys(t),r={},s={},i={};let a=null;return n.forEach(o=>{const l=t[o];switch(!0){case Jc(l.$validator):r[o]=l;break;case Jc(l):r[o]={$validator:l};break;case o==="$validationGroups":a=l;break;case o.startsWith("$"):i[o]=l;break;default:s[o]=l}}),{rules:r,nestedValidators:s,config:i,validationGroups:a}}const bU="__root";function TU(e,t,n,r,s,i,a,o,l){const u=Object.keys(e),c=r.get(s,e),d=J(!1),h=J(!1),f=J(0);if(c){if(!c.$partial)return c;c.$unwatch(),d.value=c.$dirty.value}const m={$dirty:d,$path:s,$touch:()=>{d.value||(d.value=!0)},$reset:()=>{d.value&&(d.value=!1)},$commit:()=>{}};return u.length?(u.forEach(y=>{m[y]=vU(e[y],t,m.$dirty,i,a,y,n,s,l,h,f)}),m.$externalResults=G(()=>o.value?[].concat(o.value).map((y,b)=>({$propertyPath:s,$property:n,$validator:"$externalResults",$uid:`${s}-externalResult-${b}`,$message:y,$params:{},$response:null,$pending:!1})):[]),m.$invalid=G(()=>{const y=u.some(b=>T(m[b].$invalid));return h.value=y,!!m.$externalResults.value.length||y}),m.$pending=G(()=>u.some(y=>T(m[y].$pending))),m.$error=G(()=>m.$dirty.value?m.$pending.value||m.$invalid.value:!1),m.$silentErrors=G(()=>u.filter(y=>T(m[y].$invalid)).map(y=>{const b=m[y];return Zn({$propertyPath:s,$property:n,$validator:y,$uid:`${s}-${y}`,$message:b.$message,$params:b.$params,$response:b.$response,$pending:b.$pending})}).concat(m.$externalResults.value)),m.$errors=G(()=>m.$dirty.value?m.$silentErrors.value:[]),m.$unwatch=()=>u.forEach(y=>{m[y].$unwatch()}),m.$commit=()=>{h.value=!0,f.value=Date.now()},r.set(s,e,m),m):(c&&r.set(s,e,m),m)}function EU(e,t,n,r,s,i,a){const o=Object.keys(e);return o.length?o.reduce((l,u)=>(l[u]=Wp({validations:e[u],state:t,key:u,parentKey:n,resultsCache:r,globalConfig:s,instance:i,externalResults:a}),l),{}):{}}function IU(e,t,n){const r=G(()=>[t,n].filter(m=>m).reduce((m,y)=>m.concat(Object.values(T(y))),[])),s=G({get(){return e.$dirty.value||(r.value.length?r.value.every(m=>m.$dirty):!1)},set(m){e.$dirty.value=m}}),i=G(()=>{const m=T(e.$silentErrors)||[],y=r.value.filter(b=>(T(b).$silentErrors||[]).length).reduce((b,I)=>b.concat(...I.$silentErrors),[]);return m.concat(y)}),a=G(()=>{const m=T(e.$errors)||[],y=r.value.filter(b=>(T(b).$errors||[]).length).reduce((b,I)=>b.concat(...I.$errors),[]);return m.concat(y)}),o=G(()=>r.value.some(m=>m.$invalid)||T(e.$invalid)||!1),l=G(()=>r.value.some(m=>T(m.$pending))||T(e.$pending)||!1),u=G(()=>r.value.some(m=>m.$dirty)||r.value.some(m=>m.$anyDirty)||s.value),c=G(()=>s.value?l.value||o.value:!1),d=()=>{e.$touch(),r.value.forEach(m=>{m.$touch()})},h=()=>{e.$commit(),r.value.forEach(m=>{m.$commit()})},f=()=>{e.$reset(),r.value.forEach(m=>{m.$reset()})};return r.value.length&&r.value.every(m=>m.$dirty)&&d(),{$dirty:s,$errors:a,$invalid:o,$anyDirty:u,$error:c,$pending:l,$touch:d,$reset:f,$silentErrors:i,$commit:h}}function Wp(e){let{validations:t,state:n,key:r,parentKey:s,childResults:i,resultsCache:a,globalConfig:o={},instance:l,externalResults:u}=e;const c=s?`${s}.${r}`:r,{rules:d,nestedValidators:h,config:f,validationGroups:m}=wU(t),y=Ks(Ks({},o),f),b=r?G(()=>{const te=T(n);return te?T(te[r]):void 0}):n,I=Ks({},T(u)||{}),C=G(()=>{const te=T(u);return r?te?T(te[r]):void 0:te}),E=TU(d,b,r,a,c,y,l,C,n),R=EU(h,b,c,a,y,l,C),N={};m&&Object.entries(m).forEach(te=>{let[L,Y]=te;N[L]={$invalid:kf(Y,R,"$invalid"),$error:kf(Y,R,"$error"),$pending:kf(Y,R,"$pending"),$errors:W0(Y,R,"$errors"),$silentErrors:W0(Y,R,"$silentErrors")}});const{$dirty:D,$errors:x,$invalid:M,$anyDirty:j,$error:H,$pending:re,$touch:P,$reset:K,$silentErrors:ce,$commit:S}=IU(E,R,i),w=r?G({get:()=>T(b),set:te=>{D.value=!0;const L=T(n),Y=T(u);Y&&(Y[r]=I[r]),vt(L[r])?L[r].value=te:L[r]=te}}):null;r&&y.$autoDirty&&en(b,()=>{D.value||P();const te=T(u);te&&(te[r]=I[r])},{flush:"sync"});async function W(){return P(),y.$rewardEarly&&(S(),await Ln()),await Ln(),new Promise(te=>{if(!re.value)return te(!M.value);const L=en(re,()=>{te(!M.value),L()})})}function ee(te){return(i.value||{})[te]}function ge(){vt(u)?u.value=I:Object.keys(I).length===0?Object.keys(u).forEach(te=>{delete u[te]}):Object.assign(u,I)}return Zn(Ks(Ks(Ks({},E),{},{$model:w,$dirty:D,$error:H,$errors:x,$invalid:M,$anyDirty:j,$pending:re,$touch:P,$reset:K,$path:c||bU,$silentErrors:ce,$validate:W,$commit:S},i&&{$getResultsForChild:ee,$clearExternalResults:ge,$validationGroups:N}),R))}class AU{constructor(){this.storage=new Map}set(t,n,r){this.storage.set(t,{rules:n,result:r})}checkRulesValidity(t,n,r){const s=Object.keys(r),i=Object.keys(n);return i.length!==s.length||!i.every(o=>s.includes(o))?!1:i.every(o=>n[o].$params?Object.keys(n[o].$params).every(l=>T(r[o].$params[l])===T(n[o].$params[l])):!0)}get(t,n){const r=this.storage.get(t);if(!r)return;const{rules:s,result:i}=r,a=this.checkRulesValidity(t,n,s),o=i.$unwatch?i.$unwatch:()=>({});return a?i:{$dirty:i.$dirty,$partial:!0,$unwatch:o}}}const mc={COLLECT_ALL:!0,COLLECT_NONE:!1},q0=Symbol("vuelidate#injectChildResults"),z0=Symbol("vuelidate#removeChildResults");function kU(e){let{$scope:t,instance:n}=e;const r={},s=J([]),i=G(()=>s.value.reduce((c,d)=>(c[d]=T(r[d]),c),{}));function a(c,d){let{$registerAs:h,$scope:f,$stopPropagation:m}=d;m||t===mc.COLLECT_NONE||f===mc.COLLECT_NONE||t!==mc.COLLECT_ALL&&t!==f||(r[h]=c,s.value.push(h))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],a);function o(c){s.value=s.value.filter(d=>d!==c),delete r[c]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],o);const l=Bn(q0,[]);Ha(q0,n.__vuelidateInjectInstances);const u=Bn(z0,[]);return Ha(z0,n.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:l,removeValidationResultsFromParent:u}}function QI(e){return new Proxy(e,{get(t,n){return typeof t[n]=="object"?QI(t[n]):G(()=>t[n])}})}let G0=0;function yh(e,t){var n;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(r=e,e=void 0,t=void 0);let{$registerAs:s,$scope:i=mc.COLLECT_ALL,$stopPropagation:a,$externalResults:o,currentVueInstance:l}=r;const u=l||((n=bd())===null||n===void 0?void 0:n.proxy),c=u?u.$options:{};s||(G0+=1,s=`_vuelidate_${G0}`);const d=J({}),h=new AU,{childResults:f,sendValidationResultsToParent:m,removeValidationResultsFromParent:y}=u?kU({$scope:i,instance:u}):{childResults:J({})};if(!e&&c.validations){const b=c.validations;t=J({}),lb(()=>{t.value=u,en(()=>Jc(b)?b.call(t.value,new QI(t.value)):b,I=>{d.value=Wp({validations:I,state:t,childResults:f,resultsCache:h,globalConfig:r,instance:u,externalResults:o||u.vuelidateExternalResults})},{immediate:!0})}),r=c.validationsConfig||r}else{const b=vt(e)||gU(e)?e:Zn(e||{});en(b,I=>{d.value=Wp({validations:I,state:t,childResults:f,resultsCache:h,globalConfig:r,instance:u??{},externalResults:o})},{immediate:!0})}return u&&(m.forEach(b=>b(d,{$registerAs:s,$scope:i,$stopPropagation:a})),bm(()=>y.forEach(b=>b(s)))),G(()=>Ks(Ks({},T(d.value)),f.value))}function K0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K0(Object(n),!0).forEach(function(r){RU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zc(e){return typeof e=="function"}function qp(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function _h(e){return Zc(e.$validator)?zl({},e):{$validator:e}}function XI(e){return typeof e=="object"?e.$valid:e}function JI(e){return e.$validator||e}function PU(e,t){if(!qp(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!qp(t)&&!Zc(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=_h(t);return n.$params=zl(zl({},n.$params||{}),e),n}function SU(e,t){if(!Zc(e)&&typeof T(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!qp(t)&&!Zc(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=_h(t);return n.$message=e,n}function CU(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=_h(e);return zl(zl({},n),{},{$async:!0,$watchTargets:t})}function xU(e){return{$validator(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return T(t).reduce((i,a,o)=>{const l=Object.entries(a).reduce((u,c)=>{let[d,h]=c;const f=e[d]||{},m=Object.entries(f).reduce((y,b)=>{let[I,C]=b;const R=JI(C).call(this,h,a,o,...r),N=XI(R);if(y.$data[I]=R,y.$data.$invalid=!N||!!y.$data.$invalid,y.$data.$error=y.$data.$invalid,!N){let D=C.$message||"";const x=C.$params||{};typeof D=="function"&&(D=D({$pending:!1,$invalid:!N,$params:x,$model:h,$response:R})),y.$errors.push({$property:d,$message:D,$params:x,$response:R,$model:h,$pending:!1,$validator:I})}return{$valid:y.$valid&&N,$data:y.$data,$errors:y.$errors}},{$valid:!0,$data:{},$errors:[]});return u.$data[d]=m.$data,u.$errors[d]=m.$errors,{$valid:u.$valid&&m.$valid,$data:u.$data,$errors:u.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:i.$valid&&l.$valid,$data:i.$data.concat(l.$data),$errors:i.$errors.concat(l.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:t=>{let{$response:n}=t;return n?n.$errors.map(r=>Object.values(r).map(s=>s.map(i=>i.$message)).reduce((s,i)=>s.concat(i),[])):[]}}}const vh=e=>{if(e=T(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length},ZI=e=>(e=T(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function ki(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=>(r=T(r),!vh(r)||t.every(s=>(s.lastIndex=0,s.test(r))))}var Mn=Object.freeze({__proto__:null,forEach:xU,len:ZI,normalizeValidatorObject:_h,regex:ki,req:vh,unwrap:T,unwrapNormalizedValidator:JI,unwrapValidatorResponse:XI,withAsync:CU,withMessage:SU,withParams:PU});ki(/^[a-zA-Z]*$/);ki(/^[a-zA-Z0-9]*$/);ki(/^\d*(\.\d+)?$/);const DU=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var MU=ki(DU),OU={$validator:MU,$message:"Value is not a valid email address",$params:{type:"email"}};function NU(e){return t=>!vh(t)||ZI(t)<=T(e)}function zp(e){return{$validator:NU(e),$message:t=>{let{$params:n}=t;return`The maximum length allowed is ${n.max}`},$params:{max:e,type:"maxLength"}}}function VU(e){return typeof e=="string"&&(e=e.trim()),vh(e)}var pr={$validator:VU,$message:"Value is required",$params:{type:"required"}};const $U=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;ki($U);ki(/(^[0-9]*$)|(^-[0-9]+$)/);ki(/^[-]?\d*(\.\d+)?$/);const LU=["for"],FU=["id","disabled","placeholder","type"],UU=["value"],jU={key:0,class:"text-red-500"},Q0=at({__name:"FormSelectInputComponent",props:{name:{},label:{},value:{},options:{},processing:{type:Boolean},error:{type:Boolean,default:!1},errorMessage:{default:""},type:{default:"text"}},emits:["update:value"],setup(e,{emit:t}){const n=e,s=gh(n,"value",t);return(i,a)=>(F(),Z("div",null,[$("label",{for:i.name,class:"block mb-2 text-sm font-medium text-gray-900"},We(i.label),9,LU),vr($("select",{id:i.name,disabled:i.processing,placeholder:i.label,"onUpdate:modelValue":a[0]||(a[0]=o=>vt(s)?s.value=o:null),type:n.type,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},[(F(!0),Z(Me,null,bt(i.options,(o,l)=>(F(),Z("option",{key:l,value:o.value},We(o.label),9,UU))),128))],8,FU),[[Pb,T(s)]]),n.error?(F(),Z("small",jU,We(n.errorMessage),1)):oe("",!0)]))}});function Ne(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function pt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function mr(e,t){const n=Ne(e);return isNaN(t)?pt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function br(e,t){const n=Ne(e);if(isNaN(t))return pt(e,NaN);if(!t)return n;const r=n.getDate(),s=pt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function eA(e,t){const{years:n=0,months:r=0,weeks:s=0,days:i=0,hours:a=0,minutes:o=0,seconds:l=0}=t,u=Ne(e),c=r||n?br(u,r+n*12):u,d=i||s?mr(c,i+s*7):c,h=o+a*60,m=(l+h*60)*1e3;return pt(e,d.getTime()+m)}function BU(e,t){const n=+Ne(e);return pt(e,n+t)}const tA=6048e5,YU=864e5,HU=6e4,nA=36e5,WU=1e3;function qU(e,t){return BU(e,t*nA)}let zU={};function Ea(){return zU}function rs(e,t){var o,l,u,c;const n=Ea(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=Ne(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function po(e){return rs(e,{weekStartsOn:1})}function rA(e){const t=Ne(e),n=t.getFullYear(),r=pt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=po(r),i=pt(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=po(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function X0(e){const t=Ne(e);return t.setHours(0,0,0,0),t}function ed(e){const t=Ne(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function sA(e,t){const n=X0(e),r=X0(t),s=+n-ed(n),i=+r-ed(r);return Math.round((s-i)/YU)}function GU(e){const t=rA(e),n=pt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),po(n)}function KU(e,t){const n=t*3;return br(e,n)}function Zg(e,t){return br(e,t*12)}function iA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _l(e){if(!iA(e)&&typeof e!="number")return!1;const t=Ne(e);return!isNaN(Number(t))}function J0(e){const t=Ne(e);return Math.trunc(t.getMonth()/3)+1}function aA(e,t){const n=Ne(e.start),r=Ne(e.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0);let o=(t==null?void 0:t.step)??1;if(!o)return[];o<0&&(o=-o,s=!s);const l=[];for(;+a<=i;)l.push(Ne(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return s?l.reverse():l}function qi(e){const t=Ne(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function QU(e,t){const n=Ne(e.start),r=Ne(e.end);let s=+n>+r;const i=s?+qi(n):+qi(r);let a=qi(s?r:n),o=(t==null?void 0:t.step)??1;if(!o)return[];o<0&&(o=-o,s=!s);const l=[];for(;+a<=i;)l.push(Ne(a)),a=KU(a,o);return s?l.reverse():l}function XU(e){const t=Ne(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function oA(e){const t=Ne(e),n=pt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function JU(e,t){var o,l,u,c;const n=Ea(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=Ne(e),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function Z0(e){const t=Ne(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}const ZU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e4=(e,t,n)=>{let r;const s=ZU[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Rf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const t4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},n4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s4={date:Rf({formats:t4,defaultWidth:"full"}),time:Rf({formats:n4,defaultWidth:"full"}),dateTime:Rf({formats:r4,defaultWidth:"full"})},i4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},a4=(e,t,n,r)=>i4[e];function Bo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const o4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},u4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},h4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f4=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},p4={ordinalNumber:f4,era:Bo({values:o4,defaultWidth:"wide"}),quarter:Bo({values:l4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bo({values:u4,defaultWidth:"wide"}),day:Bo({values:c4,defaultWidth:"wide"}),dayPeriod:Bo({values:d4,defaultWidth:"wide",formattingValues:h4,defaultFormattingWidth:"wide"})};function Yo(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?g4(o,d=>d.test(a)):m4(o,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function m4(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function g4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function y4(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const _4=/^(\d+)(th|st|nd|rd)?/i,v4=/\d+/i,w4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b4={any:[/^b/i,/^(a|c)/i]},T4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E4={any:[/1/i,/2/i,/3/i,/4/i]},I4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},S4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},C4={ordinalNumber:y4({matchPattern:_4,parsePattern:v4,valueCallback:e=>parseInt(e,10)}),era:Yo({matchPatterns:w4,defaultMatchWidth:"wide",parsePatterns:b4,defaultParseWidth:"any"}),quarter:Yo({matchPatterns:T4,defaultMatchWidth:"wide",parsePatterns:E4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yo({matchPatterns:I4,defaultMatchWidth:"wide",parsePatterns:A4,defaultParseWidth:"any"}),day:Yo({matchPatterns:k4,defaultMatchWidth:"wide",parsePatterns:R4,defaultParseWidth:"any"}),dayPeriod:Yo({matchPatterns:P4,defaultMatchWidth:"any",parsePatterns:S4,defaultParseWidth:"any"})},lA={code:"en-US",formatDistance:e4,formatLong:s4,formatRelative:a4,localize:p4,match:C4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function x4(e){const t=Ne(e);return sA(t,oA(t))+1}function ey(e){const t=Ne(e),n=+po(t)-+GU(t);return Math.round(n/tA)+1}function ty(e,t){var c,d,h,f;const n=Ne(e),r=n.getFullYear(),s=Ea(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=pt(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=rs(a,t),l=pt(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=rs(l,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function D4(e,t){var o,l,u,c;const n=Ea(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=ty(e,t),i=pt(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),rs(i,t)}function ny(e,t){const n=Ne(e),r=+rs(n,t)-+D4(n,t);return Math.round(r/tA)+1}function yt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Bs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return yt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):yt(n+1,2)},d(e,t){return yt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return yt(e.getHours()%12||12,t.length)},H(e,t){return yt(e.getHours(),t.length)},m(e,t){return yt(e.getMinutes(),t.length)},s(e,t){return yt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return yt(s,t.length)}},Ra={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ew={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Bs.y(e,t)},Y:function(e,t,n,r){const s=ty(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return yt(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):yt(i,t.length)},R:function(e,t){const n=rA(e);return yt(n,t.length)},u:function(e,t){const n=e.getFullYear();return yt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Bs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=ny(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):yt(s,t.length)},I:function(e,t,n){const r=ey(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Bs.d(e,t)},D:function(e,t,n){const r=x4(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return yt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return yt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return yt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Ra.noon:r===0?s=Ra.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Ra.evening:r>=12?s=Ra.afternoon:r>=4?s=Ra.morning:s=Ra.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Bs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Bs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Bs.s(e,t)},S:function(e,t){return Bs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return nw(r);case"XXXX":case"XX":return $i(r);case"XXXXX":case"XXX":default:return $i(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return nw(r);case"xxxx":case"xx":return $i(r);case"xxxxx":case"xxx":default:return $i(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tw(r,":");case"OOOO":default:return"GMT"+$i(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tw(r,":");case"zzzz":default:return"GMT"+$i(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return yt(r,t.length)},T:function(e,t,n){const r=e.getTime();return yt(r,t.length)}};function tw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+yt(i,2)}function nw(e,t){return e%60===0?(e>0?"-":"+")+yt(Math.abs(e)/60,2):$i(e,t)}function $i(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=yt(Math.trunc(r/60),2),i=yt(r%60,2);return n+s+t+i}const rw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},M4=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return rw(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",rw(r,t)).replace("{{time}}",uA(s,t))},Gp={p:uA,P:M4},O4=/^D+$/,N4=/^Y+$/,V4=["D","DD","YY","YYYY"];function cA(e){return O4.test(e)}function dA(e){return N4.test(e)}function Kp(e,t,n){const r=$4(e,t,n);if(console.warn(r),V4.includes(e))throw new RangeError(r)}function $4(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const L4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U4=/^'([^]*?)'?$/,j4=/''/g,B4=/[a-zA-Z]/;function Xr(e,t,n){var c,d,h,f,m,y,b,I;const r=Ea(),s=(n==null?void 0:n.locale)??r.locale??lA,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((I=(b=r.locale)==null?void 0:b.options)==null?void 0:I.weekStartsOn)??0,o=Ne(e);if(!_l(o))throw new RangeError("Invalid time value");let l=t.match(F4).map(C=>{const E=C[0];if(E==="p"||E==="P"){const R=Gp[E];return R(C,s.formatLong)}return C}).join("").match(L4).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const E=C[0];if(E==="'")return{isToken:!1,value:Y4(C)};if(ew[E])return{isToken:!0,value:C};if(E.match(B4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:C}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(C=>{if(!C.isToken)return C.value;const E=C.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&dA(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&cA(E))&&Kp(E,t,String(e));const R=ew[E[0]];return R(o,E,s.localize,u)}).join("")}function Y4(e){const t=e.match(U4);return t?t[1].replace(j4,"'"):e}function H4(e){return Ne(e).getDay()}function W4(e){const t=Ne(e),n=t.getFullYear(),r=t.getMonth(),s=pt(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function q4(){return Object.assign({},Ea())}function Tr(e){return Ne(e).getHours()}function z4(e){let n=Ne(e).getDay();return n===0&&(n=7),n}function Jr(e){return Ne(e).getMinutes()}function tt(e){return Ne(e).getMonth()}function mo(e){return Ne(e).getSeconds()}function Ke(e){return Ne(e).getFullYear()}function Gl(e,t){const n=Ne(e),r=Ne(t);return n.getTime()>r.getTime()}function Kl(e,t){const n=Ne(e),r=Ne(t);return+n<+r}function Fa(e,t){const n=Ne(e),r=Ne(t);return+n==+r}function G4(e,t){const n=t instanceof Date?pt(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const K4=10;class hA{constructor(){be(this,"subPriority",0)}validate(t,n){return!0}}class Q4 extends hA{constructor(t,n,r,s,i){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class X4 extends hA{constructor(){super(...arguments);be(this,"priority",K4);be(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:pt(n,G4(n,Date))}}class mt{run(t,n,r,s){const i=this.parse(t,n,r,s);return i?{setter:new Q4(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,r){return!0}}class J4 extends mt{constructor(){super(...arguments);be(this,"priority",140);be(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const zt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ur={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gt(e,t){return e&&{value:t(e.value),rest:e.rest}}function Mt(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function jr(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*nA+i*HU+a*WU),rest:t.slice(n[0].length)}}function fA(e){return Mt(zt.anyDigitsSigned,e)}function Bt(e,t){switch(e){case 1:return Mt(zt.singleDigit,t);case 2:return Mt(zt.twoDigits,t);case 3:return Mt(zt.threeDigits,t);case 4:return Mt(zt.fourDigits,t);default:return Mt(new RegExp("^\\d{1,"+e+"}"),t)}}function td(e,t){switch(e){case 1:return Mt(zt.singleDigitSigned,t);case 2:return Mt(zt.twoDigitsSigned,t);case 3:return Mt(zt.threeDigitsSigned,t);case 4:return Mt(zt.fourDigitsSigned,t);default:return Mt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ry(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function pA(e,t){const n=t>0,r=n?t:1-t;let s;if(r<=50)s=e||100;else{const i=r+50,a=Math.trunc(i/100)*100,o=e>=i%100;s=e+a-(o?100:0)}return n?s:1-s}function mA(e){return e%400===0||e%4===0&&e%100!==0}class Z4 extends mt{constructor(){super(...arguments);be(this,"priority",130);be(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return Gt(Bt(4,n),i);case"yo":return Gt(s.ordinalNumber(n,{unit:"year"}),i);default:return Gt(Bt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const o=pA(s.year,i);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class ej extends mt{constructor(){super(...arguments);be(this,"priority",130);be(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Gt(Bt(4,n),i);case"Yo":return Gt(s.ordinalNumber(n,{unit:"year"}),i);default:return Gt(Bt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const a=ty(n,i);if(s.isTwoDigitYear){const l=pA(s.year,a);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),rs(n,i)}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),rs(n,i)}}class tj extends mt{constructor(){super(...arguments);be(this,"priority",130);be(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return td(r==="R"?4:r.length,n)}set(n,r,s){const i=pt(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),po(i)}}class nj extends mt{constructor(){super(...arguments);be(this,"priority",130);be(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return td(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class rj extends mt{constructor(){super(...arguments);be(this,"priority",120);be(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return Bt(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class sj extends mt{constructor(){super(...arguments);be(this,"priority",120);be(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return Bt(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class ij extends mt{constructor(){super(...arguments);be(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);be(this,"priority",110)}parse(n,r,s){const i=a=>a-1;switch(r){case"M":return Gt(Mt(zt.month,n),i);case"MM":return Gt(Bt(2,n),i);case"Mo":return Gt(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class aj extends mt{constructor(){super(...arguments);be(this,"priority",110);be(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=a=>a-1;switch(r){case"L":return Gt(Mt(zt.month,n),i);case"LL":return Gt(Bt(2,n),i);case"Lo":return Gt(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function oj(e,t,n){const r=Ne(e),s=ny(r,n)-t;return r.setDate(r.getDate()-s*7),r}class lj extends mt{constructor(){super(...arguments);be(this,"priority",100);be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return Mt(zt.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return Bt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return rs(oj(n,s,i),i)}}function uj(e,t){const n=Ne(e),r=ey(n)-t;return n.setDate(n.getDate()-r*7),n}class cj extends mt{constructor(){super(...arguments);be(this,"priority",100);be(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return Mt(zt.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return Bt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return po(uj(n,s))}}const dj=[31,28,31,30,31,30,31,31,30,31,30,31],hj=[31,29,31,30,31,30,31,31,30,31,30,31];class fj extends mt{constructor(){super(...arguments);be(this,"priority",90);be(this,"subPriority",1);be(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return Mt(zt.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return Bt(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=mA(s),a=n.getMonth();return i?r>=1&&r<=hj[a]:r>=1&&r<=dj[a]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class pj extends mt{constructor(){super(...arguments);be(this,"priority",90);be(this,"subpriority",1);be(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return Mt(zt.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return Bt(r.length,n)}}validate(n,r){const s=n.getFullYear();return mA(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function sy(e,t,n){var d,h,f,m;const r=Ea(),s=(n==null?void 0:n.weekStartsOn)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,i=Ne(e),a=i.getDay(),l=(t%7+7)%7,u=7-s,c=t<0||t>6?t-(a+u)%7:(l+u)%7-(a+u)%7;return mr(i,c)}class mj extends mt{constructor(){super(...arguments);be(this,"priority",90);be(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=sy(n,s,i),n.setHours(0,0,0,0),n}}class gj extends mt{constructor(){super(...arguments);be(this,"priority",90);be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Gt(Bt(r.length,n),a);case"eo":return Gt(s.ordinalNumber(n,{unit:"day"}),a);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=sy(n,s,i),n.setHours(0,0,0,0),n}}class yj extends mt{constructor(){super(...arguments);be(this,"priority",90);be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Gt(Bt(r.length,n),a);case"co":return Gt(s.ordinalNumber(n,{unit:"day"}),a);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=sy(n,s,i),n.setHours(0,0,0,0),n}}function _j(e,t){const n=Ne(e),r=z4(n),s=t-r;return mr(n,s)}class vj extends mt{constructor(){super(...arguments);be(this,"priority",90);be(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=a=>a===0?7:a;switch(r){case"i":case"ii":return Bt(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Gt(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Gt(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Gt(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Gt(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=_j(n,s),n.setHours(0,0,0,0),n}}class wj extends mt{constructor(){super(...arguments);be(this,"priority",80);be(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(ry(s),0,0,0),n}}class bj extends mt{constructor(){super(...arguments);be(this,"priority",80);be(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(ry(s),0,0,0),n}}class Tj extends mt{constructor(){super(...arguments);be(this,"priority",80);be(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(ry(s),0,0,0),n}}class Ej extends mt{constructor(){super(...arguments);be(this,"priority",70);be(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return Mt(zt.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return Bt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class Ij extends mt{constructor(){super(...arguments);be(this,"priority",70);be(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return Mt(zt.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return Bt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class Aj extends mt{constructor(){super(...arguments);be(this,"priority",70);be(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return Mt(zt.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return Bt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class kj extends mt{constructor(){super(...arguments);be(this,"priority",70);be(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return Mt(zt.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return Bt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class Rj extends mt{constructor(){super(...arguments);be(this,"priority",60);be(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return Mt(zt.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return Bt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class Pj extends mt{constructor(){super(...arguments);be(this,"priority",50);be(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return Mt(zt.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return Bt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class Sj extends mt{constructor(){super(...arguments);be(this,"priority",30);be(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Gt(Bt(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class Cj extends mt{constructor(){super(...arguments);be(this,"priority",10);be(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return jr(Ur.basicOptionalMinutes,n);case"XX":return jr(Ur.basic,n);case"XXXX":return jr(Ur.basicOptionalSeconds,n);case"XXXXX":return jr(Ur.extendedOptionalSeconds,n);case"XXX":default:return jr(Ur.extended,n)}}set(n,r,s){return r.timestampIsSet?n:pt(n,n.getTime()-ed(n)-s)}}class xj extends mt{constructor(){super(...arguments);be(this,"priority",10);be(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return jr(Ur.basicOptionalMinutes,n);case"xx":return jr(Ur.basic,n);case"xxxx":return jr(Ur.basicOptionalSeconds,n);case"xxxxx":return jr(Ur.extendedOptionalSeconds,n);case"xxx":default:return jr(Ur.extended,n)}}set(n,r,s){return r.timestampIsSet?n:pt(n,n.getTime()-ed(n)-s)}}class Dj extends mt{constructor(){super(...arguments);be(this,"priority",40);be(this,"incompatibleTokens","*")}parse(n){return fA(n)}set(n,r,s){return[pt(n,s*1e3),{timestampIsSet:!0}]}}class Mj extends mt{constructor(){super(...arguments);be(this,"priority",20);be(this,"incompatibleTokens","*")}parse(n){return fA(n)}set(n,r,s){return[pt(n,s),{timestampIsSet:!0}]}}const Oj={G:new J4,y:new Z4,Y:new ej,R:new tj,u:new nj,Q:new rj,q:new sj,M:new ij,L:new aj,w:new lj,I:new cj,d:new fj,D:new pj,E:new mj,e:new gj,c:new yj,i:new vj,a:new wj,b:new bj,B:new Tj,h:new Ej,H:new Ij,K:new Aj,k:new kj,m:new Rj,s:new Pj,S:new Sj,X:new Cj,x:new xj,t:new Dj,T:new Mj},Nj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$j=/^'([^]*?)'?$/,Lj=/''/g,Fj=/\S/,Uj=/[a-zA-Z]/;function Qp(e,t,n,r){var y,b,I,C,E,R,N,D;const s=q4(),i=(r==null?void 0:r.locale)??s.locale??lA,a=(r==null?void 0:r.firstWeekContainsDate)??((b=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??s.firstWeekContainsDate??((C=(I=s.locale)==null?void 0:I.options)==null?void 0:C.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((R=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:R.weekStartsOn)??s.weekStartsOn??((D=(N=s.locale)==null?void 0:N.options)==null?void 0:D.weekStartsOn)??0;if(t==="")return e===""?Ne(n):pt(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:o,locale:i},u=[new X4],c=t.match(Vj).map(x=>{const M=x[0];if(M in Gp){const j=Gp[M];return j(x,i.formatLong)}return x}).join("").match(Nj),d=[];for(let x of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&dA(x)&&Kp(x,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&cA(x)&&Kp(x,t,e);const M=x[0],j=Oj[M];if(j){const{incompatibleTokens:H}=j;if(Array.isArray(H)){const P=d.find(K=>H.includes(K.token)||K.token===M);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${x}\` at the same time`)}else if(j.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);d.push({token:M,fullToken:x});const re=j.run(e,x,i.match,l);if(!re)return pt(n,NaN);u.push(re.setter),e=re.rest}else{if(M.match(Uj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if(x==="''"?x="'":M==="'"&&(x=jj(x)),e.indexOf(x)===0)e=e.slice(x.length);else return pt(n,NaN)}}if(e.length>0&&Fj.test(e))return pt(n,NaN);const h=u.map(x=>x.priority).sort((x,M)=>M-x).filter((x,M,j)=>j.indexOf(x)===M).map(x=>u.filter(M=>M.priority===x).sort((M,j)=>j.subPriority-M.subPriority)).map(x=>x[0]);let f=Ne(n);if(isNaN(f.getTime()))return pt(n,NaN);const m={};for(const x of h){if(!x.validate(f,l))return pt(n,NaN);const M=x.set(f,m,l);Array.isArray(M)?(f=M[0],Object.assign(m,M[1])):f=M}return pt(n,f)}function jj(e){return e.match($j)[1].replace(Lj,"'")}function sw(e,t){const n=qi(e),r=qi(t);return+n==+r}function Bj(e,t){return mr(e,-t)}function gA(e,t){const n=Ne(e),r=n.getFullYear(),s=n.getDate(),i=pt(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const a=W4(i);return n.setMonth(t,Math.min(s,a)),n}function It(e,t){let n=Ne(e);return isNaN(+n)?pt(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=gA(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function yA(e,t){const n=Ne(e);return n.setHours(t),n}function iy(e,t){const n=Ne(e);return n.setMilliseconds(t),n}function _A(e,t){const n=Ne(e);return n.setMinutes(t),n}function ay(e,t){const n=Ne(e);return n.setSeconds(t),n}function qr(e,t){const n=Ne(e);return isNaN(+n)?pt(e,NaN):(n.setFullYear(t),n)}function go(e,t){return br(e,-t)}function Yj(e,t){const{years:n=0,months:r=0,weeks:s=0,days:i=0,hours:a=0,minutes:o=0,seconds:l=0}=t,u=go(e,r+n*12),c=Bj(u,i+s*7),d=o+a*60,f=(l+d*60)*1e3;return pt(e,c.getTime()-f)}function vA(e,t){return Zg(e,-t)}function Co(){return F(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),$("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),$("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),$("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Co.compatConfig={MODE:3};function wA(){return F(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),$("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}wA.compatConfig={MODE:3};function oy(){return F(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}oy.compatConfig={MODE:3};function ly(){return F(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ly.compatConfig={MODE:3};function uy(){return F(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),$("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}uy.compatConfig={MODE:3};function cy(){return F(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}cy.compatConfig={MODE:3};function dy(){return F(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}dy.compatConfig={MODE:3};function iw(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function Hj(e){return t=>Xr(new Date(`2017-01-0${t}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Wj=(e,t,n)=>{const r=[1,2,3,4,5,6,7];let s;if(e!==null)try{s=r.map(Hj(e))}catch{s=r.map(iw(t))}else s=r.map(iw(t));const i=s.slice(0,n),a=s.slice(n+1,s.length);return[s[n]].concat(...a).concat(...i)},hy=(e,t,n)=>{const r=[];for(let s=+e[0];s<=+e[1];s++)r.push({value:+s,text:IA(s,t)});return n?r.reverse():r},bA=(e,t,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const a=i<10?`0${i}`:i;return new Date(`2017-${a}-01T00:00:00+00:00`)});if(e!==null)try{const i=n==="long"?"MMMM":"MMM";return r.map((a,o)=>{const l=Xr(a,i,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:o}})}catch{}const s=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return r.map((i,a)=>{const o=s.format(i);return{text:o.charAt(0).toUpperCase()+o.substring(1),value:a}})},qj=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],tn=e=>{const t=T(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},zj=e=>({type:"dot",...e??{}}),TA=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,fy={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},an=e=>e,aw=e=>e===0?e:!e||isNaN(+e)?null:+e,ow=e=>e===null,EA=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},Gj=e=>{const t=[],n=r=>r.filter(s=>s);for(let r=0;r<e.length;r+=3){const s=[e[r],e[r+1],e[r+2]];t.push(n(s))}return t},Ql=(e,t,n)=>{const r=n!=null,s=t!=null;if(!r&&!s)return!1;const i=+n,a=+t;return r&&s?+e>i||+e<a:r?+e>i:s?+e<a:!1},yo=(e,t)=>Gj(e).map(n=>n.map(r=>{const{active:s,disabled:i,isBetween:a,highlighted:o}=t(r);return{...r,active:s,disabled:i,className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&s,dp__cell_in_between:a,"dp--highlighted":o}}})),di=(e,t,n=!1)=>{e&&t.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},Kj=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Qj(e,t){let n=[...document.querySelectorAll(Kj())];n=n.filter(s=>!e.contains(s)||s.hasAttribute("data-datepicker-instance"));const r=n.indexOf(e);if(r>=0&&(t?r-1>=0:r+1<=n.length))return n[r+(t?-1:1)]}const Xj=(e,t)=>e==null?void 0:e.querySelector(`[data-dp-element="${t}"]`),IA=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),py=e=>Xr(e,"dd-MM-yyyy"),Pf=e=>Array.isArray(e),nd=(e,t)=>t.get(py(e)),Jj=(e,t)=>e?t?t instanceof Map?!!nd(e,t):t(le(e)):!1:!0,lw=(e,t,n,r,s,i)=>{const a=Qp(e,t.slice(0,e.length),new Date,{locale:i});return _l(a)&&iA(a)?r||s?a:It(a,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},Zj=(e,t,n,r,s,i)=>{const a=Array.isArray(n)?n[0]:n;if(typeof t=="string")return lw(e,t,a,r,s,i);if(Array.isArray(t)){let o=null;for(const l of t)if(o=lw(e,l,a,r,s,i),o)break;return o}return typeof t=="function"?t(e):null},le=e=>e?new Date(e):new Date,e3=(e,t,n)=>{if(t){const s=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),a=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0"),l=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${s}-${i}T${a}:${o}:${l}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},Jn=e=>{let t=le(JSON.parse(JSON.stringify(e)));return t=yA(t,0),t=_A(t,0),t=ay(t,0),t=iy(t,0),t},hi=(e,t,n,r)=>{let s=e?le(e):le();return(t||t===0)&&(s=yA(s,+t)),(n||n===0)&&(s=_A(s,+n)),(r||r===0)&&(s=ay(s,+r)),iy(s,0)},Ft=(e,t)=>!e||!t?!1:Kl(Jn(e),Jn(t)),st=(e,t)=>!e||!t?!1:Fa(Jn(e),Jn(t)),qt=(e,t)=>!e||!t?!1:Gl(Jn(e),Jn(t)),wh=(e,t,n)=>e!=null&&e[0]&&e!=null&&e[1]?qt(n,e[0])&&Ft(n,e[1]):e!=null&&e[0]&&t?qt(n,e[0])&&Ft(n,t)||Ft(n,e[0])&&qt(n,t):!1,gr=e=>{const t=It(new Date(e),{date:1});return Jn(t)},Sf=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===t?[r,n]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},ea=e=>({hours:Tr(e),minutes:Jr(e),seconds:mo(e)}),AA=(e,t)=>{if(t){const n=Ke(le(t));if(n>e)return 12;if(n===e)return tt(le(t))}},kA=(e,t)=>{if(t){const n=Ke(le(t));return n<e?-1:n===e?tt(le(t)):void 0}},_o=e=>{if(e)return Ke(le(e))},RA=(e,t)=>{const n=qt(e,t)?t:e,r=qt(t,e)?t:e;return aA({start:n,end:r})},t3=e=>{const t=br(e,1);return{month:tt(t),year:Ke(t)}},ps=(e,t)=>{const n=rs(e,{weekStartsOn:+t}),r=JU(e,{weekStartsOn:+t});return[n,r]},PA=(e,t)=>{const n={hours:Tr(le()),minutes:Jr(le()),seconds:t?mo(le()):0};return Object.assign(n,e)},ni=(e,t,n)=>[It(le(e),{date:1}),It(le(),{month:t,year:n,date:1})],vs=(e,t,n)=>{let r=e?le(e):le();return(t||t===0)&&(r=gA(r,t)),n&&(r=qr(r,n)),r},SA=(e,t,n,r,s)=>{if(!r||s&&!t||!s&&!n)return!1;const i=s?br(e,1):go(e,1),a=[tt(i),Ke(i)];return s?!r3(...a,t):!n3(...a,n)},n3=(e,t,n)=>Ft(...ni(n,e,t))||st(...ni(n,e,t)),r3=(e,t,n)=>qt(...ni(n,e,t))||st(...ni(n,e,t)),CA=(e,t,n,r,s,i,a)=>{if(typeof t=="function"&&!a)return t(e);const o=n?{locale:n}:void 0;return Array.isArray(e)?`${Xr(e[0],i,o)}${s&&!e[1]?"":r}${e[1]?Xr(e[1],i,o):""}`:Xr(e,i,o)},Pa=e=>{if(e)return null;throw new Error(fy.prop("partial-range"))},Ju=(e,t)=>{if(t)return e();throw new Error(fy.prop("range"))},Xp=e=>Array.isArray(e)?_l(e[0])&&(e[1]?_l(e[1]):!0):e?_l(e):!1,s3=(e,t)=>It(t??le(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),Cf=(e,t,n,r)=>{if(!e)return!0;if(r){const s=n==="max"?Kl(e,t):Gl(e,t),i={seconds:0,milliseconds:0};return s||Fa(It(e,i),It(t,i))}return n==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},xf=(e,t,n)=>e?s3(e,t):le(n??t),uw=(e,t,n,r,s)=>{if(Array.isArray(r)){const a=xf(e,r[0],t),o=xf(e,r[1],t);return Cf(r[0],a,n,!!t)&&Cf(r[1],o,n,!!t)&&s}const i=xf(e,r,t);return Cf(r,i,n,!!t)&&s},Df=e=>It(le(),ea(e)),i3=(e,t)=>e instanceof Map?Array.from(e.values()).filter(n=>Ke(le(n))===t).map(n=>tt(n)):[],xA=(e,t,n)=>typeof e=="function"?e({month:t,year:n}):!!e.months.find(r=>r.month===t&&r.year===n),my=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),Ho=Zn({menuFocused:!1,shiftKeyInMenu:!1}),DA=()=>{const e=n=>{Ho.menuFocused=n},t=n=>{Ho.shiftKeyInMenu!==n&&(Ho.shiftKeyInMenu=n)};return{control:G(()=>({shiftKeyInMenu:Ho.shiftKeyInMenu,menuFocused:Ho.menuFocused})),setMenuFocused:e,setShiftKey:t}},kt=Zn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Mf=J(null),Zu=J(!1),Of=J(!1),Nf=J(!1),Vf=J(!1),wn=J(0),Ht=J(0),Ri=()=>{const e=G(()=>Zu.value?[...kt.selectionGrid,kt.actionRow].filter(d=>d.length):Of.value?[...kt.timePicker[0],...kt.timePicker[1],Vf.value?[]:[Mf.value],kt.actionRow].filter(d=>d.length):Nf.value?[...kt.monthPicker,kt.actionRow]:[kt.monthYear,...kt.calendar,kt.time,kt.actionRow].filter(d=>d.length)),t=d=>{wn.value=d?wn.value+1:wn.value-1;let h=null;e.value[Ht.value]&&(h=e.value[Ht.value][wn.value]),!h&&e.value[Ht.value+(d?1:-1)]?(Ht.value=Ht.value+(d?1:-1),wn.value=d?0:e.value[Ht.value].length-1):h||(wn.value=d?wn.value-1:wn.value+1)},n=d=>{Ht.value===0&&!d||Ht.value===e.value.length&&d||(Ht.value=d?Ht.value+1:Ht.value-1,e.value[Ht.value]?e.value[Ht.value]&&!e.value[Ht.value][wn.value]&&wn.value!==0&&(wn.value=e.value[Ht.value].length-1):Ht.value=d?Ht.value-1:Ht.value+1)},r=d=>{let h=null;e.value[Ht.value]&&(h=e.value[Ht.value][wn.value]),h?h.focus({preventScroll:!Zu.value}):wn.value=d?wn.value-1:wn.value+1},s=()=>{t(!0),r(!0)},i=()=>{t(!1),r(!1)},a=()=>{n(!1),r(!0)},o=()=>{n(!0),r(!0)},l=(d,h)=>{kt[h]=d},u=(d,h)=>{kt[h]=d},c=()=>{wn.value=0,Ht.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{Mf.value=d},setSelectionGrid:d=>{Zu.value=d,c(),d||(kt.selectionGrid=[])},setTimePicker:(d,h=!1)=>{Of.value=d,Vf.value=h,c(),d||(kt.timePicker[0]=[],kt.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{kt.timePicker[h]=d},arrowRight:s,arrowLeft:i,arrowUp:a,arrowDown:o,clearArrowNav:()=>{kt.monthYear=[],kt.calendar=[],kt.time=[],kt.actionRow=[],kt.selectionGrid=[],kt.timePicker[0]=[],kt.timePicker[1]=[],Zu.value=!1,Of.value=!1,Vf.value=!1,Nf.value=!1,c(),Mf.value=null},setMonthPicker:d=>{Nf.value=d,c()},refSets:kt}},As=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),MA=(e,t)=>Jp(e,t)||le(),a3=(e,t)=>t.dateInTz?As(new Date(e),t.dateInTz):le(e),Jp=(e,t)=>{if(!e)return null;if(!t)return le(e);const n=le(e);return t.exactMatch?a3(e,t):As(n,t.timezone)},o3=e=>{if(!e)return 0;const t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(t.toLocaleString("en-US",{timeZone:e})),s=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-s},cw=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),l3=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...e??{}}),dw=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,u3=e=>{const t=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:dw(!1)};const r=t?e:{},s=t?r.count??!0:e,i=dw(s);return Object.assign(n,r,{count:i})},c3=(e,t,n)=>e||(typeof n=="string"?n:t),d3=e=>typeof e=="boolean"?e?cw({}):!1:cw(e),h3=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},f3=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),p3=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),m3=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},g3=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...e??{}}),y3=e=>{const t={dates:Array.isArray(e)?e.map(n=>le(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},_3=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},v3=(e,t)=>typeof e=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...e}:{enabled:e,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,minMaxRawRange:t.minMaxRawRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,maxRange:t.maxRange,minRange:t.minRange,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd},w3=(e,t)=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:t,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:t??e.emitTimezone,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:t},$f=(e,t)=>new Map(e.map(n=>{const r=MA(n,t);return[py(r),r]})),b3=(e,t)=>e.length?new Map(e.map(n=>{const r=MA(n.date,t);return[py(r),n]})):null,T3=(e,t,n,r,s,i,a)=>({minDate:Jp(e,a),maxDate:Jp(t,a),disabledDates:Pf(n)?$f(n,a):n,allowedDates:Pf(r)?$f(r,a):null,highlight:typeof s=="object"&&Pf(s==null?void 0:s.dates)?$f(s.dates,a):s,markers:b3(i,a)}),E3=(e,t)=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:+t}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},$t=e=>{const t=()=>{const N=e.enableSeconds?":ss":"";return e.is24?`HH:mm${N}`:`hh:mm${N} aa`},n=()=>{var N;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((N=b.value)==null?void 0:N.type)==="iso"?"RR":"ww"}-yyyy`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},r=N=>PA(N,e.enableSeconds),s=()=>R.value.enabled?e.startTime&&Array.isArray(e.startTime)?[r(e.startTime[0]),r(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?r(e.startTime):null,i=G(()=>u3(e.multiCalendars)),a=G(()=>s()),o=G(()=>l3(e.ariaLabels)),l=G(()=>f3(e.filters)),u=G(()=>d3(e.transitions)),c=G(()=>p3(e.actionRow)),d=G(()=>c3(e.previewFormat,e.format,n())),h=G(()=>h3(e.textInput)),f=G(()=>m3(e.inline)),m=G(()=>g3(e.config)),y=G(()=>y3(e.highlight)),b=G(()=>_3(e.weekNumbers)),I=G(()=>w3(e.timezone,e.emitTimezone)),C=G(()=>E3(e.multiDates,e.multiDatesLimit)),E=G(()=>T3(e.minDate,e.maxDate,e.disabledDates,e.allowedDates,y.value,e.markers,I.value)),R=G(()=>v3(e.range,{minMaxRawRange:!1,maxRange:e.maxRange,minRange:e.minRange,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd}));return{defaultedTransitions:u,defaultedMultiCalendars:i,defaultedStartTime:a,defaultedAriaLabels:o,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:f,defaultedConfig:m,defaultedHighlight:y,defaultedWeekNumbers:b,defaultedRange:R,propDates:E,defaultedTz:I,defaultedMultiDates:C,getDefaultPattern:n,getDefaultStartTime:s}},I3=(e,t,n)=>{const r=J(),{defaultedTextInput:s,defaultedRange:i,defaultedTz:a,defaultedMultiDates:o,getDefaultPattern:l}=$t(t),u=J(""),c=Ic(t,"format");en(r,()=>{e("internal-model-change",r.value)},{deep:!0}),en(c,()=>{W()});const d=v=>a.value.timezone&&a.value.convertModel?As(v,a.value.timezone):v,h=v=>{if(a.value.timezone&&a.value.convertModel){const Q=o3(a.value.timezone);return qU(v,Q)}return v},f=(v,Q,X=!1)=>CA(v,t.format,t.formatLocale,s.value.rangeSeparator,t.modelAuto,Q??l(),X),m=v=>v?t.modelType?ge(v):{hours:Tr(v),minutes:Jr(v),seconds:t.enableSeconds?mo(v):0}:null,y=v=>t.modelType?ge(v):{month:tt(v),year:Ke(v)},b=v=>Array.isArray(v)?o.value.enabled?v.map(Q=>I(Q,qr(le(),Q))):Ju(()=>[qr(le(),v[0]),v[1]?qr(le(),v[1]):Pa(i.value.partialRange)],i.value.enabled):qr(le(),+v),I=(v,Q)=>(typeof v=="string"||typeof v=="number")&&t.modelType?ee(v):Q,C=v=>Array.isArray(v)?[I(v[0],hi(null,+v[0].hours,+v[0].minutes,v[0].seconds)),I(v[1],hi(null,+v[1].hours,+v[1].minutes,v[1].seconds))]:I(v,hi(null,v.hours,v.minutes,v.seconds)),E=v=>{const Q=It(le(),{date:1});return Array.isArray(v)?o.value.enabled?v.map(X=>I(X,vs(Q,+X.month,+X.year))):Ju(()=>[I(v[0],vs(Q,+v[0].month,+v[0].year)),I(v[1],v[1]?vs(Q,+v[1].month,+v[1].year):Pa(i.value.partialRange))],i.value.enabled):I(v,vs(Q,+v.month,+v.year))},R=v=>{if(Array.isArray(v))return v.map(Q=>ee(Q));throw new Error(fy.dateArr("multi-dates"))},N=v=>{if(Array.isArray(v)&&i.value.enabled){const Q=v[0],X=v[1];return[le(Array.isArray(Q)?Q[0]:null),le(Array.isArray(X)?X[0]:null)]}return le(v[0])},D=v=>t.modelAuto?Array.isArray(v)?[ee(v[0]),ee(v[1])]:t.autoApply?[ee(v)]:[ee(v),null]:Array.isArray(v)?Ju(()=>v[1]?[ee(v[0]),v[1]?ee(v[1]):Pa(i.value.partialRange)]:[ee(v[0])],i.value.enabled):ee(v),x=()=>{Array.isArray(r.value)&&i.value.enabled&&r.value.length===1&&r.value.push(Pa(i.value.partialRange))},M=()=>{const v=r.value;return[ge(v[0]),v[1]?ge(v[1]):Pa(i.value.partialRange)]},j=()=>r.value[1]?M():ge(an(r.value[0])),H=()=>(r.value||[]).map(v=>ge(v)),re=()=>(x(),t.modelAuto?j():o.value.enabled?H():Array.isArray(r.value)?Ju(()=>M(),i.value.enabled):ge(an(r.value))),P=v=>!v||Array.isArray(v)&&!v.length?null:t.timePicker?C(an(v)):t.monthPicker?E(an(v)):t.yearPicker?b(an(v)):o.value.enabled?R(an(v)):t.weekPicker?N(an(v)):D(an(v)),K=v=>{const Q=P(v);Xp(an(Q))?(r.value=an(Q),W()):(r.value=null,u.value="")},ce=()=>{const v=Q=>Xr(Q,s.value.format);return`${v(r.value[0])} ${s.value.rangeSeparator} ${r.value[1]?v(r.value[1]):""}`},S=()=>n.value&&r.value?Array.isArray(r.value)?ce():Xr(r.value,s.value.format):f(r.value),w=()=>r.value?o.value.enabled?r.value.map(v=>f(v)).join("; "):s.value.enabled&&typeof s.value.format=="string"?S():f(r.value):"",W=()=>{!t.format||typeof t.format=="string"||s.value.enabled&&typeof s.value.format=="string"?u.value=w():u.value=t.format(r.value)},ee=v=>{if(t.utc){const Q=new Date(v);return t.utc==="preserve"?new Date(Q.getTime()+Q.getTimezoneOffset()*6e4):Q}return t.modelType?t.modelType==="date"||t.modelType==="timestamp"?d(new Date(v)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?d(Qp(v,l(),new Date)):d(Qp(v,t.modelType,new Date)):d(new Date(v))},ge=v=>v?t.utc?e3(v,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+h(v):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?f(h(v)):f(h(v),t.modelType,!0):h(v):"",te=(v,Q=!1)=>{if(e("update:model-value",v),a.value.emitTimezone&&Q){const X=Array.isArray(v)?v.map(z=>As(an(z),a.value.emitTimezone)):As(an(v),a.value.emitTimezone);e("update:model-timezone-value",X)}},L=v=>Array.isArray(r.value)?o.value.enabled?r.value.map(Q=>v(Q)):[v(r.value[0]),r.value[1]?v(r.value[1]):Pa(i.value.partialRange)]:v(an(r.value)),Y=()=>{if(Array.isArray(r.value)){const v=ps(r.value[0],t.weekStart),Q=r.value[1]?ps(r.value[1],t.weekStart):[];return[v.map(X=>le(X)),Q.map(X=>le(X))]}return ps(r.value,t.weekStart).map(v=>le(v))},_=v=>te(an(L(v)));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>r.value?i.value.enabled?i.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:K,formatInputValue:W,emitModelValue:()=>(W(),t.monthPicker?_(y):t.timePicker?_(m):t.yearPicker?_(Ke):t.weekPicker?e("update:model-value",Y()):te(re(),!0))}},A3=(e,t)=>{const{defaultedFilters:n,propDates:r}=$t(e),{validateMonthYearInRange:s}=Pi(e),i=(c,d)=>{let h=c;return n.value.months.includes(tt(h))?(h=d?br(c,1):go(c,1),i(h,d)):h},a=(c,d)=>{let h=c;return n.value.years.includes(Ke(h))?(h=d?Zg(c,1):vA(c,1),a(h,d)):h},o=(c,d=!1)=>{const h=It(le(),{month:e.month,year:e.year});let f=c?br(h,1):go(h,1);e.disableYearSelect&&(f=qr(f,e.year));let m=tt(f),y=Ke(f);n.value.months.includes(m)&&(f=i(f,c),m=tt(f),y=Ke(f)),n.value.years.includes(y)&&(f=a(f,c),y=Ke(f)),s(m,y,c,e.preventMinMaxNavigation)&&l(m,y,d)},l=(c,d,h)=>{t("update-month-year",{month:c,year:d,fromNav:h})},u=G(()=>c=>SA(It(le(),{month:e.month,year:e.year}),r.value.maxDate,r.value.minDate,e.preventMinMaxNavigation,c));return{handleMonthYearChange:o,isDisabled:u,updateMonthYear:l}};var Na=(e=>(e.center="center",e.left="left",e.right="right",e))(Na||{}),hr=(e=>(e.month="month",e.year="year",e))(hr||{}),Li=(e=>(e.top="top",e.bottom="bottom",e))(Li||{}),ta=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(ta||{}),Vr=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Vr||{});const k3=({menuRef:e,menuRefInner:t,inputRef:n,pickerWrapperRef:r,inline:s,emit:i,props:a,slots:o})=>{const l=J({}),u=J(!1),c=J({top:"0",left:"0"}),d=J(!1),h=Ic(a,"teleportCenter");en(h,()=>{c.value=JSON.parse(JSON.stringify({})),R()});const f=S=>{if(a.teleport){const w=S.getBoundingClientRect();return{left:w.left+window.scrollX,top:w.top+window.scrollY}}return{top:0,left:0}},m=(S,w)=>{c.value.left=`${S+w-l.value.width}px`},y=S=>{c.value.left=`${S}px`},b=(S,w)=>{a.position===Na.left&&y(S),a.position===Na.right&&m(S,w),a.position===Na.center&&(c.value.left=`${S+w/2-l.value.width/2}px`)},I=S=>{const{width:w,height:W}=S.getBoundingClientRect(),{top:ee,left:ge}=a.altPosition?a.altPosition(S):f(S);return{top:+ee,left:+ge,width:w,height:W}},C=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},E=()=>{const S=tn(n),{top:w,left:W,transform:ee}=a.altPosition(S);c.value={top:`${w}px`,left:`${W}px`,transform:ee??""}},R=(S=!0)=>{var w;if(!s.value.enabled){if(h.value)return C();if(a.altPosition!==null)return E();if(S){const W=a.teleport?(w=t.value)==null?void 0:w.$el:e.value;W&&(l.value=W.getBoundingClientRect()),i("recalculate-position")}return re()}},N=({inputEl:S,left:w,width:W})=>{window.screen.width>768&&!u.value&&b(w,W),M(S)},D=S=>{const{top:w,left:W,height:ee,width:ge}=I(S);c.value.top=`${ee+w+ +a.offset}px`,d.value=!1,u.value||(c.value.left=`${W+ge/2-l.value.width/2}px`),N({inputEl:S,left:W,width:ge})},x=S=>{const{top:w,left:W,width:ee}=I(S);c.value.top=`${w-+a.offset-l.value.height}px`,d.value=!0,N({inputEl:S,left:W,width:ee})},M=S=>{if(a.autoPosition){const{left:w,width:W}=I(S),{left:ee,right:ge}=l.value;if(!u.value){if(Math.abs(ee)!==Math.abs(ge)){if(ee<=0)return u.value=!0,y(w);if(ge>=document.documentElement.clientWidth)return u.value=!0,m(w,W)}return b(w,W)}}},j=()=>{const S=tn(n);if(S){const{height:w}=l.value,{top:W,height:ee}=S.getBoundingClientRect(),ge=window.innerHeight-W-ee,te=W;return w<=ge?Li.bottom:w>ge&&w<=te?Li.top:ge>=te?Li.bottom:Li.top}return Li.bottom},H=S=>j()===Li.bottom?D(S):x(S),re=()=>{const S=tn(n);if(S)return a.autoPosition?H(S):D(S)},P=function(S){if(S){const w=S.scrollHeight>S.clientHeight,W=window.getComputedStyle(S).overflowY.indexOf("hidden")!==-1;return w&&!W}return!0},K=function(S){return!S||S===document.body||S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:P(S)?S:K(S.parentNode)},ce=S=>{if(S)switch(a.position){case Na.left:return{left:0,transform:"translateX(0)"};case Na.right:return{left:`${S.width}px`,transform:"translateX(-100%)"};default:return{left:`${S.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:R,getScrollableParent:K,shadowRender:(S,w)=>{var W,ee,ge;const te=document.createElement("div"),L=(W=tn(n))==null?void 0:W.getBoundingClientRect();te.setAttribute("id","dp--temp-container");const Y=(ee=r.value)!=null&&ee.clientWidth?r.value:document.body;Y.append(te);const _=ce(L),v=Id(S,{...w,shadow:!0,style:{opacity:0,position:"absolute",..._}},Object.fromEntries(Object.keys(o).filter(Q=>["right-sidebar","left-sidebar"].includes(Q)).map(Q=>[Q,o[Q]])));x_(v,te),l.value=(ge=v.el)==null?void 0:ge.getBoundingClientRect(),x_(null,te),Y.removeChild(te)}}},Ys=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],R3=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],P3={all:()=>Ys,monthYear:()=>Ys.filter(e=>e.use.includes("month-year")),input:()=>R3,timePicker:()=>Ys.filter(e=>e.use.includes("time")),action:()=>Ys.filter(e=>e.use.includes("action")),calendar:()=>Ys.filter(e=>e.use.includes("calendar")),menu:()=>Ys.filter(e=>e.use.includes("menu")),shared:()=>Ys.filter(e=>e.use.includes("shared")),yearMode:()=>Ys.filter(e=>e.use.includes("year-mode"))},Kn=(e,t,n)=>{const r=[];return P3[t]().forEach(s=>{e[s.name]&&r.push(s.name)}),n!=null&&n.length&&n.forEach(s=>{s.slot&&r.push(s.slot)}),r},Eu=e=>{const t=G(()=>r=>e.value?r?e.value.open:e.value.close:""),n=G(()=>r=>e.value?r?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:n}},Iu=(e,t)=>{const{defaultedRange:n,defaultedTz:r}=$t(e),s=le(As(le(),r.value.timezone)),i=J([{month:tt(s),year:Ke(s)}]),a=Zn({hours:n.value.enabled?[Tr(s),Tr(s)]:Tr(s),minutes:n.value.enabled?[Jr(s),Jr(s)]:Jr(s),seconds:n.value.enabled?[0,0]:0}),o=G({get:()=>e.internalModelValue,set:c=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",c)}}),l=G(()=>c=>i.value[c]?i.value[c].month:0),u=G(()=>c=>i.value[c]?i.value[c].year:0);return{calendars:i,time:a,modelValue:o,month:l,year:u}},S3=(e,t)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:s,defaultedTz:i,propDates:a,defaultedRange:o}=$t(t),{isDisabled:l}=Pi(t),u=J(null),c=J(As(new Date,i.value.timezone)),d=_=>{!_.current&&t.hideOffsetDates||(u.value=_.value)},h=()=>{u.value=null},f=_=>Array.isArray(e.value)&&o.value.enabled&&e.value[0]&&u.value?_?qt(u.value,e.value[0]):Ft(u.value,e.value[0]):!0,m=(_,v)=>{const Q=()=>e.value?v?e.value[0]||null:e.value[1]:null,X=e.value&&Array.isArray(e.value)?Q():null;return st(le(_.value),X)},y=_=>{const v=Array.isArray(e.value)?e.value[0]:null;return _?!Ft(u.value??null,v):!0},b=(_,v=!0)=>(o.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!_.current?!1:st(le(_.value),e.value[v?0:1]):o.value.enabled?m(_,v)&&y(v)||st(_.value,Array.isArray(e.value)?e.value[0]:null)&&f(v):!1,I=(_,v,Q)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?_?!1:Q?qt(e.value[0],v.value):Ft(e.value[0],v.value):!1,C=_=>!e.value||t.hideOffsetDates&&!_.current?!1:o.value.enabled?t.modelAuto&&Array.isArray(e.value)?st(_.value,e.value[0]?e.value[0]:c.value):!1:r.value.enabled&&Array.isArray(e.value)?e.value.some(v=>st(v,_.value)):st(_.value,e.value?e.value:c.value),E=_=>{if(o.value.autoRange||t.weekPicker){if(u.value){if(t.hideOffsetDates&&!_.current)return!1;const v=mr(u.value,+o.value.autoRange),Q=ps(le(u.value),t.weekStart);return t.weekPicker?st(Q[1],le(_.value)):st(v,le(_.value))}return!1}return!1},R=_=>{if(o.value.autoRange||t.weekPicker){if(u.value){const v=mr(u.value,+o.value.autoRange);if(t.hideOffsetDates&&!_.current)return!1;const Q=ps(le(u.value),t.weekStart);return t.weekPicker?qt(_.value,Q[0])&&Ft(_.value,Q[1]):qt(_.value,u.value)&&Ft(_.value,v)}return!1}return!1},N=_=>{if(o.value.autoRange||t.weekPicker){if(u.value){if(t.hideOffsetDates&&!_.current)return!1;const v=ps(le(u.value),t.weekStart);return t.weekPicker?st(v[0],_.value):st(u.value,_.value)}return!1}return!1},D=_=>wh(e.value,u.value,_.value),x=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,M=()=>t.modelAuto?TA(t.internalModelValue):!0,j=_=>{if(t.weekPicker)return!1;const v=o.value.enabled?!b(_)&&!b(_,!1):!0;return!l(_.value)&&!C(_)&&!(!_.current&&t.hideOffsetDates)&&v},H=_=>o.value.enabled?t.modelAuto?x()&&C(_):!1:C(_),re=_=>s.value?Jj(_.value,a.value.highlight):!1,P=_=>{const v=l(_.value);return v&&(typeof s.value=="function"?!s.value(_.value,v):!s.value.options.highlightDisabled)},K=_=>{var v;return typeof s.value=="function"?s.value(_.value):(v=s.value.weekdays)==null?void 0:v.includes(_.value.getDay())},ce=_=>(o.value.enabled||t.weekPicker)&&(!(n.value.count>0)||_.current)&&M()&&!(!_.current&&t.hideOffsetDates)&&!C(_)?D(_):!1,S=_=>{const{isRangeStart:v,isRangeEnd:Q}=ge(_),X=o.value.enabled?v||Q:!1;return{dp__cell_offset:!_.current,dp__pointer:!t.disabled&&!(!_.current&&t.hideOffsetDates)&&!l(_.value),dp__cell_disabled:l(_.value),dp__cell_highlight:!P(_)&&(re(_)||K(_))&&!H(_)&&!X&&!N(_)&&!(ce(_)&&t.weekPicker)&&!Q,dp__cell_highlight_active:!P(_)&&(re(_)||K(_))&&H(_),dp__today:!t.noToday&&st(_.value,c.value)&&_.current,"dp--past":Ft(_.value,c.value),"dp--future":qt(_.value,c.value)}},w=_=>({dp__active_date:H(_),dp__date_hover:j(_)}),W=_=>{if(e.value&&!Array.isArray(e.value)){const v=ps(e.value,t.weekStart);return{...L(_),dp__range_start:st(v[0],_.value),dp__range_end:st(v[1],_.value),dp__range_between_week:qt(_.value,v[0])&&Ft(_.value,v[1])}}return{...L(_)}},ee=_=>{if(e.value&&Array.isArray(e.value)){const v=ps(e.value[0],t.weekStart),Q=e.value[1]?ps(e.value[1],t.weekStart):[];return{...L(_),dp__range_start:st(v[0],_.value)||st(Q[0],_.value),dp__range_end:st(v[1],_.value)||st(Q[1],_.value),dp__range_between_week:qt(_.value,v[0])&&Ft(_.value,v[1])||qt(_.value,Q[0])&&Ft(_.value,Q[1]),dp__range_between:qt(_.value,v[1])&&Ft(_.value,Q[0])}}return{...L(_)}},ge=_=>{const v=n.value.count>0?_.current&&b(_)&&M():b(_)&&M(),Q=n.value.count>0?_.current&&b(_,!1)&&M():b(_,!1)&&M();return{isRangeStart:v,isRangeEnd:Q}},te=_=>{const{isRangeStart:v,isRangeEnd:Q}=ge(_);return{dp__range_start:v,dp__range_end:Q,dp__range_between:ce(_),dp__date_hover:j(_),dp__date_hover_start:I(j(_),_,!0),dp__date_hover_end:I(j(_),_,!1)}},L=_=>({...te(_),dp__cell_auto_range:R(_),dp__cell_auto_range_start:N(_),dp__cell_auto_range_end:E(_)}),Y=_=>o.value.enabled?o.value.autoRange?L(_):t.modelAuto?{...w(_),...te(_)}:t.weekPicker?ee(_):te(_):t.weekPicker?W(_):w(_);return{setHoverDate:d,clearHoverDate:h,getDayClassData:_=>t.hideOffsetDates&&!_.current?{}:{...S(_),...Y(_),[t.dayClass?t.dayClass(_.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName}}},Pi=e=>{const{defaultedFilters:t,defaultedRange:n,propDates:r,defaultedMultiDates:s}=$t(e),i=P=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(le(P)):!!nd(P,r.value.disabledDates):!1,a=P=>{const K=r.value.maxDate?qt(P,r.value.maxDate):!1,ce=r.value.minDate?Ft(P,r.value.minDate):!1,S=i(P),w=t.value.months.map(L=>+L).includes(tt(P)),W=e.disabledWeekDays.length?e.disabledWeekDays.some(L=>+L===H4(P)):!1,ee=d(P),ge=Ke(P),te=ge<+e.yearRange[0]||ge>+e.yearRange[1];return!(K||ce||S||w||te||W||ee)},o=(P,K)=>Ft(...ni(r.value.minDate,P,K))||st(...ni(r.value.minDate,P,K)),l=(P,K)=>qt(...ni(r.value.maxDate,P,K))||st(...ni(r.value.maxDate,P,K)),u=(P,K,ce)=>{let S=!1;return r.value.maxDate&&ce&&l(P,K)&&(S=!0),r.value.minDate&&!ce&&o(P,K)&&(S=!0),S},c=(P,K,ce,S)=>{let w=!1;return S?r.value.minDate&&r.value.maxDate?w=u(P,K,ce):(r.value.minDate&&o(P,K)||r.value.maxDate&&l(P,K))&&(w=!0):w=!0,w},d=P=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!nd(P,r.value.allowedDates):!1,h=P=>!a(P),f=P=>n.value.noDisabledRange?!aA({start:P[0],end:P[1]}).some(K=>h(K)):!0,m=P=>{if(P){const K=Ke(P);return K>=+e.yearRange[0]&&K<=e.yearRange[1]}return!0},y=(P,K)=>!!(Array.isArray(P)&&P[K]&&(n.value.maxRange||n.value.minRange)&&m(P[K])),b=(P,K,ce=0)=>{if(y(K,ce)&&m(P)){const S=sA(P,K[ce]),w=RA(K[ce],P),W=w.length===1?0:w.filter(ge=>h(ge)).length,ee=Math.abs(S)-(n.value.minMaxRawRange?0:W);if(n.value.minRange&&n.value.maxRange)return ee>=+n.value.minRange&&ee<=+n.value.maxRange;if(n.value.minRange)return ee>=+n.value.minRange;if(n.value.maxRange)return ee<=+n.value.maxRange}return!0},I=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,C=P=>Array.isArray(P)?[P[0]?Df(P[0]):null,P[1]?Df(P[1]):null]:Df(P),E=(P,K,ce)=>P.find(S=>+S.hours===Tr(K)&&S.minutes==="*"?!0:+S.minutes===Jr(K)&&+S.hours===Tr(K))&&ce,R=(P,K,ce)=>{const[S,w]=P,[W,ee]=K;return!E(S,W,ce)&&!E(w,ee,ce)&&ce},N=(P,K)=>{const ce=Array.isArray(K)?K:[K];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?R(e.disabledTimes,ce,P):!ce.some(S=>E(e.disabledTimes,S,P)):P},D=(P,K)=>{const ce=Array.isArray(K)?[ea(K[0]),K[1]?ea(K[1]):void 0]:ea(K),S=!e.disabledTimes(ce);return P&&S},x=(P,K)=>e.disabledTimes?Array.isArray(e.disabledTimes)?N(K,P):D(K,P):K,M=P=>{let K=!0;if(!P||I())return!0;const ce=!r.value.minDate&&!r.value.maxDate?C(P):P;return(e.maxTime||r.value.maxDate)&&(K=uw(e.maxTime,r.value.maxDate,"max",an(ce),K)),(e.minTime||r.value.minDate)&&(K=uw(e.minTime,r.value.minDate,"min",an(ce),K)),x(P,K)},j=P=>{if(!e.monthPicker)return!0;let K=!0;const ce=le(gr(P));if(r.value.minDate&&r.value.maxDate){const S=le(gr(r.value.minDate)),w=le(gr(r.value.maxDate));return qt(ce,S)&&Ft(ce,w)||st(ce,S)||st(ce,w)}if(r.value.minDate){const S=le(gr(r.value.minDate));K=qt(ce,S)||st(ce,S)}if(r.value.maxDate){const S=le(gr(r.value.maxDate));K=Ft(ce,S)||st(ce,S)}return K},H=G(()=>P=>!e.enableTimePicker||e.ignoreTimeValidation?!0:M(P)),re=G(()=>P=>e.monthPicker?Array.isArray(P)&&(n.value.enabled||s.value.enabled)?!P.filter(K=>!j(K)).length:j(P):!0);return{isDisabled:h,validateDate:a,validateMonthYearInRange:c,isDateRangeAllowed:f,checkMinMaxRange:b,isValidTime:M,isTimeValid:H,isMonthValid:re}},bh=()=>{const e=G(()=>(r,s)=>r==null?void 0:r.includes(s)),t=G(()=>(r,s)=>r.count?r.solo?!0:s===0:!0),n=G(()=>(r,s)=>r.count?r.solo?!0:s===r.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:n}},C3=(e,t,n)=>{const r=J(0),s=Zn({[ta.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[ta.calendar]:!1,[ta.header]:!1}),i=G(()=>e.monthPicker),a=d=>{var h;if((h=e.flow)!=null&&h.length){if(!d&&i.value)return c();s[d]=!0,Object.keys(s).filter(f=>!s[f]).length||c()}},o=()=>{var d;(d=e.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,t("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,h,...f)=>{var m,y;e.flow[r.value]===d&&n.value&&((y=(m=n.value)[h])==null||y.call(m,...f))},c=()=>{u(Vr.month,"toggleMonthPicker",!0),u(Vr.year,"toggleYearPicker",!0),u(Vr.calendar,"toggleTimePicker",!1,!0),u(Vr.time,"toggleTimePicker",!0,!0);const d=e.flow[r.value];(d===Vr.hours||d===Vr.minutes||d===Vr.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:a,updateFlowStep:o,resetFlow:l,flowStep:r}},Th={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},Cr={...Th,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null}},x3={key:1,class:"dp__input_wrap"},D3=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],M3={key:2,class:"dp__clear_icon"},O3=at({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Th},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:t,emit:n}){const r=n,s=e,{defaultedTextInput:i,defaultedAriaLabels:a,defaultedInline:o,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d,getDefaultStartTime:h}=$t(s),{checkMinMaxRange:f}=Pi(s),m=J(),y=J(null),b=J(!1),I=J(!1),C=G(()=>({dp__pointer:!s.disabled&&!s.readonly&&!i.value.enabled,dp__disabled:s.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_icon_pad:!s.hideInputIcon,dp__input_valid:!!s.state,dp__input_invalid:s.state===!1,dp__input_focus:b.value||s.isMenuOpen,dp__input_reg:!i.value.enabled,[s.inputClassName]:!!s.inputClassName})),E=()=>{r("set-input-date",null),s.autoApply&&(r("set-empty-date"),m.value=null)},R=w=>{const W=h();return Zj(w,i.value.format??d(),W??PA({},s.enableSeconds),s.inputValue,I.value,s.formatLocale)},N=w=>{const{rangeSeparator:W}=i.value,[ee,ge]=w.split(`${W}`);if(ee){const te=R(ee.trim()),L=ge?R(ge.trim()):null,Y=te&&L?[te,L]:[te];f(L,Y,0)&&(m.value=te?Y:null)}},D=()=>{I.value=!0},x=w=>{if(u.value.enabled)N(w);else if(c.value.enabled){const W=w.split(";");m.value=W.map(ee=>R(ee.trim())).filter(ee=>ee)}else m.value=R(w)},M=w=>{var W;const ee=typeof w=="string"?w:(W=w.target)==null?void 0:W.value;ee!==""?(i.value.openMenu&&!s.isMenuOpen&&r("open"),x(ee),r("set-input-date",m.value)):E(),I.value=!1,r("update:input-value",ee)},j=w=>{i.value.enabled?(x(w.target.value),i.value.enterSubmit&&Xp(m.value)&&s.inputValue!==""?(r("set-input-date",m.value,!0),m.value=null):i.value.enterSubmit&&s.inputValue===""&&(m.value=null,r("clear"))):P(w)},H=w=>{i.value.enabled&&i.value.tabSubmit&&x(w.target.value),i.value.tabSubmit&&Xp(m.value)&&s.inputValue!==""?(r("set-input-date",m.value,!0,!0),m.value=null):i.value.tabSubmit&&s.inputValue===""&&(m.value=null,r("clear",!0))},re=()=>{b.value=!0,r("focus"),Ln().then(()=>{var w;i.value.enabled&&i.value.selectOnFocus&&((w=y.value)==null||w.select())})},P=w=>{w.preventDefault(),di(w,l.value,!0),i.value.enabled&&i.value.openMenu&&!o.value.input&&!s.isMenuOpen?r("open"):i.value.enabled||r("toggle")},K=()=>{r("real-blur"),b.value=!1,(!s.isMenuOpen||o.value.enabled&&o.value.input)&&r("blur"),s.autoApply&&i.value.enabled&&m.value&&!s.isMenuOpen&&(r("set-input-date",m.value),r("select-date"),m.value=null)},ce=w=>{di(w,l.value,!0),r("clear")},S=w=>{if(!i.value.enabled){if(w.code==="Tab")return;w.preventDefault()}};return t({focusInput:()=>{var w;(w=y.value)==null||w.focus({preventScroll:!0})},setParsedDate:w=>{m.value=w}}),(w,W)=>{var ee;return F(),Z("div",{onClick:P},[w.$slots.trigger&&!w.$slots["dp-input"]&&!T(o).enabled?ke(w.$slots,"trigger",{key:0}):oe("",!0),!w.$slots.trigger&&(!T(o).enabled||T(o).input)?(F(),Z("div",x3,[w.$slots["dp-input"]&&!w.$slots.trigger&&(!T(o).enabled||T(o).enabled&&T(o).input)?ke(w.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:M,onEnter:j,onTab:H,onClear:ce,onBlur:K,onKeypress:S,onPaste:D,openMenu:()=>w.$emit("open"),closeMenu:()=>w.$emit("close"),toggleMenu:()=>w.$emit("toggle")}):oe("",!0),w.$slots["dp-input"]?oe("",!0):(F(),Z("input",{key:1,id:w.uid?`dp-input-${w.uid}`:void 0,ref_key:"inputRef",ref:y,name:w.name,class:Xe(C.value),inputmode:T(i).enabled?"text":"none",placeholder:w.placeholder,disabled:w.disabled,readonly:w.readonly,required:w.required,value:e.inputValue,autocomplete:w.autocomplete,"aria-label":(ee=T(a))==null?void 0:ee.input,"aria-disabled":w.disabled||void 0,"aria-invalid":w.state===!1?!0:void 0,onInput:M,onKeydown:[Ye(j,["enter"]),Ye(H,["tab"]),S],onBlur:K,onFocus:re,onKeypress:S,onPaste:D},null,42,D3)),$("div",{onClick:W[2]||(W[2]=ge=>r("toggle"))},[w.$slots["input-icon"]&&!w.hideInputIcon?(F(),Z("span",{key:0,class:"dp__input_icon",onClick:W[0]||(W[0]=ge=>r("toggle"))},[ke(w.$slots,"input-icon")])):oe("",!0),!w.$slots["input-icon"]&&!w.hideInputIcon&&!w.$slots["dp-input"]?(F(),Je(T(Co),{key:1,class:"dp__input_icon dp__input_icons",onClick:W[1]||(W[1]=ge=>r("toggle"))})):oe("",!0)]),w.$slots["clear-icon"]&&e.inputValue&&w.clearable&&!w.disabled&&!w.readonly?(F(),Z("span",M3,[ke(w.$slots,"clear-icon",{clear:ce})])):oe("",!0),w.clearable&&!w.$slots["clear-icon"]&&e.inputValue&&!w.disabled&&!w.readonly?(F(),Je(T(wA),{key:3,class:"dp__clear_icon dp__input_icons",onClick:W[3]||(W[3]=ft(ge=>ce(ge),["prevent"]))})):oe("",!0)])):oe("",!0)])}}}),N3=["title"],V3=["disabled"],$3=at({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Cr},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=t,r=e,{defaultedActionRow:s,defaultedPreviewFormat:i,defaultedMultiCalendars:a,defaultedTextInput:o,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d}=$t(r),{isTimeValid:h,isMonthValid:f}=Pi(r),{buildMatrix:m}=Ri(),y=J(null),b=J(null),I=J(!1),C=J({}),E=J(null),R=J(null);Kt(()=>{r.arrowNavigation&&m([tn(y),tn(b)],"actionRow"),N(),window.addEventListener("resize",N)}),wo(()=>{window.removeEventListener("resize",N)});const N=()=>{I.value=!1,setTimeout(()=>{var S,w;const W=(S=E.value)==null?void 0:S.getBoundingClientRect(),ee=(w=R.value)==null?void 0:w.getBoundingClientRect();W&&ee&&(C.value.maxWidth=`${ee.width-W.width-20}px`),I.value=!0},0)},D=G(()=>u.value.enabled&&!u.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),x=G(()=>!h.value(r.internalModelValue)||!f.value(r.internalModelValue)||!D.value),M=()=>{const S=i.value;return r.timePicker||r.monthPicker,S(an(r.internalModelValue))},j=()=>{const S=r.internalModelValue;return a.value.count>0?`${H(S[0])} - ${H(S[1])}`:[H(S[0]),H(S[1])]},H=S=>CA(S,i.value,r.formatLocale,o.value.rangeSeparator,r.modelAuto,d()),re=G(()=>!r.internalModelValue||!r.menuMount?"":typeof i.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?j():c.value.enabled?r.internalModelValue.map(S=>`${H(S)}`):r.modelAuto?`${H(r.internalModelValue[0])}`:`${H(r.internalModelValue[0])} -`:H(r.internalModelValue):M()),P=()=>c.value.enabled?"; ":" - ",K=G(()=>Array.isArray(re.value)?re.value.join(P()):re.value),ce=()=>{h.value(r.internalModelValue)&&f.value(r.internalModelValue)&&D.value?n("select-date"):n("invalid-select")};return(S,w)=>(F(),Z("div",{ref_key:"actionRowRef",ref:R,class:"dp__action_row"},[S.$slots["action-row"]?ke(S.$slots,"action-row",Zt(cn({key:0},{internalModelValue:S.internalModelValue,disabled:x.value,selectDate:()=>S.$emit("select-date"),closePicker:()=>S.$emit("close-picker")}))):(F(),Z(Me,{key:1},[T(s).showPreview?(F(),Z("div",{key:0,class:"dp__selection_preview",title:K.value,style:On(C.value)},[S.$slots["action-preview"]&&I.value?ke(S.$slots,"action-preview",{key:0,value:S.internalModelValue}):oe("",!0),!S.$slots["action-preview"]&&I.value?(F(),Z(Me,{key:1},[es(We(K.value),1)],64)):oe("",!0)],12,N3)):oe("",!0),$("div",{ref_key:"actionBtnContainer",ref:E,class:"dp__action_buttons","data-dp-element":"action-row"},[S.$slots["action-buttons"]?ke(S.$slots,"action-buttons",{key:0,value:S.internalModelValue}):oe("",!0),S.$slots["action-buttons"]?oe("",!0):(F(),Z(Me,{key:1},[!T(l).enabled&&T(s).showCancel?(F(),Z("button",{key:0,ref_key:"cancelButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_cancel",onClick:w[0]||(w[0]=W=>S.$emit("close-picker")),onKeydown:[w[1]||(w[1]=Ye(W=>S.$emit("close-picker"),["enter"])),w[2]||(w[2]=Ye(W=>S.$emit("close-picker"),["space"]))]},We(S.cancelText),545)):oe("",!0),T(s).showNow?(F(),Z("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:w[3]||(w[3]=W=>S.$emit("select-now")),onKeydown:[w[4]||(w[4]=Ye(W=>S.$emit("select-now"),["enter"])),w[5]||(w[5]=Ye(W=>S.$emit("select-now"),["space"]))]},We(S.nowButtonLabel),33)):oe("",!0),T(s).showSelect?(F(),Z("button",{key:2,ref_key:"selectButtonRef",ref:b,type:"button",class:"dp__action_button dp__action_select",disabled:x.value,onKeydown:[Ye(ce,["enter"]),Ye(ce,["space"])],onClick:ce},We(S.selectText),41,V3)):oe("",!0)],64))],512)],64))],512))}}),L3=["onKeydown"],F3={class:"dp__selection_grid_header"},U3=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],j3=["aria-label"],Au=at({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:s,setMonthPicker:i}=Ri(),a=n,o=e,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=$t(o),{hideNavigationButtons:d}=bh(),h=J(!1),f=J(null),m=J(null),y=J([]),b=J(),I=J(null),C=J(0),E=J(null);ub(()=>{f.value=null}),Kt(()=>{Ln().then(()=>re()),o.noOverlayFocus||N(),R(!0)}),wo(()=>R(!1));const R=te=>{var L;o.arrowNavigation&&((L=o.headerRefs)!=null&&L.length?i(te):r(te))},N=()=>{var te;const L=tn(m);L&&(u.value.enabled||(f.value?(te=f.value)==null||te.focus({preventScroll:!0}):L.focus({preventScroll:!0})),h.value=L.clientHeight<L.scrollHeight)},D=G(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),x=G(()=>o.useRelative?{height:`${o.height}px`,width:"260px"}:void 0),M=G(()=>({dp__overlay_col:!0})),j=G(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:o.isLast})),H=G(()=>{var te,L;return{dp__overlay_container:!0,dp__container_flex:((te=o.items)==null?void 0:te.length)<=6,dp__container_block:((L=o.items)==null?void 0:L.length)>6}});en(()=>o.items,()=>re(!1),{deep:!0});const re=(te=!0)=>{Ln().then(()=>{const L=tn(f),Y=tn(m),_=tn(I),v=tn(E),Q=_?_.getBoundingClientRect().height:0;Y&&(Y.getBoundingClientRect().height?C.value=Y.getBoundingClientRect().height-Q:C.value=c.value.modeHeight-Q),L&&v&&te&&(v.scrollTop=L.offsetTop-v.offsetTop-(C.value/2-L.getBoundingClientRect().height)-Q)})},P=te=>{te.disabled||a("selected",te.value)},K=()=>{a("toggle"),a("reset-flow")},ce=()=>{o.escClose&&K()},S=(te,L,Y,_)=>{te&&((L.active||L.value===o.focusValue)&&(f.value=te),o.arrowNavigation&&(Array.isArray(y.value[Y])?y.value[Y][_]=te:y.value[Y]=[te],w()))},w=()=>{var te,L;const Y=(te=o.headerRefs)!=null&&te.length?[o.headerRefs].concat(y.value):y.value.concat([o.skipButtonRef?[]:[I.value]]);s(an(Y),(L=o.headerRefs)!=null&&L.length?"monthPicker":"selectionGrid")},W=te=>{o.arrowNavigation||di(te,c.value,!0)},ee=te=>{b.value=te,a("hover-value",te)},ge=()=>{if(K(),!o.isLast){const te=Xj(o.menuWrapRef??null,"action-row");if(te){const L=EA(te);L==null||L.focus()}}};return t({focusGrid:N}),(te,L)=>{var Y;return F(),Z("div",{ref_key:"gridWrapRef",ref:m,class:Xe(D.value),style:On(x.value),role:"dialog",tabindex:"0",onKeydown:[Ye(ft(ce,["prevent"]),["esc"]),L[0]||(L[0]=Ye(ft(_=>W(_),["prevent"]),["left"])),L[1]||(L[1]=Ye(ft(_=>W(_),["prevent"]),["up"])),L[2]||(L[2]=Ye(ft(_=>W(_),["prevent"]),["down"])),L[3]||(L[3]=Ye(ft(_=>W(_),["prevent"]),["right"]))]},[$("div",{ref_key:"containerRef",ref:E,class:Xe(H.value),role:"grid",style:On({height:`${C.value}px`})},[$("div",F3,[ke(te.$slots,"header")]),te.$slots.overlay?ke(te.$slots,"overlay",{key:0}):(F(!0),Z(Me,{key:1},bt(te.items,(_,v)=>(F(),Z("div",{key:v,class:Xe(["dp__overlay_row",{dp__flex_row:te.items.length>=3}]),role:"row"},[(F(!0),Z(Me,null,bt(_,(Q,X)=>(F(),Z("div",{key:Q.value,ref_for:!0,ref:z=>S(z,Q,v,X),role:"gridcell",class:Xe(M.value),"aria-selected":Q.active||void 0,"aria-disabled":Q.disabled||void 0,tabindex:"0",onClick:z=>P(Q),onKeydown:[Ye(ft(z=>P(Q),["prevent"]),["enter"]),Ye(ft(z=>P(Q),["prevent"]),["space"])],onMouseover:z=>ee(Q.value)},[$("div",{class:Xe(Q.className)},[te.$slots.item?ke(te.$slots,"item",{key:0,item:Q}):oe("",!0),te.$slots.item?oe("",!0):(F(),Z(Me,{key:1},[es(We(Q.text),1)],64))],2)],42,U3))),128))],2))),128))],6),te.$slots["button-icon"]?vr((F(),Z("button",{key:0,ref_key:"toggleButton",ref:I,type:"button","aria-label":(Y=T(l))==null?void 0:Y.toggleOverlay,class:Xe(j.value),tabindex:"0",onClick:K,onKeydown:[Ye(K,["enter"]),Ye(ge,["tab"])]},[ke(te.$slots,"button-icon")],42,j3)),[[ac,!T(d)(te.hideNavigation,te.type)]]):oe("",!0)],46,L3)}}}),Eh=at({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const t=e,n=G(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),r=G(()=>({dp__instance_calendar:t.multiCalendars>0}));return(s,i)=>(F(),Z("div",{class:Xe({dp__menu_inner:!s.stretch,"dp--menu--inner-stretched":s.stretch,dp__flex_display:s.multiCalendars>0,"dp--flex-display-collapsed":s.collapse})},[(F(!0),Z(Me,null,bt(n.value,(a,o)=>(F(),Z("div",{key:a,class:Xe(r.value)},[ke(s.$slots,"default",{instance:a,index:o})],2))),128))],2))}}),B3=["aria-label","aria-disabled"],vl=at({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=t,r=J(null);return Kt(()=>n("set-ref",r)),(s,i)=>(F(),Z("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":s.ariaLabel,"aria-disabled":s.disabled||void 0,onClick:i[0]||(i[0]=a=>s.$emit("activate")),onKeydown:[i[1]||(i[1]=Ye(ft(a=>s.$emit("activate"),["prevent"]),["enter"])),i[2]||(i[2]=Ye(ft(a=>s.$emit("activate"),["prevent"]),["space"]))]},[$("span",{class:Xe(["dp__inner_nav",{dp__inner_nav_disabled:s.disabled}])},[ke(s.$slots,"default")],2)],40,B3))}}),Y3={class:"dp--year-mode-picker"},H3=["aria-label"],OA=at({__name:"YearModePicker",props:{...Cr,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const n=t,r=e,{showRightIcon:s,showLeftIcon:i}=bh(),{defaultedConfig:a,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:u}=$t(r),{showTransition:c,transitionName:d}=Eu(u),h=(y=!1,b)=>{n("toggle-year-picker",{flow:y,show:b})},f=y=>{n("year-select",y)},m=(y=!1)=>{n("handle-year",y)};return(y,b)=>{var I,C,E;return F(),Z("div",Y3,[T(i)(T(o),e.instance)?(F(),Je(vl,{key:0,ref:"mpPrevIconRef","aria-label":(I=T(l))==null?void 0:I.prevYear,disabled:e.isDisabled(!1),onActivate:b[0]||(b[0]=R=>m(!1))},{default:Qe(()=>[y.$slots["arrow-left"]?ke(y.$slots,"arrow-left",{key:0}):oe("",!0),y.$slots["arrow-left"]?oe("",!0):(F(),Je(T(oy),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),$("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(C=T(l))==null?void 0:C.openYearsOverlay,onClick:b[1]||(b[1]=()=>h(!1)),onKeydown:b[2]||(b[2]=Ye(()=>h(!1),["enter"]))},[y.$slots.year?ke(y.$slots,"year",{key:0,year:e.year}):oe("",!0),y.$slots.year?oe("",!0):(F(),Z(Me,{key:1},[es(We(e.year),1)],64))],40,H3),T(s)(T(o),e.instance)?(F(),Je(vl,{key:1,ref:"mpNextIconRef","aria-label":(E=T(l))==null?void 0:E.nextYear,disabled:e.isDisabled(!0),onActivate:b[3]||(b[3]=R=>m(!0))},{default:Qe(()=>[y.$slots["arrow-right"]?ke(y.$slots,"arrow-right",{key:0}):oe("",!0),y.$slots["arrow-right"]?oe("",!0):(F(),Je(T(ly),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),Le(is,{name:T(d)(e.showYearPicker),css:T(c)},{default:Qe(()=>[e.showYearPicker?(F(),Je(Au,{key:0,items:e.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!T(a).keepActionRow,"hide-navigation":y.hideNavigation,"aria-labels":y.ariaLabels,type:"year",onToggle:h,onSelected:b[4]||(b[4]=R=>f(R))},Vn({"button-icon":Qe(()=>[y.$slots["calendar-icon"]?ke(y.$slots,"calendar-icon",{key:0}):oe("",!0),y.$slots["calendar-icon"]?oe("",!0):(F(),Je(T(Co),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:R})=>[ke(y.$slots,"year-overlay-value",{text:R.text,value:R.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):oe("",!0)]),_:3},8,["name","css"])])}}}),gy=(e,t,n)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(r=>st(e,r))){const r=t.value.filter(s=>!st(s,e));t.value=r.length?r:null}else(n&&+n>t.value.length||!n)&&t.value.push(e);else t.value=[e]},yy=(e,t,n)=>{let r=e.value?e.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Ft(t,r[0])?(r.unshift(t),n("range-start",r[0]),n("range-start",r[1])):(r[1]=t,n("range-end",t)):(r=[t],n("range-start",t)),r},Ih=(e,t,n,r)=>{e&&(e[0]&&e[1]&&n&&t("auto-apply"),e[0]&&!e[1]&&r&&n&&t("auto-apply"))},NA=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>As(le(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=As(le(e.value),e.timezone))},VA=(e,t,n,r)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(qt(e,t.value[0])||st(e,t.value[0]))?[t.value[0],e]:r.value.fixedEnd&&(Ft(e,t.value[1])||st(e,t.value[1]))?[e,t.value[1]]:(n("invalid-fixed-range",e),t.value):[],$A=({multiCalendars:e,highlight:t,propDates:n,calendars:r,modelValue:s,props:i,filters:a,year:o,month:l,emit:u})=>{const c=G(()=>hy(i.yearRange,i.locale,i.reverseYears)),d=J([!1]),h=G(()=>(D,x)=>{const M=It(gr(new Date),{month:l.value(D),year:o.value(D)});return SA(M,n.value.maxDate,n.value.minDate,i.preventMinMaxNavigation,x)}),f=()=>{for(let D=0;D<e.value.count;D++)if(D===0)r.value[D]=r.value[0];else{const x=It(le(),r.value[D-1]);r.value[D]={month:tt(x),year:Ke(Zg(x,1))}}},m=D=>{if(!D)return f();const x=It(le(),r.value[D]);return r.value[0].year=Ke(vA(x,e.value.count-1)),f()},y=D=>i.focusStartDate?D[0]:D[1]?D[1]:D[0],b=()=>{if(s.value){const D=Array.isArray(s.value)?y(s.value):s.value;r.value[0]={month:tt(D),year:Ke(D)}}};Kt(()=>{b(),e.value.count&&f()});const I=(D,x)=>{r.value[x].year=D,e.value.count&&!e.value.solo&&m(x)},C=G(()=>D=>yo(c.value,x=>{var M;const j=o.value(D)===x.value,H=Ql(x.value,_o(n.value.minDate),_o(n.value.maxDate))||((M=a.value.years)==null?void 0:M.includes(o.value(D))),re=my(t.value,x.value);return{active:j,disabled:H,highlighted:re}})),E=(D,x)=>{I(D,x),N(x)},R=(D,x=!1)=>{if(!h.value(D,x)){const M=x?o.value(D)+1:o.value(D)-1;I(M,D)}},N=(D,x=!1,M)=>{x||u("reset-flow"),M!==void 0?d.value[D]=M:d.value[D]=!d.value[D],d.value||u("overlay-closed")};return{isDisabled:h,groupedYears:C,showYearPicker:d,selectYear:I,toggleYearPicker:N,handleYearSelect:E,handleYear:R}},W3=(e,t)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:s,defaultedConfig:i,defaultedRange:a,defaultedHighlight:o,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:d}=$t(e),{modelValue:h,year:f,month:m,calendars:y}=Iu(e,t),b=G(()=>bA(e.formatLocale,e.locale,e.monthNameFormat)),I=J(null),{checkMinMaxRange:C}=Pi(e),{selectYear:E,groupedYears:R,showYearPicker:N,toggleYearPicker:D,handleYearSelect:x,handleYear:M,isDisabled:j}=$A({modelValue:h,multiCalendars:n,highlight:o,calendars:y,year:f,propDates:l,month:m,filters:c,props:e,emit:t});Kt(()=>{e.startDate&&(h.value&&e.focusStartDate||!h.value)&&E(Ke(le(e.startDate)),0)});const H=_=>_?{month:tt(_),year:Ke(_)}:{month:null,year:null},re=()=>h.value?Array.isArray(h.value)?h.value.map(_=>H(_)):H(h.value):H(),P=(_,v)=>{const Q=y.value[_],X=re();return Array.isArray(X)?X.some(z=>z.year===(Q==null?void 0:Q.year)&&z.month===v):(Q==null?void 0:Q.year)===X.year&&v===X.month},K=(_,v,Q)=>{var X,z;const de=re();return Array.isArray(de)?f.value(v)===((X=de[Q])==null?void 0:X.year)&&_===((z=de[Q])==null?void 0:z.month):!1},ce=(_,v)=>{if(a.value.enabled){const Q=re();if(Array.isArray(h.value)&&Array.isArray(Q)){const X=K(_,v,0)||K(_,v,1),z=vs(gr(le()),_,f.value(v));return wh(h.value,I.value,z)&&!X}return!1}return!1},S=G(()=>_=>yo(b.value,v=>{var Q;const X=P(_,v.value),z=Ql(v.value,AA(f.value(_),l.value.minDate),kA(f.value(_),l.value.maxDate))||i3(l.value.disabledDates,f.value(_)).includes(v.value)||((Q=c.value.months)==null?void 0:Q.includes(v.value)),de=ce(v.value,_),A=xA(o.value,v.value,f.value(_));return{active:X,disabled:z,isBetween:de,highlighted:A}})),w=(_,v)=>vs(gr(le()),_,f.value(v)),W=(_,v)=>{const Q=h.value?h.value:gr(new Date);h.value=vs(Q,_,f.value(v)),t("auto-apply"),t("update-flow-step")},ee=(_,v)=>{const Q=w(_,v);a.value.fixedEnd||a.value.fixedStart?h.value=VA(Q,h,t,a):h.value?C(Q,h.value)&&(h.value=yy(h,w(_,v),t)):h.value=[w(_,v)],Ih(h.value,t,e.autoApply,e.modelAuto)},ge=(_,v)=>{gy(w(_,v),h,d.value.limit),t("auto-apply",!0)},te=(_,v)=>(y.value[v].month=_,Y(v,y.value[v].year,_),d.value.enabled?ge(_,v):a.value.enabled?ee(_,v):W(_,v)),L=(_,v)=>{E(_,v),Y(v,_,null)},Y=(_,v,Q)=>{let X=Q;if(!X&&X!==0){const z=re();X=Array.isArray(z)?z[_].month:z.month}t("update-month-year",{instance:_,year:v,month:X})};return{groupedMonths:S,groupedYears:R,year:f,isDisabled:j,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:s,defaultedConfig:i,showYearPicker:N,modelValue:h,presetDate:(_,v)=>{NA({value:_,modelValue:h,range:a.value.enabled,timezone:v?void 0:u.value.timezone}),t("auto-apply")},setHoverDate:(_,v)=>{I.value=w(_,v)},selectMonth:te,selectYear:L,toggleYearPicker:D,handleYearSelect:x,handleYear:M,getModelMonthYear:re}},q3=at({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Cr},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(e,{expose:t,emit:n}){const r=n,s=ga(),i=Kn(s,"yearMode"),a=e;Kt(()=>{a.shadow||r("mount",null)});const{groupedMonths:o,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:f,modelValue:m,presetDate:y,setHoverDate:b,selectMonth:I,selectYear:C,toggleYearPicker:E,handleYearSelect:R,handleYear:N,getModelMonthYear:D}=W3(a,r);return t({getSidebarProps:()=>({modelValue:m,year:u,getModelMonthYear:D,selectMonth:I,selectYear:C,handleYear:N}),presetDate:y,toggleYearPicker:x=>E(0,x)}),(x,M)=>(F(),Je(Eh,{"multi-calendars":T(d).count,collapse:x.collapse,stretch:""},{default:Qe(({instance:j})=>[x.$slots["month-year"]?ke(x.$slots,"month-year",Zt(cn({key:0},{year:T(u),months:T(o)(j),years:T(l)(j),selectMonth:T(I),selectYear:T(C),instance:j}))):(F(),Je(Au,{key:1,items:T(o)(j),"arrow-navigation":x.arrowNavigation,"is-last":x.autoApply&&!T(h).keepActionRow,"esc-close":x.escClose,height:T(h).modeHeight,config:x.config,"no-overlay-focus":!!(x.noOverlayFocus||x.textInput),"use-relative":"",type:"month",onSelected:H=>T(I)(H,j),onHoverValue:H=>T(b)(H,j)},{header:Qe(()=>[Le(OA,cn(x.$props,{items:T(l)(j),instance:j,"show-year-picker":T(f)[j],year:T(u)(j),"is-disabled":H=>T(c)(j,H),onHandleYear:H=>T(N)(j,H),onYearSelect:H=>T(R)(H,j),onToggleYearPicker:H=>T(E)(j,H==null?void 0:H.flow,H==null?void 0:H.show)}),Vn({_:2},[bt(T(i),(H,re)=>({name:H,fn:Qe(P=>[ke(x.$slots,H,Zt(In(P)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),z3=(e,t)=>{const{modelValue:n}=Iu(e,t),r=J(null),{defaultedHighlight:s,defaultedMultiDates:i,defaultedFilters:a,defaultedRange:o,propDates:l}=$t(e),u=J();Kt(()=>{e.startDate&&(n.value&&e.focusStartDate||!n.value)&&(u.value=Ke(le(e.startDate)))});const c=m=>Array.isArray(n.value)?n.value.some(y=>Ke(y)===m):n.value?Ke(n.value)===m:!1,d=m=>o.value.enabled&&Array.isArray(n.value)?wh(n.value,r.value,f(m)):!1,h=G(()=>yo(hy(e.yearRange,e.locale,e.reverseYears),m=>{const y=c(m.value),b=Ql(m.value,_o(l.value.minDate),_o(l.value.maxDate))||a.value.years.includes(m.value),I=d(m.value)&&!y,C=my(s.value,m.value);return{active:y,disabled:b,isBetween:I,highlighted:C}})),f=m=>qr(gr(new Date),m);return{groupedYears:h,modelValue:n,focusYear:u,setHoverValue:m=>{r.value=qr(gr(new Date),m)},selectYear:m=>{var y;if(t("update-month-year",{instance:0,year:m}),i.value.enabled)return n.value?Array.isArray(n.value)&&(((y=n.value)==null?void 0:y.map(b=>Ke(b))).includes(m)?n.value=n.value.filter(b=>Ke(b)!==m):n.value.push(qr(Jn(le()),m))):n.value=[qr(Jn(le()),m)],t("auto-apply",!0);if(o.value.enabled)return n.value=yy(n,f(m),t),Ih(n.value,t,e.autoApply,e.modelAuto);n.value=f(m),t("auto-apply")}}},G3=at({compatConfig:{MODE:3},__name:"YearPicker",props:{...Cr},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:n}){const r=n,s=e,{groupedYears:i,modelValue:a,focusYear:o,selectYear:l,setHoverValue:u}=z3(s,r),{defaultedConfig:c}=$t(s);return t({getSidebarProps:()=>({modelValue:a,selectYear:l})}),(d,h)=>(F(),Z("div",null,[d.$slots["month-year"]?ke(d.$slots,"month-year",Zt(cn({key:0},{years:T(i),selectYear:T(l)}))):(F(),Je(Au,{key:1,items:T(i),"is-last":d.autoApply&&!T(c).keepActionRow,height:T(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":T(o),type:"year","use-relative":"",onSelected:T(l),onHoverValue:T(u)},Vn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:f})=>[ke(d.$slots,"year-overlay-value",{text:f.text,value:f.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),K3={key:0,class:"dp__time_input"},Q3=["aria-label","onKeydown","onClick"],X3=$("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),J3=$("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Z3=["aria-label","disabled","onKeydown","onClick"],e6=["aria-label","onKeydown","onClick"],t6=$("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),n6=$("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),r6={key:0},s6=["aria-label","onKeydown"],i6=at({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Cr},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=n,s=e,{setTimePickerElements:i,setTimePickerBackRef:a}=Ri(),{defaultedAriaLabels:o,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:d}=$t(s),{transitionName:h,showTransition:f}=Eu(l),m=Zn({hours:!1,minutes:!1,seconds:!1}),y=J("AM"),b=J(null),I=J([]);Kt(()=>{r("mounted")});const C=A=>It(new Date,{hours:A.hours,minutes:A.minutes,seconds:s.enableSeconds?A.seconds:0,milliseconds:0}),E=G(()=>A=>S(A,s[A])||N(A,s[A])),R=G(()=>({hours:s.hours,minutes:s.minutes,seconds:s.seconds})),N=(A,V)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!s.validateTime(A,V):!1,D=(A,V)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const ye=V?+s[`${A}Increment`]:-+s[`${A}Increment`],p=s[A]+ye;return!s.validateTime(A,p)}return!1},x=G(()=>A=>!ge(+s[A]+ +s[`${A}Increment`],A)||D(A,!0)),M=G(()=>A=>!ge(+s[A]-+s[`${A}Increment`],A)||D(A,!1)),j=(A,V)=>eA(It(le(),A),V),H=(A,V)=>Yj(It(le(),A),V),re=G(()=>({dp__time_col:!0,dp__time_col_block:!s.timePickerInline,dp__time_col_reg_block:!s.enableSeconds&&s.is24&&!s.timePickerInline,dp__time_col_reg_inline:!s.enableSeconds&&s.is24&&s.timePickerInline,dp__time_col_reg_with_button:!s.enableSeconds&&!s.is24,dp__time_col_sec:s.enableSeconds&&s.is24,dp__time_col_sec_with_button:s.enableSeconds&&!s.is24})),P=G(()=>{const A=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return s.enableSeconds?A.concat([{type:"",separator:!0},{type:"seconds"}]):A}),K=G(()=>P.value.filter(A=>!A.separator)),ce=G(()=>A=>{if(A==="hours"){const V=v(+s.hours);return{text:V<10?`0${V}`:`${V}`,value:V}}return{text:s[A]<10?`0${s[A]}`:`${s[A]}`,value:s[A]}}),S=(A,V)=>{var ye;if(!s.disabledTimesConfig)return!1;const p=s.disabledTimesConfig(s.order,A==="hours"?V:void 0);return p[A]?!!((ye=p[A])!=null&&ye.includes(V)):!0},w=A=>{const V=s.is24?24:12,ye=A==="hours"?V:60,p=+s[`${A}GridIncrement`],g=A==="hours"&&!s.is24?p:0,k=[];for(let U=g;U<ye;U+=p)k.push({value:U,text:U<10?`0${U}`:`${U}`});return A==="hours"&&!s.is24&&k.push({value:0,text:"12"}),yo(k,U=>({active:!1,disabled:u.value.times[A].includes(U.value)||!ge(U.value,A)||S(A,U.value)||N(A,U.value)}))},W=A=>A>=0?A:59,ee=A=>A>=0?A:23,ge=(A,V)=>{const ye=s.minTime?C(Sf(s.minTime)):null,p=s.maxTime?C(Sf(s.maxTime)):null,g=C(Sf(R.value,V,V==="minutes"||V==="seconds"?W(A):ee(A)));return ye&&p?(Kl(g,p)||Fa(g,p))&&(Gl(g,ye)||Fa(g,ye)):ye?Gl(g,ye)||Fa(g,ye):p?Kl(g,p)||Fa(g,p):!0},te=A=>s[`no${A[0].toUpperCase()+A.slice(1)}Overlay`],L=A=>{te(A)||(m[A]=!m[A],m[A]||r("overlay-closed"))},Y=A=>A==="hours"?Tr:A==="minutes"?Jr:mo,_=(A,V=!0)=>{const ye=V?j:H,p=V?+s[`${A}Increment`]:-+s[`${A}Increment`];ge(+s[A]+p,A)&&r(`update:${A}`,Y(A)(ye({[A]:+s[A]},{[A]:+s[`${A}Increment`]})))},v=A=>s.is24?A:(A>=12?y.value="PM":y.value="AM",qj(A)),Q=()=>{y.value==="PM"?(y.value="AM",r("update:hours",s.hours-12)):(y.value="PM",r("update:hours",s.hours+12)),r("am-pm-change",y.value)},X=A=>{m[A]=!0},z=(A,V,ye)=>{if(A&&s.arrowNavigation){Array.isArray(I.value[V])?I.value[V][ye]=A:I.value[V]=[A];const p=I.value.reduce((g,k)=>k.map((U,B)=>[...g[B]||[],k[B]]),[]);a(s.closeTimePickerBtn),b.value&&(p[1]=p[1].concat(b.value)),i(p,s.order)}},de=(A,V)=>(L(A),A==="hours"&&!s.is24?r(`update:${A}`,y.value==="PM"?V+12:V):r(`update:${A}`,V));return t({openChildCmp:X}),(A,V)=>{var ye;return A.disabled?oe("",!0):(F(),Z("div",K3,[(F(!0),Z(Me,null,bt(P.value,(p,g)=>{var k,U,B;return F(),Z("div",{key:g,class:Xe(re.value)},[p.separator?(F(),Z(Me,{key:0},[es(" : ")],64)):(F(),Z(Me,{key:1},[$("button",{ref_for:!0,ref:O=>z(O,g,0),type:"button",class:Xe({dp__btn:!0,dp__inc_dec_button:!A.timePickerInline,dp__inc_dec_button_inline:A.timePickerInline,dp__tp_inline_btn_top:A.timePickerInline,dp__inc_dec_button_disabled:x.value(p.type)}),"aria-label":(k=T(o))==null?void 0:k.incrementValue(p.type),tabindex:"0",onKeydown:[Ye(ft(O=>_(p.type),["prevent"]),["enter"]),Ye(ft(O=>_(p.type),["prevent"]),["space"])],onClick:O=>_(p.type)},[s.timePickerInline?(F(),Z(Me,{key:1},[X3,J3],64)):(F(),Z(Me,{key:0},[A.$slots["arrow-up"]?ke(A.$slots,"arrow-up",{key:0}):oe("",!0),A.$slots["arrow-up"]?oe("",!0):(F(),Je(T(cy),{key:1}))],64))],42,Q3),$("button",{ref_for:!0,ref:O=>z(O,g,1),type:"button","aria-label":(U=T(o))==null?void 0:U.openTpOverlay(p.type),class:Xe({dp__time_display:!0,dp__time_display_block:!A.timePickerInline,dp__time_display_inline:A.timePickerInline,"dp--time-invalid":E.value(p.type),"dp--time-overlay-btn":!E.value(p.type)}),disabled:te(p.type),tabindex:"0",onKeydown:[Ye(ft(O=>L(p.type),["prevent"]),["enter"]),Ye(ft(O=>L(p.type),["prevent"]),["space"])],onClick:O=>L(p.type)},[A.$slots[p.type]?ke(A.$slots,p.type,{key:0,text:ce.value(p.type).text,value:ce.value(p.type).value}):oe("",!0),A.$slots[p.type]?oe("",!0):(F(),Z(Me,{key:1},[es(We(ce.value(p.type).text),1)],64))],42,Z3),$("button",{ref_for:!0,ref:O=>z(O,g,2),type:"button",class:Xe({dp__btn:!0,dp__inc_dec_button:!A.timePickerInline,dp__inc_dec_button_inline:A.timePickerInline,dp__tp_inline_btn_bottom:A.timePickerInline,dp__inc_dec_button_disabled:M.value(p.type)}),"aria-label":(B=T(o))==null?void 0:B.decrementValue(p.type),tabindex:"0",onKeydown:[Ye(ft(O=>_(p.type,!1),["prevent"]),["enter"]),Ye(ft(O=>_(p.type,!1),["prevent"]),["space"])],onClick:O=>_(p.type,!1)},[s.timePickerInline?(F(),Z(Me,{key:1},[t6,n6],64)):(F(),Z(Me,{key:0},[A.$slots["arrow-down"]?ke(A.$slots,"arrow-down",{key:0}):oe("",!0),A.$slots["arrow-down"]?oe("",!0):(F(),Je(T(dy),{key:1}))],64))],42,e6)],64))],2)}),128)),A.is24?oe("",!0):(F(),Z("div",r6,[A.$slots["am-pm-button"]?ke(A.$slots,"am-pm-button",{key:0,toggle:Q,value:y.value}):oe("",!0),A.$slots["am-pm-button"]?oe("",!0):(F(),Z("button",{key:1,ref_key:"amPmButton",ref:b,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ye=T(o))==null?void 0:ye.amPmButton,tabindex:"0",onClick:Q,onKeydown:[Ye(ft(Q,["prevent"]),["enter"]),Ye(ft(Q,["prevent"]),["space"])]},We(y.value),41,s6))])),(F(!0),Z(Me,null,bt(K.value,(p,g)=>(F(),Je(is,{key:g,name:T(h)(m[p.type]),css:T(f)},{default:Qe(()=>[m[p.type]?(F(),Je(Au,{key:0,items:w(p.type),"is-last":A.autoApply&&!T(c).keepActionRow,"esc-close":A.escClose,type:p.type,"text-input":A.textInput,config:A.config,"arrow-navigation":A.arrowNavigation,"aria-labels":A.ariaLabels,onSelected:k=>de(p.type,k),onToggle:k=>L(p.type),onResetFlow:V[0]||(V[0]=k=>A.$emit("reset-flow"))},Vn({"button-icon":Qe(()=>[A.$slots["clock-icon"]?ke(A.$slots,"clock-icon",{key:0}):oe("",!0),A.$slots["clock-icon"]?oe("",!0):(F(),Je(gd(A.timePickerInline?T(Co):T(uy)),{key:1}))]),_:2},[A.$slots[`${p.type}-overlay-value`]?{name:"item",fn:Qe(({item:k})=>[ke(A.$slots,`${p.type}-overlay-value`,{text:k.text,value:k.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):oe("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),a6={class:"dp--tp-wrap"},o6=["aria-label","tabindex"],l6=["tabindex"],u6=["aria-label"],LA=at({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Cr},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=n,s=e,{buildMatrix:i,setTimePicker:a}=Ri(),o=ga(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d,defaultedRange:h}=$t(s),{transitionName:f,showTransition:m}=Eu(l),{hideNavigationButtons:y}=bh(),b=J(null),I=J(null),C=J([]),E=J(null);Kt(()=>{r("mount"),!s.timePicker&&s.arrowNavigation?i([tn(b.value)],"time"):a(!0,s.timePicker)});const R=G(()=>h.value.enabled&&s.modelAuto?TA(s.internalModelValue):!0),N=J(!1),D=w=>({hours:Array.isArray(s.hours)?s.hours[w]:s.hours,minutes:Array.isArray(s.minutes)?s.minutes[w]:s.minutes,seconds:Array.isArray(s.seconds)?s.seconds[w]:s.seconds}),x=G(()=>{const w=[];if(h.value.enabled)for(let W=0;W<2;W++)w.push(D(W));else w.push(D(0));return w}),M=(w,W=!1,ee="")=>{W||r("reset-flow"),N.value=w,r(w?"overlay-opened":"overlay-closed"),s.arrowNavigation&&a(w),Ln(()=>{ee!==""&&C.value[0]&&C.value[0].openChildCmp(ee)})},j=G(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:s.autoApply&&!d.value.keepActionRow})),H=Kn(o,"timePicker"),re=(w,W,ee)=>h.value.enabled?W===0?[w,x.value[1][ee]]:[x.value[0][ee],w]:w,P=w=>{r("update:hours",w)},K=w=>{r("update:minutes",w)},ce=w=>{r("update:seconds",w)},S=()=>{if(E.value&&!c.value.enabled&&!s.noOverlayFocus){const w=EA(E.value);w&&w.focus({preventScroll:!0})}};return t({toggleTimePicker:M}),(w,W)=>{var ee;return F(),Z("div",a6,[!w.timePicker&&!w.timePickerInline?vr((F(),Z("button",{key:0,ref_key:"openTimePickerBtn",ref:b,type:"button",class:Xe(j.value),"aria-label":(ee=T(u))==null?void 0:ee.openTimePicker,tabindex:w.noOverlayFocus?void 0:0,onKeydown:[W[0]||(W[0]=Ye(ge=>M(!0),["enter"])),W[1]||(W[1]=Ye(ge=>M(!0),["space"]))],onClick:W[2]||(W[2]=ge=>M(!0))},[w.$slots["clock-icon"]?ke(w.$slots,"clock-icon",{key:0}):oe("",!0),w.$slots["clock-icon"]?oe("",!0):(F(),Je(T(uy),{key:1}))],42,o6)),[[ac,!T(y)(w.hideNavigation,"time")]]):oe("",!0),Le(is,{name:T(f)(N.value),css:T(m)&&!w.timePickerInline},{default:Qe(()=>{var ge;return[N.value||w.timePicker||w.timePickerInline?(F(),Z("div",{key:0,ref_key:"overlayRef",ref:E,class:Xe({dp__overlay:!w.timePickerInline,"dp--overlay-absolute":!s.timePicker&&!w.timePickerInline,"dp--overlay-relative":s.timePicker}),style:On(w.timePicker?{height:`${T(d).modeHeight}px`}:void 0),tabindex:w.timePickerInline?void 0:0},[$("div",{class:Xe(w.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[w.$slots["time-picker-overlay"]?ke(w.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:P,setMinutes:K,setSeconds:ce}):oe("",!0),w.$slots["time-picker-overlay"]?oe("",!0):(F(),Z("div",{key:1,class:Xe(w.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(F(!0),Z(Me,null,bt(x.value,(te,L)=>vr((F(),Je(i6,cn({key:L},{...w.$props,order:L,hours:te.hours,minutes:te.minutes,seconds:te.seconds,closeTimePickerBtn:I.value,disabledTimesConfig:e.disabledTimesConfig,disabled:L===0?w.fixedStart:w.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:C,"validate-time":(Y,_)=>e.validateTime(Y,re(_,L,Y)),"onUpdate:hours":Y=>P(re(Y,L,"hours")),"onUpdate:minutes":Y=>K(re(Y,L,"minutes")),"onUpdate:seconds":Y=>ce(re(Y,L,"seconds")),onMounted:S,onOverlayClosed:S,onAmPmChange:W[3]||(W[3]=Y=>w.$emit("am-pm-change",Y))}),Vn({_:2},[bt(T(H),(Y,_)=>({name:Y,fn:Qe(v=>[ke(w.$slots,Y,Zt(In(v)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[ac,L===0?!0:R.value]])),128))],2)),!w.timePicker&&!w.timePickerInline?vr((F(),Z("button",{key:2,ref_key:"closeTimePickerBtn",ref:I,type:"button",class:Xe(j.value),"aria-label":(ge=T(u))==null?void 0:ge.closeTimePicker,tabindex:"0",onKeydown:[W[4]||(W[4]=Ye(te=>M(!1),["enter"])),W[5]||(W[5]=Ye(te=>M(!1),["space"]))],onClick:W[6]||(W[6]=te=>M(!1))},[w.$slots["calendar-icon"]?ke(w.$slots,"calendar-icon",{key:0}):oe("",!0),w.$slots["calendar-icon"]?oe("",!0):(F(),Je(T(Co),{key:1}))],42,u6)),[[ac,!T(y)(w.hideNavigation,"time")]]):oe("",!0)],2)],14,l6)):oe("",!0)]}),_:3},8,["name","css"])])}}}),FA=(e,t,n,r)=>{const{defaultedRange:s}=$t(e),i=(E,R)=>Array.isArray(t[E])?t[E][R]:t[E],a=E=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[E]:t.seconds:0,o=(E,R)=>E?R!==void 0?hi(E,i("hours",R),i("minutes",R),a(R)):hi(E,t.hours,t.minutes,a()):ay(le(),a(R)),l=(E,R)=>{t[E]=R},u=G(()=>e.modelAuto&&s.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:s.value.enabled),c=(E,R)=>{const N=Object.fromEntries(Object.keys(t).map(D=>D===E?[D,R]:[D,t[D]].slice()));if(u.value&&!s.value.disableTimeRangeValidation){const D=M=>n.value?hi(n.value[M],N.hours[M],N.minutes[M],N.seconds[M]):null,x=M=>iy(n.value[M],0);return!(st(D(0),D(1))&&(Gl(D(0),x(1))||Kl(D(1),x(0))))}return!0},d=(E,R)=>{c(E,R)&&(l(E,R),r&&r())},h=E=>{d("hours",E)},f=E=>{d("minutes",E)},m=E=>{d("seconds",E)},y=(E,R,N,D)=>{R&&h(E),!R&&!N&&f(E),N&&m(E),n.value&&D(n.value)},b=E=>{if(E){const R=Array.isArray(E),N=R?[+E[0].hours,+E[1].hours]:+E.hours,D=R?[+E[0].minutes,+E[1].minutes]:+E.minutes,x=R?[+E[0].seconds,+E[1].seconds]:+E.seconds;l("hours",N),l("minutes",D),e.enableSeconds&&l("seconds",x)}},I=(E,R)=>{const N={hours:Array.isArray(t.hours)?t.hours[E]:t.hours,disabledArr:[]};return(R||R===0)&&(N.hours=R),Array.isArray(e.disabledTimes)&&(N.disabledArr=s.value.enabled&&Array.isArray(e.disabledTimes[E])?e.disabledTimes[E]:e.disabledTimes),N},C=G(()=>(E,R)=>{var N;if(Array.isArray(e.disabledTimes)){const{disabledArr:D,hours:x}=I(E,R),M=D.filter(j=>+j.hours===x);return((N=M[0])==null?void 0:N.minutes)==="*"?{hours:[x],minutes:void 0,seconds:void 0}:{hours:[],minutes:(M==null?void 0:M.map(j=>+j.minutes))??[],seconds:(M==null?void 0:M.map(j=>j.seconds?+j.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:h,updateMinutes:f,updateSeconds:m,getSetDateTime:o,updateTimeValues:y,getSecondsValue:a,assignStartTime:b,validateTime:c,disabledTimesConfig:C}},c6=(e,t)=>{const{modelValue:n,time:r}=Iu(e,t),{defaultedStartTime:s,defaultedRange:i}=$t(e),{updateTimeValues:a,getSetDateTime:o,setTime:l,assignStartTime:u,disabledTimesConfig:c,validateTime:d}=FA(e,r,n),h=E=>{const{hours:R,minutes:N,seconds:D}=E;return{hours:+R,minutes:+N,seconds:D?+D:0}},f=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const R=h(e.startTime[0]),N=h(e.startTime[1]);return[It(le(),R),It(le(),N)]}const E=h(e.startTime);return It(le(),E)}return i.value.enabled?[null,null]:null},m=()=>{if(i.value.enabled){const[E,R]=f();n.value=[o(E,0),o(R,1)]}else n.value=o(f())},y=E=>Array.isArray(E)?[ea(le(E[0])),ea(le(E[1]))]:[ea(E??le())],b=(E,R,N)=>{l("hours",E),l("minutes",R),l("seconds",e.enableSeconds?N:0)},I=()=>{const[E,R]=y(n.value);return i.value.enabled?b([E.hours,R.hours],[E.minutes,R.minutes],[E.seconds,R.seconds]):b(E.hours,E.minutes,E.seconds)};Kt(()=>{if(!e.shadow)return u(s.value),n.value?I():m()});const C=()=>{Array.isArray(n.value)?n.value=n.value.map((E,R)=>E&&o(E,R)):n.value=o(n.value),t("time-update")};return{modelValue:n,time:r,disabledTimesConfig:c,updateTime:(E,R=!0,N=!1)=>{a(E,R,N,C)},validateTime:d}},d6=at({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Cr},emits:["update:internal-model-value","time-update","am-pm-change"],setup(e,{expose:t,emit:n}){const r=n,s=e,i=ga(),a=Kn(i,"timePicker"),{time:o,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=c6(s,r);return t({getSidebarProps:()=>({modelValue:l,time:o,updateTime:c})}),(h,f)=>(F(),Je(Eh,{"multi-calendars":0,stretch:""},{default:Qe(()=>[Le(LA,cn(h.$props,{hours:T(o).hours,minutes:T(o).minutes,seconds:T(o).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":T(u),"validate-time":T(d),"onUpdate:hours":f[0]||(f[0]=m=>T(c)(m)),"onUpdate:minutes":f[1]||(f[1]=m=>T(c)(m,!1)),"onUpdate:seconds":f[2]||(f[2]=m=>T(c)(m,!1,!0)),onAmPmChange:f[3]||(f[3]=m=>h.$emit("am-pm-change",m))}),Vn({_:2},[bt(T(a),(m,y)=>({name:m,fn:Qe(b=>[ke(h.$slots,m,Zt(In(b)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),h6={class:"dp__month_year_row"},f6=["aria-label","onClick","onKeydown"],p6=at({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Cr},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:n}){const r=n,s=e,{defaultedTransitions:i,defaultedAriaLabels:a,defaultedMultiCalendars:o,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:d}=$t(s),{transitionName:h,showTransition:f}=Eu(i),{buildMatrix:m}=Ri(),{handleMonthYearChange:y,isDisabled:b,updateMonthYear:I}=A3(s,r),{showLeftIcon:C,showRightIcon:E}=bh(),R=J(!1),N=J(!1),D=J([null,null,null,null]);Kt(()=>{r("mount")});const x=L=>({get:()=>s[L],set:Y=>{const _=L===hr.month?hr.year:hr.month;r("update-month-year",{[L]:Y,[_]:s[_]}),L===hr.month?S(!0):w(!0)}}),M=G(x(hr.month)),j=G(x(hr.year)),H=G(()=>L=>({month:s.month,year:s.year,items:L===hr.month?s.months:s.years,instance:s.instance,updateMonthYear:I,toggle:L===hr.month?S:w})),re=G(()=>s.months.find(Y=>Y.value===s.month)||{text:"",value:0}),P=G(()=>yo(s.months,L=>{const Y=s.month===L.value,_=Ql(L.value,AA(s.year,d.value.minDate),kA(s.year,d.value.maxDate))||l.value.months.includes(L.value),v=xA(c.value,L.value,s.year);return{active:Y,disabled:_,highlighted:v}})),K=G(()=>yo(s.years,L=>{const Y=s.year===L.value,_=Ql(L.value,_o(d.value.minDate),_o(d.value.maxDate))||l.value.years.includes(L.value),v=my(c.value,L.value);return{active:Y,disabled:_,highlighted:v}})),ce=(L,Y)=>{Y!==void 0?L.value=Y:L.value=!L.value,L.value||r("overlay-closed")},S=(L=!1,Y)=>{W(L),ce(R,Y)},w=(L=!1,Y)=>{W(L),ce(N,Y)},W=L=>{L||r("reset-flow")},ee=(L,Y)=>{s.arrowNavigation&&(D.value[Y]=tn(L),m(D.value,"monthYear"))},ge=G(()=>{var L,Y;return[{type:hr.month,index:1,toggle:S,modelValue:M.value,updateModelValue:_=>M.value=_,text:re.value.text,showSelectionGrid:R.value,items:P.value,ariaLabel:(L=a.value)==null?void 0:L.openMonthsOverlay},{type:hr.year,index:2,toggle:w,modelValue:j.value,updateModelValue:_=>j.value=_,text:IA(s.year,s.locale),showSelectionGrid:N.value,items:K.value,ariaLabel:(Y=a.value)==null?void 0:Y.openYearsOverlay}]}),te=G(()=>s.disableYearSelect?[ge.value[0]]:s.yearFirst?[...ge.value].reverse():ge.value);return t({toggleMonthPicker:S,toggleYearPicker:w,handleMonthYearChange:y}),(L,Y)=>{var _,v,Q;return F(),Z("div",h6,[L.$slots["month-year"]?ke(L.$slots,"month-year",Zt(cn({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:T(I),handleMonthYearChange:T(y),instance:e.instance}))):(F(),Z(Me,{key:1},[T(C)(T(o),e.instance)&&!L.vertical?(F(),Je(vl,{key:0,"aria-label":(_=T(a))==null?void 0:_.prevMonth,disabled:T(b)(!1),onActivate:Y[0]||(Y[0]=X=>T(y)(!1,!0)),onSetRef:Y[1]||(Y[1]=X=>ee(X,0))},{default:Qe(()=>[L.$slots["arrow-left"]?ke(L.$slots,"arrow-left",{key:0}):oe("",!0),L.$slots["arrow-left"]?oe("",!0):(F(),Je(T(oy),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),$("div",{class:Xe(["dp__month_year_wrap",{dp__year_disable_select:L.disableYearSelect}])},[(F(!0),Z(Me,null,bt(te.value,(X,z)=>(F(),Z(Me,{key:X.type},[$("button",{ref_for:!0,ref:de=>ee(de,z+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":X.ariaLabel,onClick:X.toggle,onKeydown:[Ye(ft(X.toggle,["prevent"]),["enter"]),Ye(ft(X.toggle,["prevent"]),["space"])]},[L.$slots[X.type]?ke(L.$slots,X.type,{key:0,text:X.text,value:s[X.type]}):oe("",!0),L.$slots[X.type]?oe("",!0):(F(),Z(Me,{key:1},[es(We(X.text),1)],64))],40,f6),Le(is,{name:T(h)(X.showSelectionGrid),css:T(f)},{default:Qe(()=>[X.showSelectionGrid?(F(),Je(Au,{key:0,items:X.items,"arrow-navigation":L.arrowNavigation,"hide-navigation":L.hideNavigation,"is-last":L.autoApply&&!T(u).keepActionRow,"skip-button-ref":!1,config:L.config,type:X.type,"header-refs":[],"esc-close":L.escClose,"menu-wrap-ref":L.menuWrapRef,"text-input":L.textInput,"aria-labels":L.ariaLabels,onSelected:X.updateModelValue,onToggle:X.toggle},Vn({"button-icon":Qe(()=>[L.$slots["calendar-icon"]?ke(L.$slots,"calendar-icon",{key:0}):oe("",!0),L.$slots["calendar-icon"]?oe("",!0):(F(),Je(T(Co),{key:1}))]),_:2},[L.$slots[`${X.type}-overlay-value`]?{name:"item",fn:Qe(({item:de})=>[ke(L.$slots,`${X.type}-overlay-value`,{text:de.text,value:de.value})]),key:"0"}:void 0,L.$slots[`${X.type}-overlay`]?{name:"overlay",fn:Qe(()=>[ke(L.$slots,`${X.type}-overlay`,Zt(In(H.value(X.type))))]),key:"1"}:void 0,L.$slots[`${X.type}-overlay-header`]?{name:"header",fn:Qe(()=>[ke(L.$slots,`${X.type}-overlay-header`,{toggle:X.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):oe("",!0)]),_:2},1032,["name","css"])],64))),128))],2),T(C)(T(o),e.instance)&&L.vertical?(F(),Je(vl,{key:1,"aria-label":(v=T(a))==null?void 0:v.prevMonth,disabled:T(b)(!1),onActivate:Y[2]||(Y[2]=X=>T(y)(!1,!0))},{default:Qe(()=>[L.$slots["arrow-up"]?ke(L.$slots,"arrow-up",{key:0}):oe("",!0),L.$slots["arrow-up"]?oe("",!0):(F(),Je(T(cy),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),T(E)(T(o),e.instance)?(F(),Je(vl,{key:2,ref:"rightIcon",disabled:T(b)(!0),"aria-label":(Q=T(a))==null?void 0:Q.nextMonth,onActivate:Y[3]||(Y[3]=X=>T(y)(!0,!0)),onSetRef:Y[4]||(Y[4]=X=>ee(X,L.disableYearSelect?2:3))},{default:Qe(()=>[L.$slots[L.vertical?"arrow-down":"arrow-right"]?ke(L.$slots,L.vertical?"arrow-down":"arrow-right",{key:0}):oe("",!0),L.$slots[L.vertical?"arrow-down":"arrow-right"]?oe("",!0):(F(),Je(gd(L.vertical?T(dy):T(ly)),{key:1}))]),_:3},8,["disabled","aria-label"])):oe("",!0)],64))])}}}),m6=["aria-label"],g6={class:"dp__calendar_header",role:"row"},y6={key:0,class:"dp__calendar_header_item",role:"gridcell"},_6=["aria-label"],v6=$("div",{class:"dp__calendar_header_separator"},null,-1),w6=["aria-label"],b6={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},T6={class:"dp__cell_inner"},E6=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],I6=at({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Cr},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const r=n,s=e,{buildMultiLevelMatrix:i}=Ri(),{defaultedTransitions:a,defaultedConfig:o,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:d}=$t(s),h=J(null),f=J({bottom:"",left:"",transform:""}),m=J([]),y=J(null),b=J(!0),I=J(""),C=J({startX:0,endX:0,startY:0,endY:0}),E=J([]),R=J({left:"50%"}),N=J(!1),D=G(()=>s.calendar?s.calendar(s.mappedDates):s.mappedDates),x=G(()=>s.dayNames?Array.isArray(s.dayNames)?s.dayNames:s.dayNames(s.locale,+s.weekStart):Wj(s.formatLocale,s.locale,+s.weekStart));Kt(()=>{r("mount",{cmp:"calendar",refs:m}),o.value.noSwipe||y.value&&(y.value.addEventListener("touchstart",ge,{passive:!1}),y.value.addEventListener("touchend",te,{passive:!1}),y.value.addEventListener("touchmove",L,{passive:!1})),s.monthChangeOnScroll&&y.value&&y.value.addEventListener("wheel",v,{passive:!1})});const M=V=>V?s.vertical?"vNext":"next":s.vertical?"vPrevious":"previous",j=(V,ye)=>{if(s.transitions){const p=Jn(vs(le(),s.month,s.year));I.value=qt(Jn(vs(le(),V,ye)),p)?a.value[M(!0)]:a.value[M(!1)],b.value=!1,Ln(()=>{b.value=!0})}},H=G(()=>({[s.calendarClassName]:!!s.calendarClassName})),re=G(()=>V=>{const ye=zj(V);return{dp__marker_dot:ye.type==="dot",dp__marker_line:ye.type==="line"}}),P=G(()=>V=>st(V,h.value)),K=G(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&s.instance!==0})),ce=G(()=>V=>s.hideOffsetDates?V.current:!0),S=V=>Xr(V,"yyyy-MM-dd"),w=async(V,ye,p)=>{const g=tn(m.value[ye][p]);if(g){const{width:k,height:U}=g.getBoundingClientRect();h.value=V.value;let B={left:`${k/2}px`},O=-50;if(await Ln(),E.value[0]){const{left:pe,width:ae}=E.value[0].getBoundingClientRect();pe<0&&(B={left:"0"},O=0,R.value.left=`${k/2}px`),window.innerWidth<pe+ae&&(B={right:"0"},O=0,R.value.left=`${ae-k/2}px`)}f.value={bottom:`${U}px`,...B,transform:`translateX(${O}%)`},r("tooltip-open",V.marker)}},W=async(V,ye,p)=>{var g,k;if(N.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",V);r("set-hover-date",V),(k=(g=V.marker)==null?void 0:g.tooltip)!=null&&k.length&&await w(V,ye,p)},ee=V=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",V.marker))},ge=V=>{C.value.startX=V.changedTouches[0].screenX,C.value.startY=V.changedTouches[0].screenY},te=V=>{C.value.endX=V.changedTouches[0].screenX,C.value.endY=V.changedTouches[0].screenY,Y()},L=V=>{s.vertical&&!s.inline&&V.preventDefault()},Y=()=>{const V=s.vertical?"Y":"X";Math.abs(C.value[`start${V}`]-C.value[`end${V}`])>10&&r("handle-swipe",C.value[`start${V}`]>C.value[`end${V}`]?"right":"left")},_=(V,ye,p)=>{V&&(Array.isArray(m.value[ye])?m.value[ye][p]=V:m.value[ye]=[V]),s.arrowNavigation&&i(m.value,"calendar")},v=V=>{s.monthChangeOnScroll&&(V.preventDefault(),r("handle-scroll",V))},Q=V=>c.value.type==="local"?ny(V.value,{weekStartsOn:+s.weekStart}):c.value.type==="iso"?ey(V.value):typeof c.value.type=="function"?c.value.type(V.value):"",X=V=>{const ye=V[0];return c.value.hideOnOffsetDates?V.some(p=>p.current)?Q(ye):"":Q(ye)},z=(V,ye)=>{d.value.enabled||(di(V,o.value),r("select-date",ye))},de=V=>{di(V,o.value)},A=V=>{d.value.enabled&&d.value.dragSelect?(N.value=!0,r("select-date",V)):d.value.enabled&&r("select-date",V)};return t({triggerTransition:j}),(V,ye)=>{var p;return F(),Z("div",{class:Xe(K.value)},[$("div",{ref_key:"calendarWrapRef",ref:y,role:"grid",class:Xe(H.value),"aria-label":(p=T(l))==null?void 0:p.calendarWrap},[$("div",g6,[V.weekNumbers?(F(),Z("div",y6,We(V.weekNumName),1)):oe("",!0),(F(!0),Z(Me,null,bt(x.value,(g,k)=>{var U,B;return F(),Z("div",{key:k,class:"dp__calendar_header_item",role:"gridcell","aria-label":(B=(U=T(l))==null?void 0:U.weekDay)==null?void 0:B.call(U,k)},[V.$slots["calendar-header"]?ke(V.$slots,"calendar-header",{key:0,day:g,index:k}):oe("",!0),V.$slots["calendar-header"]?oe("",!0):(F(),Z(Me,{key:1},[es(We(g),1)],64))],8,_6)}),128))]),v6,Le(is,{name:I.value,css:!!V.transitions},{default:Qe(()=>{var g;return[b.value?(F(),Z("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((g=T(l))==null?void 0:g.calendarDays)||void 0,onMouseleave:ye[1]||(ye[1]=k=>N.value=!1)},[(F(!0),Z(Me,null,bt(D.value,(k,U)=>(F(),Z("div",{key:U,class:"dp__calendar_row",role:"row"},[V.weekNumbers?(F(),Z("div",b6,[$("div",T6,We(X(k.days)),1)])):oe("",!0),(F(!0),Z(Me,null,bt(k.days,(B,O)=>{var pe,ae,me;return F(),Z("div",{id:S(B.value),ref_for:!0,ref:ne=>_(ne,U,O),key:O+U,role:"gridcell",class:"dp__calendar_item","aria-selected":(B.classData.dp__active_date||B.classData.dp__range_start||B.classData.dp__range_start)??void 0,"aria-disabled":B.classData.dp__cell_disabled||void 0,"aria-label":(ae=(pe=T(l))==null?void 0:pe.day)==null?void 0:ae.call(pe,B),tabindex:"0",onClick:ft(ne=>z(ne,B),["prevent"]),onKeydown:[Ye(ne=>V.$emit("select-date",B),["enter"]),Ye(ne=>V.$emit("handle-space",B),["space"])],onMouseenter:ne=>W(B,U,O),onMouseleave:ne=>ee(B),onMousedown:ne=>A(B),onMouseup:ye[0]||(ye[0]=ne=>N.value=!1)},[$("div",{class:Xe(["dp__cell_inner",B.classData])},[V.$slots.day&&ce.value(B)?ke(V.$slots,"day",{key:0,day:+B.text,date:B.value}):oe("",!0),V.$slots.day?oe("",!0):(F(),Z(Me,{key:1},[es(We(B.text),1)],64)),B.marker&&ce.value(B)?(F(),Z(Me,{key:2},[V.$slots.marker?ke(V.$slots,"marker",{key:0,marker:B.marker,day:+B.text,date:B.value}):(F(),Z("div",{key:1,class:Xe(re.value(B.marker)),style:On(B.marker.color?{backgroundColor:B.marker.color}:{})},null,6))],64)):oe("",!0),P.value(B.value)?(F(),Z("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:E,class:"dp__marker_tooltip",style:On(f.value)},[(me=B.marker)!=null&&me.tooltip?(F(),Z("div",{key:0,class:"dp__tooltip_content",onClick:de},[(F(!0),Z(Me,null,bt(B.marker.tooltip,(ne,ve)=>(F(),Z("div",{key:ve,class:"dp__tooltip_text"},[V.$slots["marker-tooltip"]?ke(V.$slots,"marker-tooltip",{key:0,tooltip:ne,day:B.value}):oe("",!0),V.$slots["marker-tooltip"]?oe("",!0):(F(),Z(Me,{key:1},[$("div",{class:"dp__tooltip_mark",style:On(ne.color?{backgroundColor:ne.color}:{})},null,4),$("div",null,We(ne.text),1)],64))]))),128)),$("div",{class:"dp__arrow_bottom_tp",style:On(R.value)},null,4)])):oe("",!0)],4)):oe("",!0)],2)],40,E6)}),128))]))),128))],40,w6)):oe("",!0)]}),_:3},8,["name","css"])],10,m6)],2)}}}),hw=e=>Array.isArray(e),A6=(e,t,n,r)=>{const s=J([]),i=J(new Date),{modelValue:a,calendars:o,time:l}=Iu(e,t),{defaultedMultiCalendars:u,defaultedStartTime:c,defaultedRange:d,defaultedTz:h,propDates:f,defaultedMultiDates:m}=$t(e),{validateMonthYearInRange:y,isDisabled:b,isDateRangeAllowed:I,checkMinMaxRange:C}=Pi(e),{updateTimeValues:E,getSetDateTime:R,setTime:N,assignStartTime:D,validateTime:x,disabledTimesConfig:M}=FA(e,l,a,r),j=G(()=>q=>o.value[q]?o.value[q].month:0),H=G(()=>q=>o.value[q]?o.value[q].year:0),re=(q,he,Ce)=>{var De,se;o.value[q]||(o.value[q]={month:0,year:0}),o.value[q].month=ow(he)?(De=o.value[q])==null?void 0:De.month:he,o.value[q].year=ow(Ce)?(se=o.value[q])==null?void 0:se.year:Ce},P=()=>{e.autoApply&&t("select-date")};en(a,(q,he)=>{JSON.stringify(q)!==JSON.stringify(he)&&S()},{deep:!0}),Kt(()=>{e.shadow||(a.value||(X(),c.value&&D(c.value)),S(!0),e.focusStartDate&&e.startDate&&X())});const K=G(()=>{var q;return(q=e.flow)!=null&&q.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),ce=()=>{e.autoApply&&K.value&&t("auto-apply")},S=(q=!1)=>{if(a.value)return Array.isArray(a.value)?(s.value=a.value,Y(q)):ee(a.value,q);if(u.value.count&&q&&!e.startDate)return W(le(),q)},w=()=>Array.isArray(a.value)&&d.value.enabled?tt(a.value[0])===tt(a.value[1]??a.value[0]):!1,W=(q,he=!1)=>{if((!u.value.count||!u.value.static||he)&&re(0,tt(q),Ke(q)),u.value.count&&(!u.value.solo||!a.value||w()))for(let Ce=1;Ce<u.value.count;Ce++){const De=It(le(),{month:j.value(Ce-1),year:H.value(Ce-1)}),se=eA(De,{months:1});o.value[Ce]={month:tt(se),year:Ke(se)}}},ee=(q,he)=>{W(q),N("hours",Tr(q)),N("minutes",Jr(q)),N("seconds",mo(q)),u.value.count&&he&&Q()},ge=q=>{if(u.value.count){if(u.value.solo)return 0;const he=tt(q[0]),Ce=tt(q[1]);return Math.abs(Ce-he)<u.value.count?0:1}return 1},te=(q,he)=>{q[1]&&d.value.showLastInRange?W(q[ge(q)],he):W(q[0],he);const Ce=(De,se)=>[De(q[0]),q[1]?De(q[1]):l[se][1]];N("hours",Ce(Tr,"hours")),N("minutes",Ce(Jr,"minutes")),N("seconds",Ce(mo,"seconds"))},L=(q,he)=>{if((d.value.enabled||e.weekPicker)&&!m.value.enabled)return te(q,he);if(m.value.enabled&&he){const Ce=q[q.length-1];return ee(Ce,he)}},Y=q=>{const he=a.value;L(he,q),u.value.count&&u.value.solo&&Q()},_=(q,he)=>{const Ce=It(le(),{month:j.value(he),year:H.value(he)}),De=q<0?br(Ce,1):go(Ce,1);y(tt(De),Ke(De),q<0,e.preventMinMaxNavigation)&&(re(he,tt(De),Ke(De)),t("update-month-year",{instance:he,month:tt(De),year:Ke(De)}),u.value.count&&!u.value.solo&&v(he),n())},v=q=>{for(let he=q-1;he>=0;he--){const Ce=go(It(le(),{month:j.value(he+1),year:H.value(he+1)}),1);re(he,tt(Ce),Ke(Ce))}for(let he=q+1;he<=u.value.count-1;he++){const Ce=br(It(le(),{month:j.value(he-1),year:H.value(he-1)}),1);re(he,tt(Ce),Ke(Ce))}},Q=()=>{if(Array.isArray(a.value)&&a.value.length===2){const q=le(le(a.value[1]?a.value[1]:br(a.value[0],1))),[he,Ce]=[tt(a.value[0]),Ke(a.value[0])],[De,se]=[tt(a.value[1]),Ke(a.value[1])];(he!==De||he===De&&Ce!==se)&&u.value.solo&&re(1,tt(q),Ke(q))}else a.value&&!Array.isArray(a.value)&&(re(0,tt(a.value),Ke(a.value)),W(le()))},X=()=>{e.startDate&&(re(0,tt(le(e.startDate)),Ke(le(e.startDate))),u.value.count&&v(0))},z=(q,he)=>{if(e.monthChangeOnScroll){const Ce=new Date().getTime()-i.value.getTime(),De=Math.abs(q.deltaY);let se=500;De>1&&(se=100),De>100&&(se=0),Ce>se&&(i.value=new Date,_(e.monthChangeOnScroll!=="inverse"?-q.deltaY:q.deltaY,he))}},de=(q,he,Ce=!1)=>{e.monthChangeOnArrows&&e.vertical===Ce&&A(q,he)},A=(q,he)=>{_(q==="right"?-1:1,he)},V=q=>{if(f.value.markers)return nd(q.value,f.value.markers)},ye=(q,he)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[q==0,!0];case"fair":return[q==0||he>q,!0];case"append":return[!1,!1];default:return[!1,!1]}},p=(q,he,Ce,De)=>{if(e.sixWeeks&&q.length<6){const se=6-q.length,Ve=(he.getDay()+7-De)%7,$e=6-(Ce.getDay()+7-De)%7,[us,Mr]=ye(Ve,$e);for(let Si=1;Si<=se;Si++)if(Mr?!!(Si%2)==us:us){const Vs=q[0].days[0],Vh=g(mr(Vs.value,-7),tt(he));q.unshift({days:Vh})}else{const Vs=q[q.length-1],Vh=Vs.days[Vs.days.length-1],Ok=g(mr(Vh.value,1),tt(he));q.push({days:Ok})}}return q},g=(q,he)=>{const Ce=le(q),De=[];for(let se=0;se<7;se++){const Ve=mr(Ce,se),$e=tt(Ve)!==he;De.push({text:e.hideOffsetDates&&$e?"":Ve.getDate(),value:Ve,current:!$e,classData:{}})}return De},k=(q,he)=>{const Ce=[],De=new Date(he,q),se=new Date(he,q+1,0),Ve=e.weekStart,$e=rs(De,{weekStartsOn:Ve}),us=Mr=>{const Si=g(Mr,q);if(Ce.push({days:Si}),!Ce[Ce.length-1].days.some(Vs=>st(Jn(Vs.value),Jn(se)))){const Vs=mr(Mr,7);us(Vs)}};return us($e),p(Ce,De,se,Ve)},U=q=>{const he=hi(le(q.value),l.hours,l.minutes,ve());t("date-update",he),m.value.enabled?gy(he,a,m.value.limit):a.value=he,r(),Ln().then(()=>{ce()})},B=q=>d.value.noDisabledRange?RA(s.value[0],q).some(he=>b(he)):!1,O=()=>{s.value=a.value?a.value.slice():[],s.value.length===2&&!(d.value.fixedStart||d.value.fixedEnd)&&(s.value=[])},pe=(q,he)=>{const Ce=[le(q.value),mr(le(q.value),+d.value.autoRange)];I(Ce)?(he&&ae(q.value),s.value=Ce):t("invalid-date",q.value)},ae=q=>{const he=tt(le(q)),Ce=Ke(le(q));if(re(0,he,Ce),u.value.count>0)for(let De=1;De<u.value.count;De++){const se=t3(It(le(q),{year:j.value(De-1),month:H.value(De-1)}));re(De,se.month,se.year)}},me=q=>{if(B(q.value)||!C(q.value,a.value,d.value.fixedStart?0:1))return t("invalid-date",q.value);s.value=VA(le(q.value),a,t,d)},ne=(q,he)=>{if(O(),d.value.autoRange)return pe(q,he);if(d.value.fixedStart||d.value.fixedEnd)return me(q);s.value[0]?C(le(q.value),a.value)&&!B(q.value)?Ft(le(q.value),le(s.value[0]))?(s.value.unshift(le(q.value)),t("range-end",s.value[0])):(s.value[1]=le(q.value),t("range-end",s.value[1])):(e.autoApply&&t("auto-apply-invalid",q.value),t("invalid-date",q.value)):(s.value[0]=le(q.value),t("range-start",s.value[0]))},ve=(q=!0)=>e.enableSeconds?Array.isArray(l.seconds)?q?l.seconds[0]:l.seconds[1]:l.seconds:0,Re=q=>{s.value[q]=hi(s.value[q],l.hours[q],l.minutes[q],ve(q!==1))},Ae=()=>{var q,he;s.value[0]&&s.value[1]&&+((q=s.value)==null?void 0:q[0])>+((he=s.value)==null?void 0:he[1])&&(s.value.reverse(),t("range-start",s.value[0]),t("range-end",s.value[1]))},Pe=()=>{s.value.length&&(s.value[0]&&!s.value[1]?Re(0):(Re(0),Re(1),r()),Ae(),a.value=s.value.slice(),Ih(s.value,t,e.autoApply,e.modelAuto))},Ge=(q,he=!1)=>{if(b(q.value)||!q.current&&e.hideOffsetDates)return t("invalid-date",q.value);if(!d.value.enabled)return U(q);hw(l.hours)&&hw(l.minutes)&&!m.value.enabled&&(ne(q,he),Pe())},ut=(q,he)=>{var Ce;re(q,he.month,he.year),u.value.count&&!u.value.solo&&v(q),t("update-month-year",{instance:q,month:he.month,year:he.year}),n(u.value.solo?q:void 0);const De=(Ce=e.flow)!=null&&Ce.length?e.flow[e.flowStep]:void 0;!he.fromNav&&(De===Vr.month||De===Vr.year)&&r()},gt=(q,he)=>{NA({value:q,modelValue:a,range:d.value.enabled,timezone:he?void 0:h.value.timezone}),P(),e.multiCalendars&&Ln().then(()=>S(!0))},Lt=()=>{d.value.enabled?a.value&&Array.isArray(a.value)&&a.value[0]?a.value=Ft(le(),a.value[0])?[le(),a.value[0]]:[a.value[0],le()]:a.value=[le()]:a.value=le(),P()},Cn=()=>{if(Array.isArray(a.value))if(m.value.enabled){const q=Dr();a.value[a.value.length-1]=R(q)}else a.value=a.value.map((q,he)=>q&&R(q,he));else a.value=R(a.value);t("time-update")},Dr=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null;return{calendars:o,modelValue:a,month:j,year:H,time:l,disabledTimesConfig:M,validateTime:x,getCalendarDays:k,getMarker:V,handleScroll:z,handleSwipe:A,handleArrow:de,selectDate:Ge,updateMonthYear:ut,presetDate:gt,selectCurrentDate:Lt,updateTime:(q,he=!0,Ce=!1)=>{E(q,he,Ce,Cn)}}},k6={key:0},R6=at({__name:"DatePicker",props:{...Cr},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:t,emit:n}){const r=n,s=e,{calendars:i,month:a,year:o,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:f,handleArrow:m,handleScroll:y,handleSwipe:b,selectDate:I,updateMonthYear:C,presetDate:E,selectCurrentDate:R,updateTime:N}=A6(s,r,ge,te),D=ga(),{setHoverDate:x,getDayClassData:M,clearHoverDate:j}=S3(l,s),{defaultedMultiCalendars:H}=$t(s),re=J([]),P=J([]),K=J(null),ce=Kn(D,"calendar"),S=Kn(D,"monthYear"),w=Kn(D,"timePicker"),W=Y=>{s.shadow||r("mount",Y)};en(i,()=>{s.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const ee=G(()=>Y=>h(a.value(Y),o.value(Y)).map(_=>({..._,days:_.days.map(v=>(v.marker=f(v),v.classData=M(v),v))})));function ge(Y){var _;Y||Y===0?(_=P.value[Y])==null||_.triggerTransition(a.value(Y),o.value(Y)):P.value.forEach((v,Q)=>v.triggerTransition(a.value(Q),o.value(Q)))}function te(){r("update-flow-step")}const L=(Y,_=!1)=>{I(Y,_),s.spaceConfirm&&r("select-date")};return t({clearHoverDate:j,presetDate:E,selectCurrentDate:R,toggleMonthPicker:(Y,_,v=0)=>{var Q;(Q=re.value[v])==null||Q.toggleMonthPicker(Y,_)},toggleYearPicker:(Y,_,v=0)=>{var Q;(Q=re.value[v])==null||Q.toggleYearPicker(Y,_)},toggleTimePicker:(Y,_,v)=>{var Q;(Q=K.value)==null||Q.toggleTimePicker(Y,_,v)},handleArrow:m,updateMonthYear:C,getSidebarProps:()=>({modelValue:l,month:a,year:o,time:u,updateTime:N,updateMonthYear:C,selectDate:I,presetDate:E})}),(Y,_)=>(F(),Z(Me,null,[Le(Eh,{"multi-calendars":T(H).count,collapse:Y.collapse},{default:Qe(({instance:v,index:Q})=>[Y.disableMonthYearSelect?oe("",!0):(F(),Je(p6,cn({key:0,ref:X=>{X&&(re.value[Q]=X)},months:T(bA)(Y.formatLocale,Y.locale,Y.monthNameFormat),years:T(hy)(Y.yearRange,Y.locale,Y.reverseYears),month:T(a)(v),year:T(o)(v),instance:v},Y.$props,{onMount:_[0]||(_[0]=X=>W(T(ta).header)),onResetFlow:_[1]||(_[1]=X=>Y.$emit("reset-flow")),onUpdateMonthYear:X=>T(C)(v,X),onOverlayClosed:_[2]||(_[2]=X=>Y.$emit("focus-menu"))}),Vn({_:2},[bt(T(S),(X,z)=>({name:X,fn:Qe(de=>[ke(Y.$slots,X,Zt(In(de)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Le(I6,cn({ref:X=>{X&&(P.value[Q]=X)},"mapped-dates":ee.value(v),month:T(a)(v),year:T(o)(v),instance:v},Y.$props,{onSelectDate:X=>T(I)(X,v!==1),onHandleSpace:X=>L(X,v!==1),onSetHoverDate:_[3]||(_[3]=X=>T(x)(X)),onHandleScroll:X=>T(y)(X,v),onHandleSwipe:X=>T(b)(X,v),onMount:_[4]||(_[4]=X=>W(T(ta).calendar)),onResetFlow:_[5]||(_[5]=X=>Y.$emit("reset-flow")),onTooltipOpen:_[6]||(_[6]=X=>Y.$emit("tooltip-open",X)),onTooltipClose:_[7]||(_[7]=X=>Y.$emit("tooltip-close",X))}),Vn({_:2},[bt(T(ce),(X,z)=>({name:X,fn:Qe(de=>[ke(Y.$slots,X,Zt(In({...de})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),Y.enableTimePicker?(F(),Z("div",k6,[Y.$slots["time-picker"]?ke(Y.$slots,"time-picker",Zt(cn({key:0},{time:T(u),updateTime:T(N)}))):(F(),Je(LA,cn({key:1,ref_key:"timePickerRef",ref:K},Y.$props,{hours:T(u).hours,minutes:T(u).minutes,seconds:T(u).seconds,"internal-model-value":Y.internalModelValue,"disabled-times-config":T(c),"validate-time":T(d),onMount:_[8]||(_[8]=v=>W(T(ta).timePicker)),"onUpdate:hours":_[9]||(_[9]=v=>T(N)(v)),"onUpdate:minutes":_[10]||(_[10]=v=>T(N)(v,!1)),"onUpdate:seconds":_[11]||(_[11]=v=>T(N)(v,!1,!0)),onResetFlow:_[12]||(_[12]=v=>Y.$emit("reset-flow")),onOverlayClosed:_[13]||(_[13]=v=>Y.$emit("time-picker-close")),onOverlayOpened:_[14]||(_[14]=v=>Y.$emit("time-picker-open",v)),onAmPmChange:_[15]||(_[15]=v=>Y.$emit("am-pm-change",v))}),Vn({_:2},[bt(T(w),(v,Q)=>({name:v,fn:Qe(X=>[ke(Y.$slots,v,Zt(In(X)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):oe("",!0)],64))}}),P6=(e,t)=>{const n=J(),{defaultedMultiCalendars:r,defaultedConfig:s,defaultedHighlight:i,defaultedRange:a,propDates:o,defaultedFilters:l,defaultedMultiDates:u}=$t(e),{modelValue:c,year:d,month:h,calendars:f}=Iu(e,t),{isDisabled:m}=Pi(e),{selectYear:y,groupedYears:b,showYearPicker:I,isDisabled:C,toggleYearPicker:E,handleYearSelect:R,handleYear:N}=$A({modelValue:c,multiCalendars:r,highlight:i,calendars:f,propDates:o,month:h,year:d,filters:l,props:e,emit:t}),D=(S,w)=>[S,w].map(W=>Xr(W,"MMMM",{locale:e.formatLocale})).join("-"),x=G(()=>S=>c.value?Array.isArray(c.value)?c.value.some(w=>sw(S,w)):sw(c.value,S):!1),M=S=>{if(a.value.enabled){if(Array.isArray(c.value)){const w=st(S,c.value[0])||st(S,c.value[1]);return wh(c.value,n.value,S)&&!w}return!1}return!1},j=(S,w)=>S.quarter===J0(w)&&S.year===Ke(w),H=S=>typeof i.value=="function"?i.value({quarter:J0(S),year:Ke(S)}):!!i.value.quarters.find(w=>j(w,S)),re=G(()=>S=>{const w=It(new Date,{year:d.value(S)});return QU({start:oA(w),end:XU(w)}).map(W=>{const ee=qi(W),ge=Z0(W),te=m(W),L=M(ee),Y=H(ee);return{text:D(ee,ge),value:ee,active:x.value(ee),highlighted:Y,disabled:te,isBetween:L}})}),P=S=>{gy(S,c,u.value.limit),t("auto-apply",!0)},K=S=>{c.value=yy(c,S,t),Ih(c.value,t,e.autoApply,e.modelAuto)},ce=S=>{c.value=S,t("auto-apply")};return{defaultedConfig:s,defaultedMultiCalendars:r,groupedYears:b,year:d,isDisabled:C,quarters:re,showYearPicker:I,modelValue:c,setHoverDate:S=>{n.value=S},selectYear:y,selectQuarter:(S,w,W)=>{if(!W)return f.value[w].month=tt(Z0(S)),u.value.enabled?P(S):a.value.enabled?K(S):ce(S)},toggleYearPicker:E,handleYearSelect:R,handleYear:N}},S6={class:"dp--quarter-items"},C6=["disabled","onClick","onMouseover"],x6=at({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Cr},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(e,{expose:t,emit:n}){const r=n,s=e,i=ga(),a=Kn(i,"yearMode"),{defaultedMultiCalendars:o,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:f,showYearPicker:m,setHoverDate:y,selectQuarter:b,toggleYearPicker:I,handleYearSelect:C,handleYear:E}=P6(s,r);return t({getSidebarProps:()=>({modelValue:f,year:c,selectQuarter:b,handleYearSelect:C,handleYear:E})}),(R,N)=>(F(),Je(Eh,{"multi-calendars":T(o).count,collapse:R.collapse,stretch:""},{default:Qe(({instance:D})=>[$("div",{class:"dp-quarter-picker-wrap",style:On({minHeight:`${T(l).modeHeight}px`})},[$("div",null,[Le(OA,cn(R.$props,{items:T(u)(D),instance:D,"show-year-picker":T(m)[D],year:T(c)(D),"is-disabled":x=>T(d)(D,x),onHandleYear:x=>T(E)(D,x),onYearSelect:x=>T(C)(x,D),onToggleYearPicker:x=>T(I)(D,x==null?void 0:x.flow,x==null?void 0:x.show)}),Vn({_:2},[bt(T(a),(x,M)=>({name:x,fn:Qe(j=>[ke(R.$slots,x,Zt(In(j)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),$("div",S6,[(F(!0),Z(Me,null,bt(T(h)(D),(x,M)=>(F(),Z("div",{key:M},[$("button",{type:"button",class:Xe(["dp--qr-btn",{"dp--qr-btn-active":x.active,"dp--qr-btn-between":x.isBetween,"dp--qr-btn-disabled":x.disabled,"dp--highlighted":x.highlighted}]),disabled:x.disabled,onClick:j=>T(b)(x.value,D,x.disabled),onMouseover:j=>T(y)(x.value)},[R.$slots.quarter?ke(R.$slots,"quarter",{key:0,value:x.value,text:x.text}):(F(),Z(Me,{key:1},[es(We(x.text),1)],64))],42,C6)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),D6=["id","aria-label"],M6={key:0,class:"dp--menu-load-container"},O6=$("span",{class:"dp--menu-loader"},null,-1),N6=[O6],V6={key:0,class:"dp__sidebar_left"},$6=["onClick","onKeydown"],L6={key:2,class:"dp__sidebar_right"},F6={key:3,class:"dp__action_extra"},fw=at({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Th,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:t,emit:n}){const r=n,s=e,i=J(null),a=G(()=>{const{openOnTop:p,...g}=s;return{...g,flowStep:M.value,collapse:s.collapse,noOverlayFocus:s.noOverlayFocus,menuWrapRef:i.value}}),{setMenuFocused:o,setShiftKey:l,control:u}=DA(),c=ga(),{defaultedTextInput:d,defaultedInline:h,defaultedConfig:f}=$t(s),m=J(null),y=J(0),b=J(null),I=J(!1),C=J(null);Kt(()=>{if(!s.shadow){I.value=!0,E(),window.addEventListener("resize",E);const p=tn(i);if(p&&!d.value.enabled&&!h.value.enabled&&(o(!0),K()),p){const g=k=>{f.value.allowPreventDefault&&k.preventDefault(),di(k,f.value,!0)};p.addEventListener("pointerdown",g),p.addEventListener("mousedown",g)}}}),wo(()=>{window.removeEventListener("resize",E)});const E=()=>{const p=tn(b);p&&(y.value=p.getBoundingClientRect().width)},{arrowRight:R,arrowLeft:N,arrowDown:D,arrowUp:x}=Ri(),{flowStep:M,updateFlowStep:j,childMount:H,resetFlow:re}=C3(s,r,C),P=G(()=>s.monthPicker?q3:s.yearPicker?G3:s.timePicker?d6:s.quarterPicker?x6:R6),K=()=>{const p=tn(i);p&&p.focus({preventScroll:!0})},ce=G(()=>{var p;return((p=C.value)==null?void 0:p.getSidebarProps())||{}}),S=()=>{s.openOnTop&&r("recalculate-position")},w=Kn(c,"action"),W=G(()=>s.monthPicker||s.yearPicker?Kn(c,"monthYear"):s.timePicker?Kn(c,"timePicker"):Kn(c,"shared")),ee=G(()=>s.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ge=G(()=>({dp__menu_disabled:s.disabled,dp__menu_readonly:s.readonly,"dp-menu-loading":s.loading})),te=G(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[s.menuClassName]:!!s.menuClassName})),L=p=>{di(p,f.value,!0)},Y=()=>{s.escClose&&r("close-picker")},_=p=>{if(s.arrowNavigation){if(p==="up")return x();if(p==="down")return D();if(p==="left")return N();if(p==="right")return R()}else p==="left"||p==="up"?de("handleArrow","left",0,p==="up"):de("handleArrow","right",0,p==="down")},v=p=>{l(p.shiftKey),!s.disableMonthYearSelect&&p.code==="Tab"&&p.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(p.preventDefault(),di(p,f.value,!0),r("close-picker"))},Q=()=>{K(),r("time-picker-close")},X=p=>{var g,k,U;(g=C.value)==null||g.toggleTimePicker(!1,!1),(k=C.value)==null||k.toggleMonthPicker(!1,!1,p),(U=C.value)==null||U.toggleYearPicker(!1,!1,p)},z=(p,g=0)=>{var k,U,B;return p==="month"?(k=C.value)==null?void 0:k.toggleMonthPicker(!1,!0,g):p==="year"?(U=C.value)==null?void 0:U.toggleYearPicker(!1,!0,g):p==="time"?(B=C.value)==null?void 0:B.toggleTimePicker(!0,!1):X(g)},de=(p,...g)=>{var k,U;(k=C.value)!=null&&k[p]&&((U=C.value)==null||U[p](...g))},A=()=>{de("selectCurrentDate")},V=(p,g)=>{de("presetDate",p,g)},ye=()=>{de("clearHoverDate")};return t({updateMonthYear:(p,g)=>{de("updateMonthYear",p,g)},switchView:z}),(p,g)=>{var k,U,B;return F(),Z("div",{id:p.uid?`dp-menu-${p.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:"0",role:"dialog","aria-label":(k=p.ariaLabels)==null?void 0:k.menu,class:Xe(te.value),onMouseleave:ye,onClick:L,onKeydown:[Ye(Y,["esc"]),g[18]||(g[18]=Ye(ft(O=>_("left"),["prevent"]),["left"])),g[19]||(g[19]=Ye(ft(O=>_("up"),["prevent"]),["up"])),g[20]||(g[20]=Ye(ft(O=>_("down"),["prevent"]),["down"])),g[21]||(g[21]=Ye(ft(O=>_("right"),["prevent"]),["right"])),v]},[(p.disabled||p.readonly)&&T(h).enabled||p.loading?(F(),Z("div",{key:0,class:Xe(ge.value)},[p.loading?(F(),Z("div",M6,N6)):oe("",!0)],2)):oe("",!0),!T(h).enabled&&!p.teleportCenter?(F(),Z("div",{key:1,class:Xe(ee.value)},null,2)):oe("",!0),$("div",{ref_key:"innerMenuRef",ref:b,class:Xe({dp__menu_content_wrapper:((U=p.presetDates)==null?void 0:U.length)||!!p.$slots["left-sidebar"]||!!p.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&((B=p.presetDates)==null?void 0:B.length)||!!p.$slots["left-sidebar"]||!!p.$slots["right-sidebar"]}),style:On({"--dp-menu-width":`${y.value}px`})},[p.$slots["left-sidebar"]?(F(),Z("div",V6,[ke(p.$slots,"left-sidebar",Zt(In(ce.value)))])):oe("",!0),p.presetDates.length?(F(),Z("div",{key:1,class:Xe({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0})},[(F(!0),Z(Me,null,bt(p.presetDates,(O,pe)=>(F(),Z(Me,{key:pe},[O.slot?ke(p.$slots,O.slot,{key:0,presetDate:V,label:O.label,value:O.value}):(F(),Z("button",{key:1,type:"button",style:On(O.style||{}),class:Xe(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),onClick:ft(ae=>V(O.value,O.noTz),["prevent"]),onKeydown:[Ye(ft(ae=>V(O.value,O.noTz),["prevent"]),["enter"]),Ye(ft(ae=>V(O.value,O.noTz),["prevent"]),["space"])]},We(O.label),47,$6))],64))),128))],2)):oe("",!0),$("div",{ref_key:"calendarWrapperRef",ref:m,class:"dp__instance_calendar",role:"document"},[(F(),Je(gd(P.value),cn({ref_key:"dynCmpRef",ref:C},a.value,{"flow-step":T(M),onMount:T(H),onUpdateFlowStep:T(j),onResetFlow:T(re),onFocusMenu:K,onSelectDate:g[0]||(g[0]=O=>p.$emit("select-date")),onDateUpdate:g[1]||(g[1]=O=>p.$emit("date-update",O)),onTooltipOpen:g[2]||(g[2]=O=>p.$emit("tooltip-open",O)),onTooltipClose:g[3]||(g[3]=O=>p.$emit("tooltip-close",O)),onAutoApply:g[4]||(g[4]=O=>p.$emit("auto-apply",O)),onRangeStart:g[5]||(g[5]=O=>p.$emit("range-start",O)),onRangeEnd:g[6]||(g[6]=O=>p.$emit("range-end",O)),onInvalidFixedRange:g[7]||(g[7]=O=>p.$emit("invalid-fixed-range",O)),onTimeUpdate:g[8]||(g[8]=O=>p.$emit("time-update")),onAmPmChange:g[9]||(g[9]=O=>p.$emit("am-pm-change",O)),onTimePickerOpen:g[10]||(g[10]=O=>p.$emit("time-picker-open",O)),onTimePickerClose:Q,onRecalculatePosition:S,onUpdateMonthYear:g[11]||(g[11]=O=>p.$emit("update-month-year",O)),onAutoApplyInvalid:g[12]||(g[12]=O=>p.$emit("auto-apply-invalid",O)),onInvalidDate:g[13]||(g[13]=O=>p.$emit("invalid-date",O)),"onUpdate:internalModelValue":g[14]||(g[14]=O=>p.$emit("update:internal-model-value",O))}),Vn({_:2},[bt(W.value,(O,pe)=>({name:O,fn:Qe(ae=>[ke(p.$slots,O,Zt(In({...ae})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),p.$slots["right-sidebar"]?(F(),Z("div",L6,[ke(p.$slots,"right-sidebar",Zt(In(ce.value)))])):oe("",!0),p.$slots["action-extra"]?(F(),Z("div",F6,[p.$slots["action-extra"]?ke(p.$slots,"action-extra",{key:0,selectCurrentDate:A}):oe("",!0)])):oe("",!0)],6),!p.autoApply||T(f).keepActionRow?(F(),Je($3,cn({key:2,"menu-mount":I.value},a.value,{"calendar-width":y.value,onClosePicker:g[15]||(g[15]=O=>p.$emit("close-picker")),onSelectDate:g[16]||(g[16]=O=>p.$emit("select-date")),onInvalidSelect:g[17]||(g[17]=O=>p.$emit("invalid-select")),onSelectNow:A}),Vn({_:2},[bt(T(w),(O,pe)=>({name:O,fn:Qe(ae=>[ke(p.$slots,O,Zt(In({...ae})))])}))]),1040,["menu-mount","calendar-width"])):oe("",!0)],42,D6)}}}),U6=typeof window<"u"?window:void 0,Lf=()=>{},j6=e=>dd()?(Pw(e),!0):!1,B6=(e,t,n,r)=>{if(!e)return Lf;let s=Lf;const i=en(()=>T(e),o=>{s(),o&&(o.addEventListener(t,n,r),s=()=>{o.removeEventListener(t,n,r),s=Lf})},{immediate:!0,flush:"post"}),a=()=>{i(),s()};return j6(a),a},Y6=(e,t,n,r={})=>{const{window:s=U6,event:i="pointerdown"}=r;return s?B6(s,i,a=>{const o=tn(e),l=tn(t);!o||!l||o===a.target||a.composedPath().includes(o)||a.composedPath().includes(l)||n(a)},{passive:!0}):void 0},H6=at({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Th},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(e,{expose:t,emit:n}){const r=n,s=e,i=ga(),a=J(!1),o=Ic(s,"modelValue"),l=Ic(s,"timezone"),u=J(null),c=J(null),d=J(null),h=J(!1),f=J(null),m=J(!1),y=J(!1),b=J(!1),{setMenuFocused:I,setShiftKey:C}=DA(),{clearArrowNav:E}=Ri(),{validateDate:R,isValidTime:N}=Pi(s),{defaultedTransitions:D,defaultedTextInput:x,defaultedInline:M,defaultedConfig:j,defaultedRange:H,defaultedMultiDates:re}=$t(s),{menuTransition:P,showTransition:K}=Eu(D);Kt(()=>{v(s.modelValue),Ln().then(()=>{if(!M.value.enabled){const se=te(f.value);se==null||se.addEventListener("scroll",g),window==null||window.addEventListener("resize",k)}}),M.value.enabled&&(a.value=!0),window==null||window.addEventListener("keyup",U),window==null||window.addEventListener("keydown",B)}),wo(()=>{if(!M.value.enabled){const se=te(f.value);se==null||se.removeEventListener("scroll",g),window==null||window.removeEventListener("resize",k)}window==null||window.removeEventListener("keyup",U),window==null||window.removeEventListener("keydown",B)});const ce=Kn(i,"all",s.presetDates),S=Kn(i,"input");en([o,l],()=>{v(o.value)},{deep:!0});const{openOnTop:w,menuStyle:W,xCorrect:ee,setMenuPosition:ge,getScrollableParent:te,shadowRender:L}=k3({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:f,inline:M,emit:r,props:s,slots:i}),{inputValue:Y,internalModelValue:_,parseExternalModelValue:v,emitModelValue:Q,formatInputValue:X,checkBeforeEmit:z}=I3(r,s,h),de=G(()=>({dp__main:!0,dp__theme_dark:s.dark,dp__theme_light:!s.dark,dp__flex_display:M.value.enabled,"dp--flex-display-collapsed":b.value,dp__flex_display_with_input:M.value.input})),A=G(()=>s.dark?"dp__theme_dark":"dp__theme_light"),V=G(()=>({to:typeof s.teleport=="boolean"?"body":s.teleport,disabled:!s.teleport||M.value.enabled})),ye=G(()=>({class:"dp__outer_menu_wrap"})),p=G(()=>M.value.enabled&&(s.timePicker||s.monthPicker||s.yearPicker||s.quarterPicker)),g=()=>{a.value&&(j.value.closeOnScroll?Pe():ge())},k=()=>{var se;a.value&&ge();const Ve=(se=c.value)==null?void 0:se.$el.getBoundingClientRect().width;b.value=document.body.offsetWidth<=Ve},U=se=>{se.key==="Tab"&&!M.value.enabled&&!s.teleport&&j.value.tabOutClosesMenu&&(f.value.contains(document.activeElement)||Pe()),y.value=se.shiftKey},B=se=>{y.value=se.shiftKey},O=()=>{!s.disabled&&!s.readonly&&(L(fw,s),ge(!1),a.value=!0,a.value&&r("open"),a.value||Ae(),v(s.modelValue))},pe=()=>{var se;Y.value="",Ae(),(se=d.value)==null||se.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),j.value.closeOnClearValue&&Pe()},ae=()=>{const se=_.value;return!se||!Array.isArray(se)&&R(se)?!0:Array.isArray(se)?re.value.enabled||se.length===2&&R(se[0])&&R(se[1])?!0:H.value.partialRange&&!s.timePicker?R(se[0]):!1:!1},me=()=>{z()&&ae()?(Q(),Pe()):r("invalid-select",_.value)},ne=se=>{ve(),Q(),j.value.closeOnAutoApply&&!se&&Pe()},ve=()=>{d.value&&x.value.enabled&&d.value.setParsedDate(_.value)},Re=(se=!1)=>{s.autoApply&&N(_.value)&&ae()&&(H.value.enabled&&Array.isArray(_.value)?(H.value.partialRange||_.value.length===2)&&ne(se):ne(se))},Ae=()=>{x.value.enabled||(_.value=null)},Pe=()=>{M.value.enabled||(a.value&&(a.value=!1,ee.value=!1,I(!1),C(!1),E(),r("closed"),Y.value&&v(o.value)),Ae(),r("blur"))},Ge=(se,Ve,$e=!1)=>{if(!se){_.value=null;return}const us=Array.isArray(se)?!se.some(Si=>!R(Si)):R(se),Mr=N(se);us&&Mr&&(_.value=se,Ve&&(m.value=$e,me(),r("text-submit")))},ut=()=>{s.autoApply&&N(_.value)&&Q(),ve()},gt=()=>a.value?Pe():O(),Lt=se=>{_.value=se},Cn=()=>{x.value.enabled&&(h.value=!0,X()),r("focus")},Dr=()=>{if(x.value.enabled&&(h.value=!1,v(s.modelValue),m.value)){const se=Qj(f.value,y.value);se==null||se.focus()}r("blur")},q=se=>{c.value&&c.value.updateMonthYear(0,{month:aw(se.month),year:aw(se.year)})},he=se=>{v(se??s.modelValue)},Ce=(se,Ve)=>{var $e;($e=c.value)==null||$e.switchView(se,Ve)},De=se=>j.value.onClickOutside?j.value.onClickOutside(se):Pe();return Y6(u,d,()=>De(ae)),t({closeMenu:Pe,selectDate:me,clearValue:pe,openMenu:O,onScroll:g,formatInputValue:X,updateInternalModelValue:Lt,setMonthYear:q,parseModel:he,switchView:Ce,toggleMenu:gt}),(se,Ve)=>(F(),Z("div",{ref_key:"pickerWrapperRef",ref:f,class:Xe(de.value),"data-datepicker-instance":""},[Le(O3,cn({ref_key:"inputRef",ref:d,"input-value":T(Y),"onUpdate:inputValue":Ve[0]||(Ve[0]=$e=>vt(Y)?Y.value=$e:null),"is-menu-open":a.value},se.$props,{onClear:pe,onOpen:O,onSetInputDate:Ge,onSetEmptyDate:T(Q),onSelectDate:me,onToggle:gt,onClose:Pe,onFocus:Cn,onBlur:Dr,onRealBlur:Ve[1]||(Ve[1]=$e=>h.value=!1)}),Vn({_:2},[bt(T(S),($e,us)=>({name:$e,fn:Qe(Mr=>[ke(se.$slots,$e,Zt(In(Mr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(F(),Je(gd(se.teleport?wP:"div"),Zt(In(V.value)),{default:Qe(()=>[Le(is,{name:T(P)(T(w)),css:T(K)&&!T(M).enabled},{default:Qe(()=>[a.value?(F(),Z("div",cn({key:0,ref_key:"dpWrapMenuRef",ref:u},ye.value,{class:{"dp--menu-wrapper":!T(M).enabled},style:T(M).enabled?void 0:T(W)}),[Le(fw,cn({ref_key:"dpMenuRef",ref:c},se.$props,{"internal-model-value":T(_),"onUpdate:internalModelValue":Ve[2]||(Ve[2]=$e=>vt(_)?_.value=$e:null),class:{[A.value]:!0,"dp--menu-wrapper":se.teleport},"open-on-top":T(w),"no-overlay-focus":p.value,collapse:b.value,onClosePicker:Pe,onSelectDate:me,onAutoApply:Re,onTimeUpdate:ut,onFlowStep:Ve[3]||(Ve[3]=$e=>se.$emit("flow-step",$e)),onUpdateMonthYear:Ve[4]||(Ve[4]=$e=>se.$emit("update-month-year",$e)),onInvalidSelect:Ve[5]||(Ve[5]=$e=>se.$emit("invalid-select",T(_))),onAutoApplyInvalid:Ve[6]||(Ve[6]=$e=>se.$emit("invalid-select",$e)),onInvalidFixedRange:Ve[7]||(Ve[7]=$e=>se.$emit("invalid-fixed-range",$e)),onRecalculatePosition:T(ge),onTooltipOpen:Ve[8]||(Ve[8]=$e=>se.$emit("tooltip-open",$e)),onTooltipClose:Ve[9]||(Ve[9]=$e=>se.$emit("tooltip-close",$e)),onTimePickerOpen:Ve[10]||(Ve[10]=$e=>se.$emit("time-picker-open",$e)),onTimePickerClose:Ve[11]||(Ve[11]=$e=>se.$emit("time-picker-close",$e)),onAmPmChange:Ve[12]||(Ve[12]=$e=>se.$emit("am-pm-change",$e)),onRangeStart:Ve[13]||(Ve[13]=$e=>se.$emit("range-start",$e)),onRangeEnd:Ve[14]||(Ve[14]=$e=>se.$emit("range-end",$e)),onDateUpdate:Ve[15]||(Ve[15]=$e=>se.$emit("date-update",$e)),onInvalidDate:Ve[16]||(Ve[16]=$e=>se.$emit("invalid-date",$e))}),Vn({_:2},[bt(T(ce),($e,us)=>({name:$e,fn:Qe(Mr=>[ke(se.$slots,$e,Zt(In({...Mr})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):oe("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),_y=(()=>{const e=H6;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),W6=Object.freeze(Object.defineProperty({__proto__:null,default:_y},Symbol.toStringTag,{value:"Module"}));Object.entries(W6).forEach(([e,t])=>{e!=="default"&&(_y[e]=t)});const q6=["for"],z6={key:0,class:"text-red-500"},G6=at({__name:"FormDateInputComponent",props:{name:{},label:{},value:{},processing:{type:Boolean},error:{type:Boolean,default:!1},errorMessage:{default:""},type:{default:"text"}},emits:["update:value"],setup(e,{emit:t}){const n=e,s=gh(n,"value",t);return(i,a)=>(F(),Z("div",null,[$("label",{for:i.name,class:"block mb-2 text-sm font-medium text-gray-900"},We(i.label),9,q6),Le(T(_y),{"enable-time-picker":!1,modelValue:T(s),"onUpdate:modelValue":a[0]||(a[0]=o=>vt(s)?s.value=o:null),id:i.name,disabled:i.processing,placeholder:i.label},null,8,["modelValue","id","disabled","placeholder"]),n.error?(F(),Z("small",z6,We(n.errorMessage),1)):oe("",!0)]))}});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var UA;function we(){return UA.apply(null,arguments)}function K6(e){UA=e}function Pr(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function na(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vy(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ct(e,t))return!1;return!0}function Un(e){return e===void 0}function Ds(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function ku(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function jA(e,t){var n=[],r,s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function ri(e,t){for(var n in t)ct(t,n)&&(e[n]=t[n]);return ct(t,"toString")&&(e.toString=t.toString),ct(t,"valueOf")&&(e.valueOf=t.valueOf),e}function os(e,t,n,r){return ck(e,t,n,r,!0).utc()}function Q6(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ze(e){return e._pf==null&&(e._pf=Q6()),e._pf}var Zp;Array.prototype.some?Zp=Array.prototype.some:Zp=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function wy(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=ze(e),n=Zp.call(t.parsedDateParts,function(s){return s!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Ah(e){var t=os(NaN);return e!=null?ri(ze(t),e):ze(t).userInvalidated=!0,t}var pw=we.momentProperties=[],Ff=!1;function by(e,t){var n,r,s,i=pw.length;if(Un(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Un(t._i)||(e._i=t._i),Un(t._f)||(e._f=t._f),Un(t._l)||(e._l=t._l),Un(t._strict)||(e._strict=t._strict),Un(t._tzm)||(e._tzm=t._tzm),Un(t._isUTC)||(e._isUTC=t._isUTC),Un(t._offset)||(e._offset=t._offset),Un(t._pf)||(e._pf=ze(t)),Un(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=pw[n],s=t[r],Un(s)||(e[r]=s);return e}function Ru(e){by(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ff===!1&&(Ff=!0,we.updateOffset(this),Ff=!1)}function Sr(e){return e instanceof Ru||e!=null&&e._isAMomentObject!=null}function BA(e){we.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function cr(e,t){var n=!0;return ri(function(){if(we.deprecationHandler!=null&&we.deprecationHandler(null,e),n){var r=[],s,i,a,o=arguments.length;for(i=0;i<o;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(a in arguments[0])ct(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}BA(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var mw={};function YA(e,t){we.deprecationHandler!=null&&we.deprecationHandler(e,t),mw[e]||(BA(t),mw[e]=!0)}we.suppressDeprecationWarnings=!1;we.deprecationHandler=null;function ls(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function X6(e){var t,n;for(n in e)ct(e,n)&&(t=e[n],ls(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function em(e,t){var n=ri({},e),r;for(r in t)ct(t,r)&&(na(e[r])&&na(t[r])?(n[r]={},ri(n[r],e[r]),ri(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ct(e,r)&&!ct(t,r)&&na(e[r])&&(n[r]=ri({},n[r]));return n}function Ty(e){e!=null&&this.set(e)}var tm;Object.keys?tm=Object.keys:tm=function(e){var t,n=[];for(t in e)ct(e,t)&&n.push(t);return n};var J6={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Z6(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return ls(r)?r.call(t,n):r}function ss(e,t,n){var r=""+Math.abs(e),s=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Ey=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ec=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Uf={},Qa={};function xe(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(Qa[e]=s),t&&(Qa[t[0]]=function(){return ss(s.apply(this,arguments),t[1],t[2])}),n&&(Qa[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function eB(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function tB(e){var t=e.match(Ey),n,r;for(n=0,r=t.length;n<r;n++)Qa[t[n]]?t[n]=Qa[t[n]]:t[n]=eB(t[n]);return function(s){var i="",a;for(a=0;a<r;a++)i+=ls(t[a])?t[a].call(s,e):t[a];return i}}function gc(e,t){return e.isValid()?(t=HA(t,e.localeData()),Uf[t]=Uf[t]||tB(t),Uf[t](e)):e.localeData().invalidDate()}function HA(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(ec.lastIndex=0;n>=0&&ec.test(e);)e=e.replace(ec,r),ec.lastIndex=0,n-=1;return e}var nB={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function rB(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Ey).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var sB="Invalid date";function iB(){return this._invalidDate}var aB="%d",oB=/\d{1,2}/;function lB(e){return this._ordinal.replace("%d",e)}var uB={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function cB(e,t,n,r){var s=this._relativeTime[n];return ls(s)?s(e,t,n,r):s.replace(/%d/i,e)}function dB(e,t){var n=this._relativeTime[e>0?"future":"past"];return ls(n)?n(t):n.replace(/%s/i,t)}var gw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function dr(e){return typeof e=="string"?gw[e]||gw[e.toLowerCase()]:void 0}function Iy(e){var t={},n,r;for(r in e)ct(e,r)&&(n=dr(r),n&&(t[n]=e[r]));return t}var hB={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function fB(e){var t=[],n;for(n in e)ct(e,n)&&t.push({unit:n,priority:hB[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}var WA=/\d/,er=/\d\d/,qA=/\d{3}/,Ay=/\d{4}/,kh=/[+-]?\d{6}/,xt=/\d\d?/,zA=/\d\d\d\d?/,GA=/\d\d\d\d\d\d?/,Rh=/\d{1,3}/,ky=/\d{1,4}/,Ph=/[+-]?\d{1,6}/,xo=/\d+/,Sh=/[+-]?\d+/,pB=/Z|[+-]\d\d:?\d\d/gi,Ch=/Z|[+-]\d\d(?::?\d\d)?/gi,mB=/[+-]?\d+(\.\d{1,3})?/,Pu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Do=/^[1-9]\d?/,Ry=/^([1-9]\d|\d)/,rd;rd={};function Te(e,t,n){rd[e]=ls(t)?t:function(r,s){return r&&n?n:t}}function gB(e,t){return ct(rd,e)?rd[e](t._strict,t._locale):new RegExp(yB(e))}function yB(e){return ks(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,i){return n||r||s||i}))}function ks(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function et(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=nr(t)),n}var nm={};function Et(e,t){var n,r=t,s;for(typeof e=="string"&&(e=[e]),Ds(t)&&(r=function(i,a){a[t]=et(i)}),s=e.length,n=0;n<s;n++)nm[e[n]]=r}function Su(e,t){Et(e,function(n,r,s,i){s._w=s._w||{},t(n,s._w,s,i)})}function _B(e,t,n){t!=null&&ct(nm,e)&&nm[e](t,n._a,n,e)}function xh(e){return e%4===0&&e%100!==0||e%400===0}var Rn=0,ws=1,Br=2,nn=3,_r=4,bs=5,zi=6,vB=7,wB=8;xe("Y",0,0,function(){var e=this.year();return e<=9999?ss(e,4):"+"+e});xe(0,["YY",2],0,function(){return this.year()%100});xe(0,["YYYY",4],0,"year");xe(0,["YYYYY",5],0,"year");xe(0,["YYYYYY",6,!0],0,"year");Te("Y",Sh);Te("YY",xt,er);Te("YYYY",ky,Ay);Te("YYYYY",Ph,kh);Te("YYYYYY",Ph,kh);Et(["YYYYY","YYYYYY"],Rn);Et("YYYY",function(e,t){t[Rn]=e.length===2?we.parseTwoDigitYear(e):et(e)});Et("YY",function(e,t){t[Rn]=we.parseTwoDigitYear(e)});Et("Y",function(e,t){t[Rn]=parseInt(e,10)});function wl(e){return xh(e)?366:365}we.parseTwoDigitYear=function(e){return et(e)+(et(e)>68?1900:2e3)};var KA=Mo("FullYear",!0);function bB(){return xh(this.year())}function Mo(e,t){return function(n){return n!=null?(QA(this,e,n),we.updateOffset(this,t),this):Xl(this,e)}}function Xl(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function QA(e,t,n){var r,s,i,a,o;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,a=e.month(),o=e.date(),o=o===29&&a===1&&!xh(i)?28:o,s?r.setUTCFullYear(i,a,o):r.setFullYear(i,a,o)}}function TB(e){return e=dr(e),ls(this[e])?this[e]():this}function EB(e,t){if(typeof e=="object"){e=Iy(e);var n=fB(e),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(e=dr(e),ls(this[e]))return this[e](t);return this}function IB(e,t){return(e%t+t)%t}var Wt;Array.prototype.indexOf?Wt=Array.prototype.indexOf:Wt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Py(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=IB(t,12);return e+=(t-n)/12,n===1?xh(e)?29:28:31-n%7%2}xe("M",["MM",2],"Mo",function(){return this.month()+1});xe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});xe("MMMM",0,0,function(e){return this.localeData().months(this,e)});Te("M",xt,Do);Te("MM",xt,er);Te("MMM",function(e,t){return t.monthsShortRegex(e)});Te("MMMM",function(e,t){return t.monthsRegex(e)});Et(["M","MM"],function(e,t){t[ws]=et(e)-1});Et(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[ws]=s:ze(n).invalidMonth=e});var AB="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),XA="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),JA=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kB=Pu,RB=Pu;function PB(e,t){return e?Pr(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||JA).test(t)?"format":"standalone"][e.month()]:Pr(this._months)?this._months:this._months.standalone}function SB(e,t){return e?Pr(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[JA.test(t)?"format":"standalone"][e.month()]:Pr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function CB(e,t,n){var r,s,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=os([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(s=Wt.call(this._shortMonthsParse,a),s!==-1?s:null):(s=Wt.call(this._longMonthsParse,a),s!==-1?s:null):t==="MMM"?(s=Wt.call(this._shortMonthsParse,a),s!==-1?s:(s=Wt.call(this._longMonthsParse,a),s!==-1?s:null)):(s=Wt.call(this._longMonthsParse,a),s!==-1?s:(s=Wt.call(this._shortMonthsParse,a),s!==-1?s:null))}function xB(e,t,n){var r,s,i;if(this._monthsParseExact)return CB.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=os([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ZA(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=et(t);else if(t=e.localeData().monthsParse(t),!Ds(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,Py(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function ek(e){return e!=null?(ZA(this,e),we.updateOffset(this,!0),this):Xl(this,"Month")}function DB(){return Py(this.year(),this.month())}function MB(e){return this._monthsParseExact?(ct(this,"_monthsRegex")||tk.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ct(this,"_monthsShortRegex")||(this._monthsShortRegex=kB),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function OB(e){return this._monthsParseExact?(ct(this,"_monthsRegex")||tk.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ct(this,"_monthsRegex")||(this._monthsRegex=RB),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function tk(){function e(l,u){return u.length-l.length}var t=[],n=[],r=[],s,i,a,o;for(s=0;s<12;s++)i=os([2e3,s]),a=ks(this.monthsShort(i,"")),o=ks(this.months(i,"")),t.push(a),n.push(o),r.push(o),r.push(a);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function NB(e,t,n,r,s,i,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,s,i,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,s,i,a),o}function Jl(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function sd(e,t,n){var r=7+t-n,s=(7+Jl(e,0,r).getUTCDay()-t)%7;return-s+r-1}function nk(e,t,n,r,s){var i=(7+n-r)%7,a=sd(e,r,s),o=1+7*(t-1)+i+a,l,u;return o<=0?(l=e-1,u=wl(l)+o):o>wl(e)?(l=e+1,u=o-wl(e)):(l=e,u=o),{year:l,dayOfYear:u}}function Zl(e,t,n){var r=sd(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,i,a;return s<1?(a=e.year()-1,i=s+Rs(a,t,n)):s>Rs(e.year(),t,n)?(i=s-Rs(e.year(),t,n),a=e.year()+1):(a=e.year(),i=s),{week:i,year:a}}function Rs(e,t,n){var r=sd(e,t,n),s=sd(e+1,t,n);return(wl(e)-r+s)/7}xe("w",["ww",2],"wo","week");xe("W",["WW",2],"Wo","isoWeek");Te("w",xt,Do);Te("ww",xt,er);Te("W",xt,Do);Te("WW",xt,er);Su(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=et(e)});function VB(e){return Zl(e,this._week.dow,this._week.doy).week}var $B={dow:0,doy:6};function LB(){return this._week.dow}function FB(){return this._week.doy}function UB(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function jB(e){var t=Zl(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}xe("d",0,"do","day");xe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});xe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});xe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});xe("e",0,0,"weekday");xe("E",0,0,"isoWeekday");Te("d",xt);Te("e",xt);Te("E",xt);Te("dd",function(e,t){return t.weekdaysMinRegex(e)});Te("ddd",function(e,t){return t.weekdaysShortRegex(e)});Te("dddd",function(e,t){return t.weekdaysRegex(e)});Su(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:ze(n).invalidWeekday=e});Su(["d","e","E"],function(e,t,n,r){t[r]=et(e)});function BB(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function YB(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Sy(e,t){return e.slice(t,7).concat(e.slice(0,t))}var HB="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rk="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),WB="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qB=Pu,zB=Pu,GB=Pu;function KB(e,t){var n=Pr(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Sy(n,this._week.dow):e?n[e.day()]:n}function QB(e){return e===!0?Sy(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function XB(e){return e===!0?Sy(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function JB(e,t,n){var r,s,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=os([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(s=Wt.call(this._weekdaysParse,a),s!==-1?s:null):t==="ddd"?(s=Wt.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=Wt.call(this._minWeekdaysParse,a),s!==-1?s:null):t==="dddd"?(s=Wt.call(this._weekdaysParse,a),s!==-1||(s=Wt.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=Wt.call(this._minWeekdaysParse,a),s!==-1?s:null)):t==="ddd"?(s=Wt.call(this._shortWeekdaysParse,a),s!==-1||(s=Wt.call(this._weekdaysParse,a),s!==-1)?s:(s=Wt.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=Wt.call(this._minWeekdaysParse,a),s!==-1||(s=Wt.call(this._weekdaysParse,a),s!==-1)?s:(s=Wt.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function ZB(e,t,n){var r,s,i;if(this._weekdaysParseExact)return JB.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=os([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function e5(e){if(!this.isValid())return e!=null?this:NaN;var t=Xl(this,"Day");return e!=null?(e=BB(e,this.localeData()),this.add(e-t,"d")):t}function t5(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function n5(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=YB(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function r5(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Cy.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ct(this,"_weekdaysRegex")||(this._weekdaysRegex=qB),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function s5(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Cy.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ct(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zB),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function i5(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Cy.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ct(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=GB),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Cy(){function e(c,d){return d.length-c.length}var t=[],n=[],r=[],s=[],i,a,o,l,u;for(i=0;i<7;i++)a=os([2e3,1]).day(i),o=ks(this.weekdaysMin(a,"")),l=ks(this.weekdaysShort(a,"")),u=ks(this.weekdays(a,"")),t.push(o),n.push(l),r.push(u),s.push(o),s.push(l),s.push(u);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function xy(){return this.hours()%12||12}function a5(){return this.hours()||24}xe("H",["HH",2],0,"hour");xe("h",["hh",2],0,xy);xe("k",["kk",2],0,a5);xe("hmm",0,0,function(){return""+xy.apply(this)+ss(this.minutes(),2)});xe("hmmss",0,0,function(){return""+xy.apply(this)+ss(this.minutes(),2)+ss(this.seconds(),2)});xe("Hmm",0,0,function(){return""+this.hours()+ss(this.minutes(),2)});xe("Hmmss",0,0,function(){return""+this.hours()+ss(this.minutes(),2)+ss(this.seconds(),2)});function sk(e,t){xe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}sk("a",!0);sk("A",!1);function ik(e,t){return t._meridiemParse}Te("a",ik);Te("A",ik);Te("H",xt,Ry);Te("h",xt,Do);Te("k",xt,Do);Te("HH",xt,er);Te("hh",xt,er);Te("kk",xt,er);Te("hmm",zA);Te("hmmss",GA);Te("Hmm",zA);Te("Hmmss",GA);Et(["H","HH"],nn);Et(["k","kk"],function(e,t,n){var r=et(e);t[nn]=r===24?0:r});Et(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Et(["h","hh"],function(e,t,n){t[nn]=et(e),ze(n).bigHour=!0});Et("hmm",function(e,t,n){var r=e.length-2;t[nn]=et(e.substr(0,r)),t[_r]=et(e.substr(r)),ze(n).bigHour=!0});Et("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[nn]=et(e.substr(0,r)),t[_r]=et(e.substr(r,2)),t[bs]=et(e.substr(s)),ze(n).bigHour=!0});Et("Hmm",function(e,t,n){var r=e.length-2;t[nn]=et(e.substr(0,r)),t[_r]=et(e.substr(r))});Et("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[nn]=et(e.substr(0,r)),t[_r]=et(e.substr(r,2)),t[bs]=et(e.substr(s))});function o5(e){return(e+"").toLowerCase().charAt(0)==="p"}var l5=/[ap]\.?m?\.?/i,u5=Mo("Hours",!0);function c5(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var ak={calendar:J6,longDateFormat:nB,invalidDate:sB,ordinal:aB,dayOfMonthOrdinalParse:oB,relativeTime:uB,months:AB,monthsShort:XA,week:$B,weekdays:HB,weekdaysMin:WB,weekdaysShort:rk,meridiemParse:l5},Dt={},Wo={},eu;function d5(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function yw(e){return e&&e.toLowerCase().replace("_","-")}function h5(e){for(var t=0,n,r,s,i;t<e.length;){for(i=yw(e[t]).split("-"),n=i.length,r=yw(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=Dh(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&d5(i,r)>=n-1)break;n--}t++}return eu}function f5(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Dh(e){var t=null,n;if(Dt[e]===void 0&&typeof vc<"u"&&vc&&vc.exports&&f5(e))try{t=eu._abbr,n=require,n("./locale/"+e),fi(t)}catch{Dt[e]=null}return Dt[e]}function fi(e,t){var n;return e&&(Un(t)?n=Os(e):n=Dy(e,t),n?eu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),eu._abbr}function Dy(e,t){if(t!==null){var n,r=ak;if(t.abbr=e,Dt[e]!=null)YA("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Dt[e]._config;else if(t.parentLocale!=null)if(Dt[t.parentLocale]!=null)r=Dt[t.parentLocale]._config;else if(n=Dh(t.parentLocale),n!=null)r=n._config;else return Wo[t.parentLocale]||(Wo[t.parentLocale]=[]),Wo[t.parentLocale].push({name:e,config:t}),null;return Dt[e]=new Ty(em(r,t)),Wo[e]&&Wo[e].forEach(function(s){Dy(s.name,s.config)}),fi(e),Dt[e]}else return delete Dt[e],null}function p5(e,t){if(t!=null){var n,r,s=ak;Dt[e]!=null&&Dt[e].parentLocale!=null?Dt[e].set(em(Dt[e]._config,t)):(r=Dh(e),r!=null&&(s=r._config),t=em(s,t),r==null&&(t.abbr=e),n=new Ty(t),n.parentLocale=Dt[e],Dt[e]=n),fi(e)}else Dt[e]!=null&&(Dt[e].parentLocale!=null?(Dt[e]=Dt[e].parentLocale,e===fi()&&fi(e)):Dt[e]!=null&&delete Dt[e]);return Dt[e]}function Os(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return eu;if(!Pr(e)){if(t=Dh(e),t)return t;e=[e]}return h5(e)}function m5(){return tm(Dt)}function My(e){var t,n=e._a;return n&&ze(e).overflow===-2&&(t=n[ws]<0||n[ws]>11?ws:n[Br]<1||n[Br]>Py(n[Rn],n[ws])?Br:n[nn]<0||n[nn]>24||n[nn]===24&&(n[_r]!==0||n[bs]!==0||n[zi]!==0)?nn:n[_r]<0||n[_r]>59?_r:n[bs]<0||n[bs]>59?bs:n[zi]<0||n[zi]>999?zi:-1,ze(e)._overflowDayOfYear&&(t<Rn||t>Br)&&(t=Br),ze(e)._overflowWeeks&&t===-1&&(t=vB),ze(e)._overflowWeekday&&t===-1&&(t=wB),ze(e).overflow=t),e}var g5=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,y5=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_5=/Z|[+-]\d\d(?::?\d\d)?/,tc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],jf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],v5=/^\/?Date\((-?\d+)/i,w5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,b5={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ok(e){var t,n,r=e._i,s=g5.exec(r)||y5.exec(r),i,a,o,l,u=tc.length,c=jf.length;if(s){for(ze(e).iso=!0,t=0,n=u;t<n;t++)if(tc[t][1].exec(s[1])){a=tc[t][0],i=tc[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(s[3]){for(t=0,n=c;t<n;t++)if(jf[t][1].exec(s[3])){o=(s[2]||" ")+jf[t][0];break}if(o==null){e._isValid=!1;return}}if(!i&&o!=null){e._isValid=!1;return}if(s[4])if(_5.exec(s[4]))l="Z";else{e._isValid=!1;return}e._f=a+(o||"")+(l||""),Ny(e)}else e._isValid=!1}function T5(e,t,n,r,s,i){var a=[E5(e),XA.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&a.push(parseInt(i,10)),a}function E5(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function I5(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function A5(e,t,n){if(e){var r=rk.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return ze(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function k5(e,t,n){if(e)return b5[e];if(t)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function lk(e){var t=w5.exec(I5(e._i)),n;if(t){if(n=T5(t[4],t[3],t[2],t[5],t[6],t[7]),!A5(t[1],n,e))return;e._a=n,e._tzm=k5(t[8],t[9],t[10]),e._d=Jl.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ze(e).rfc2822=!0}else e._isValid=!1}function R5(e){var t=v5.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(ok(e),e._isValid===!1)delete e._isValid;else return;if(lk(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:we.createFromInputFallback(e)}we.createFromInputFallback=cr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Va(e,t,n){return e??t??n}function P5(e){var t=new Date(we.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Oy(e){var t,n,r=[],s,i,a;if(!e._d){for(s=P5(e),e._w&&e._a[Br]==null&&e._a[ws]==null&&S5(e),e._dayOfYear!=null&&(a=Va(e._a[Rn],s[Rn]),(e._dayOfYear>wl(a)||e._dayOfYear===0)&&(ze(e)._overflowDayOfYear=!0),n=Jl(a,0,e._dayOfYear),e._a[ws]=n.getUTCMonth(),e._a[Br]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[nn]===24&&e._a[_r]===0&&e._a[bs]===0&&e._a[zi]===0&&(e._nextDay=!0,e._a[nn]=0),e._d=(e._useUTC?Jl:NB).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[nn]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(ze(e).weekdayMismatch=!0)}}function S5(e){var t,n,r,s,i,a,o,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,a=4,n=Va(t.GG,e._a[Rn],Zl(Ct(),1,4).year),r=Va(t.W,1),s=Va(t.E,1),(s<1||s>7)&&(l=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,u=Zl(Ct(),i,a),n=Va(t.gg,e._a[Rn],u.year),r=Va(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(l=!0)):t.e!=null?(s=t.e+i,(t.e<0||t.e>6)&&(l=!0)):s=i),r<1||r>Rs(n,i,a)?ze(e)._overflowWeeks=!0:l!=null?ze(e)._overflowWeekday=!0:(o=nk(n,r,s,i,a),e._a[Rn]=o.year,e._dayOfYear=o.dayOfYear)}we.ISO_8601=function(){};we.RFC_2822=function(){};function Ny(e){if(e._f===we.ISO_8601){ok(e);return}if(e._f===we.RFC_2822){lk(e);return}e._a=[],ze(e).empty=!0;var t=""+e._i,n,r,s,i,a,o=t.length,l=0,u,c;for(s=HA(e._f,e._locale).match(Ey)||[],c=s.length,n=0;n<c;n++)i=s[n],r=(t.match(gB(i,e))||[])[0],r&&(a=t.substr(0,t.indexOf(r)),a.length>0&&ze(e).unusedInput.push(a),t=t.slice(t.indexOf(r)+r.length),l+=r.length),Qa[i]?(r?ze(e).empty=!1:ze(e).unusedTokens.push(i),_B(i,r,e)):e._strict&&!r&&ze(e).unusedTokens.push(i);ze(e).charsLeftOver=o-l,t.length>0&&ze(e).unusedInput.push(t),e._a[nn]<=12&&ze(e).bigHour===!0&&e._a[nn]>0&&(ze(e).bigHour=void 0),ze(e).parsedDateParts=e._a.slice(0),ze(e).meridiem=e._meridiem,e._a[nn]=C5(e._locale,e._a[nn],e._meridiem),u=ze(e).era,u!==null&&(e._a[Rn]=e._locale.erasConvertYear(u,e._a[Rn])),Oy(e),My(e)}function C5(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function x5(e){var t,n,r,s,i,a,o=!1,l=e._f.length;if(l===0){ze(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<l;s++)i=0,a=!1,t=by({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Ny(t),wy(t)&&(a=!0),i+=ze(t).charsLeftOver,i+=ze(t).unusedTokens.length*10,ze(t).score=i,o?i<r&&(r=i,n=t):(r==null||i<r||a)&&(r=i,n=t,a&&(o=!0));ri(e,n||t)}function D5(e){if(!e._d){var t=Iy(e._i),n=t.day===void 0?t.date:t.day;e._a=jA([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),Oy(e)}}function M5(e){var t=new Ru(My(uk(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function uk(e){var t=e._i,n=e._f;return e._locale=e._locale||Os(e._l),t===null||n===void 0&&t===""?Ah({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Sr(t)?new Ru(My(t)):(ku(t)?e._d=t:Pr(n)?x5(e):n?Ny(e):O5(e),wy(e)||(e._d=null),e))}function O5(e){var t=e._i;Un(t)?e._d=new Date(we.now()):ku(t)?e._d=new Date(t.valueOf()):typeof t=="string"?R5(e):Pr(t)?(e._a=jA(t.slice(0),function(n){return parseInt(n,10)}),Oy(e)):na(t)?D5(e):Ds(t)?e._d=new Date(t):we.createFromInputFallback(e)}function ck(e,t,n,r,s){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(na(e)&&vy(e)||Pr(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=e,i._f=t,i._strict=r,M5(i)}function Ct(e,t,n,r){return ck(e,t,n,r,!1)}var N5=cr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ah()}),V5=cr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ah()});function dk(e,t){var n,r;if(t.length===1&&Pr(t[0])&&(t=t[0]),!t.length)return Ct();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function $5(){var e=[].slice.call(arguments,0);return dk("isBefore",e)}function L5(){var e=[].slice.call(arguments,0);return dk("isAfter",e)}var F5=function(){return Date.now?Date.now():+new Date},qo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function U5(e){var t,n=!1,r,s=qo.length;for(t in e)if(ct(e,t)&&!(Wt.call(qo,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<s;++r)if(e[qo[r]]){if(n)return!1;parseFloat(e[qo[r]])!==et(e[qo[r]])&&(n=!0)}return!0}function j5(){return this._isValid}function B5(){return xr(NaN)}function Mh(e){var t=Iy(e),n=t.year||0,r=t.quarter||0,s=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=U5(t),this._milliseconds=+c+u*1e3+l*6e4+o*1e3*60*60,this._days=+a+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=Os(),this._bubble()}function yc(e){return e instanceof Mh}function rm(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Y5(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0,a;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&et(e[a])!==et(t[a]))&&i++;return i+s}function hk(e,t){xe(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ss(~~(n/60),2)+t+ss(~~n%60,2)})}hk("Z",":");hk("ZZ","");Te("Z",Ch);Te("ZZ",Ch);Et(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Vy(Ch,e)});var H5=/([\+\-]|\d\d)/gi;function Vy(e,t){var n=(t||"").match(e),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(H5)||["-",0,0],i=+(s[1]*60)+et(s[2]),i===0?0:s[0]==="+"?i:-i)}function $y(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Sr(e)||ku(e)?e.valueOf():Ct(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),we.updateOffset(n,!1),n):Ct(e).local()}function sm(e){return-Math.round(e._d.getTimezoneOffset())}we.updateOffset=function(){};function W5(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Vy(Ch,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=sm(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?mk(this,xr(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,we.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:sm(this)}function q5(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function z5(e){return this.utcOffset(0,e)}function G5(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(sm(this),"m")),this}function K5(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Vy(pB,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Q5(e){return this.isValid()?(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function X5(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function J5(){if(!Un(this._isDSTShifted))return this._isDSTShifted;var e={},t;return by(e,this),e=uk(e),e._a?(t=e._isUTC?os(e._a):Ct(e._a),this._isDSTShifted=this.isValid()&&Y5(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Z5(){return this.isValid()?!this._isUTC:!1}function e9(){return this.isValid()?this._isUTC:!1}function fk(){return this.isValid()?this._isUTC&&this._offset===0:!1}var t9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,n9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xr(e,t){var n=e,r=null,s,i,a;return yc(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Ds(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=t9.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:et(r[Br])*s,h:et(r[nn])*s,m:et(r[_r])*s,s:et(r[bs])*s,ms:et(rm(r[zi]*1e3))*s}):(r=n9.exec(e))?(s=r[1]==="-"?-1:1,n={y:Oi(r[2],s),M:Oi(r[3],s),w:Oi(r[4],s),d:Oi(r[5],s),h:Oi(r[6],s),m:Oi(r[7],s),s:Oi(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=r9(Ct(n.from),Ct(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),i=new Mh(n),yc(e)&&ct(e,"_locale")&&(i._locale=e._locale),yc(e)&&ct(e,"_isValid")&&(i._isValid=e._isValid),i}xr.fn=Mh.prototype;xr.invalid=B5;function Oi(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function _w(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function r9(e,t){var n;return e.isValid()&&t.isValid()?(t=$y(t,e),e.isBefore(t)?n=_w(e,t):(n=_w(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function pk(e,t){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(YA(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=xr(n,r),mk(this,s,e),this}}function mk(e,t,n,r){var s=t._milliseconds,i=rm(t._days),a=rm(t._months);e.isValid()&&(r=r??!0,a&&ZA(e,Xl(e,"Month")+a*n),i&&QA(e,"Date",Xl(e,"Date")+i*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&we.updateOffset(e,i||a))}var s9=pk(1,"add"),i9=pk(-1,"subtract");function gk(e){return typeof e=="string"||e instanceof String}function a9(e){return Sr(e)||ku(e)||gk(e)||Ds(e)||l9(e)||o9(e)||e===null||e===void 0}function o9(e){var t=na(e)&&!vy(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,a=r.length;for(s=0;s<a;s+=1)i=r[s],n=n||ct(e,i);return t&&n}function l9(e){var t=Pr(e),n=!1;return t&&(n=e.filter(function(r){return!Ds(r)&&gk(e)}).length===0),t&&n}function u9(e){var t=na(e)&&!vy(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||ct(e,i);return t&&n}function c9(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function d9(e,t){arguments.length===1&&(arguments[0]?a9(arguments[0])?(e=arguments[0],t=void 0):u9(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Ct(),r=$y(n,this).startOf("day"),s=we.calendarFormat(this,r)||"sameElse",i=t&&(ls(t[s])?t[s].call(this,n):t[s]);return this.format(i||this.localeData().calendar(s,this,Ct(n)))}function h9(){return new Ru(this)}function f9(e,t){var n=Sr(e)?e:Ct(e);return this.isValid()&&n.isValid()?(t=dr(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function p9(e,t){var n=Sr(e)?e:Ct(e);return this.isValid()&&n.isValid()?(t=dr(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function m9(e,t,n,r){var s=Sr(e)?e:Ct(e),i=Sr(t)?t:Ct(t);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function g9(e,t){var n=Sr(e)?e:Ct(e),r;return this.isValid()&&n.isValid()?(t=dr(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function y9(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function _9(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function v9(e,t,n){var r,s,i;if(!this.isValid())return NaN;if(r=$y(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=dr(t),t){case"year":i=_c(this,r)/12;break;case"month":i=_c(this,r);break;case"quarter":i=_c(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:nr(i)}function _c(e,t){if(e.date()<t.date())return-_c(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,i;return t-r<0?(s=e.clone().add(n-1,"months"),i=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),i=(t-r)/(s-r)),-(n+i)||0}we.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";we.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function w9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function b9(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?gc(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ls(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gc(n,"Z")):gc(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function T9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+s+i)}function E9(e){e||(e=this.isUtc()?we.defaultFormatUtc:we.defaultFormat);var t=gc(this,e);return this.localeData().postformat(t)}function I9(e,t){return this.isValid()&&(Sr(e)&&e.isValid()||Ct(e).isValid())?xr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function A9(e){return this.from(Ct(),e)}function k9(e,t){return this.isValid()&&(Sr(e)&&e.isValid()||Ct(e).isValid())?xr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function R9(e){return this.to(Ct(),e)}function yk(e){var t;return e===void 0?this._locale._abbr:(t=Os(e),t!=null&&(this._locale=t),this)}var _k=cr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function vk(){return this._locale}var id=1e3,Xa=60*id,ad=60*Xa,wk=(365*400+97)*24*ad;function Ja(e,t){return(e%t+t)%t}function bk(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-wk:new Date(e,t,n).valueOf()}function Tk(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-wk:Date.UTC(e,t,n)}function P9(e){var t,n;if(e=dr(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Tk:bk,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ja(t+(this._isUTC?0:this.utcOffset()*Xa),ad);break;case"minute":t=this._d.valueOf(),t-=Ja(t,Xa);break;case"second":t=this._d.valueOf(),t-=Ja(t,id);break}return this._d.setTime(t),we.updateOffset(this,!0),this}function S9(e){var t,n;if(e=dr(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Tk:bk,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ad-Ja(t+(this._isUTC?0:this.utcOffset()*Xa),ad)-1;break;case"minute":t=this._d.valueOf(),t+=Xa-Ja(t,Xa)-1;break;case"second":t=this._d.valueOf(),t+=id-Ja(t,id)-1;break}return this._d.setTime(t),we.updateOffset(this,!0),this}function C9(){return this._d.valueOf()-(this._offset||0)*6e4}function x9(){return Math.floor(this.valueOf()/1e3)}function D9(){return new Date(this.valueOf())}function M9(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function O9(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function N9(){return this.isValid()?this.toISOString():null}function V9(){return wy(this)}function $9(){return ri({},ze(this))}function L9(){return ze(this).overflow}function F9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}xe("N",0,0,"eraAbbr");xe("NN",0,0,"eraAbbr");xe("NNN",0,0,"eraAbbr");xe("NNNN",0,0,"eraName");xe("NNNNN",0,0,"eraNarrow");xe("y",["y",1],"yo","eraYear");xe("y",["yy",2],0,"eraYear");xe("y",["yyy",3],0,"eraYear");xe("y",["yyyy",4],0,"eraYear");Te("N",Ly);Te("NN",Ly);Te("NNN",Ly);Te("NNNN",Q9);Te("NNNNN",X9);Et(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?ze(n).era=s:ze(n).invalidEra=e});Te("y",xo);Te("yy",xo);Te("yyy",xo);Te("yyyy",xo);Te("yo",J9);Et(["y","yy","yyy","yyyy"],Rn);Et(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Rn]=n._locale.eraYearOrdinalParse(e,s):t[Rn]=parseInt(e,10)});function U9(e,t){var n,r,s,i=this._eras||Os("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=we(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=we(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function j9(e,t,n){var r,s,i=this.eras(),a,o,l;for(e=e.toUpperCase(),r=0,s=i.length;r<s;++r)if(a=i[r].name.toUpperCase(),o=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return i[r];break;case"NNNN":if(a===e)return i[r];break;case"NNNNN":if(l===e)return i[r];break}else if([a,o,l].indexOf(e)>=0)return i[r]}function B9(e,t){var n=e.since<=e.until?1:-1;return t===void 0?we(e.since).year():we(e.since).year()+(t-e.offset)*n}function Y9(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function H9(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function W9(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function q9(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-we(s[e].since).year())*n+s[e].offset;return this.year()}function z9(e){return ct(this,"_erasNameRegex")||Fy.call(this),e?this._erasNameRegex:this._erasRegex}function G9(e){return ct(this,"_erasAbbrRegex")||Fy.call(this),e?this._erasAbbrRegex:this._erasRegex}function K9(e){return ct(this,"_erasNarrowRegex")||Fy.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ly(e,t){return t.erasAbbrRegex(e)}function Q9(e,t){return t.erasNameRegex(e)}function X9(e,t){return t.erasNarrowRegex(e)}function J9(e,t){return t._eraYearOrdinalRegex||xo}function Fy(){var e=[],t=[],n=[],r=[],s,i,a,o,l,u=this.eras();for(s=0,i=u.length;s<i;++s)a=ks(u[s].name),o=ks(u[s].abbr),l=ks(u[s].narrow),t.push(a),e.push(o),n.push(l),r.push(a),r.push(o),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}xe(0,["gg",2],0,function(){return this.weekYear()%100});xe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Oh(e,t){xe(0,[e,e.length],0,t)}Oh("gggg","weekYear");Oh("ggggg","weekYear");Oh("GGGG","isoWeekYear");Oh("GGGGG","isoWeekYear");Te("G",Sh);Te("g",Sh);Te("GG",xt,er);Te("gg",xt,er);Te("GGGG",ky,Ay);Te("gggg",ky,Ay);Te("GGGGG",Ph,kh);Te("ggggg",Ph,kh);Su(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=et(e)});Su(["gg","GG"],function(e,t,n,r){t[r]=we.parseTwoDigitYear(e)});function Z9(e){return Ek.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function eY(e){return Ek.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function tY(){return Rs(this.year(),1,4)}function nY(){return Rs(this.isoWeekYear(),1,4)}function rY(){var e=this.localeData()._week;return Rs(this.year(),e.dow,e.doy)}function sY(){var e=this.localeData()._week;return Rs(this.weekYear(),e.dow,e.doy)}function Ek(e,t,n,r,s){var i;return e==null?Zl(this,r,s).year:(i=Rs(e,r,s),t>i&&(t=i),iY.call(this,e,t,n,r,s))}function iY(e,t,n,r,s){var i=nk(e,t,n,r,s),a=Jl(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}xe("Q",0,"Qo","quarter");Te("Q",WA);Et("Q",function(e,t){t[ws]=(et(e)-1)*3});function aY(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}xe("D",["DD",2],"Do","date");Te("D",xt,Do);Te("DD",xt,er);Te("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Et(["D","DD"],Br);Et("Do",function(e,t){t[Br]=et(e.match(xt)[0])});var Ik=Mo("Date",!0);xe("DDD",["DDDD",3],"DDDo","dayOfYear");Te("DDD",Rh);Te("DDDD",qA);Et(["DDD","DDDD"],function(e,t,n){n._dayOfYear=et(e)});function oY(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}xe("m",["mm",2],0,"minute");Te("m",xt,Ry);Te("mm",xt,er);Et(["m","mm"],_r);var lY=Mo("Minutes",!1);xe("s",["ss",2],0,"second");Te("s",xt,Ry);Te("ss",xt,er);Et(["s","ss"],bs);var uY=Mo("Seconds",!1);xe("S",0,0,function(){return~~(this.millisecond()/100)});xe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});xe(0,["SSS",3],0,"millisecond");xe(0,["SSSS",4],0,function(){return this.millisecond()*10});xe(0,["SSSSS",5],0,function(){return this.millisecond()*100});xe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});xe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});xe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});xe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Te("S",Rh,WA);Te("SS",Rh,er);Te("SSS",Rh,qA);var si,Ak;for(si="SSSS";si.length<=9;si+="S")Te(si,xo);function cY(e,t){t[zi]=et(("0."+e)*1e3)}for(si="S";si.length<=9;si+="S")Et(si,cY);Ak=Mo("Milliseconds",!1);xe("z",0,0,"zoneAbbr");xe("zz",0,0,"zoneName");function dY(){return this._isUTC?"UTC":""}function hY(){return this._isUTC?"Coordinated Universal Time":""}var fe=Ru.prototype;fe.add=s9;fe.calendar=d9;fe.clone=h9;fe.diff=v9;fe.endOf=S9;fe.format=E9;fe.from=I9;fe.fromNow=A9;fe.to=k9;fe.toNow=R9;fe.get=TB;fe.invalidAt=L9;fe.isAfter=f9;fe.isBefore=p9;fe.isBetween=m9;fe.isSame=g9;fe.isSameOrAfter=y9;fe.isSameOrBefore=_9;fe.isValid=V9;fe.lang=_k;fe.locale=yk;fe.localeData=vk;fe.max=V5;fe.min=N5;fe.parsingFlags=$9;fe.set=EB;fe.startOf=P9;fe.subtract=i9;fe.toArray=M9;fe.toObject=O9;fe.toDate=D9;fe.toISOString=b9;fe.inspect=T9;typeof Symbol<"u"&&Symbol.for!=null&&(fe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});fe.toJSON=N9;fe.toString=w9;fe.unix=x9;fe.valueOf=C9;fe.creationData=F9;fe.eraName=Y9;fe.eraNarrow=H9;fe.eraAbbr=W9;fe.eraYear=q9;fe.year=KA;fe.isLeapYear=bB;fe.weekYear=Z9;fe.isoWeekYear=eY;fe.quarter=fe.quarters=aY;fe.month=ek;fe.daysInMonth=DB;fe.week=fe.weeks=UB;fe.isoWeek=fe.isoWeeks=jB;fe.weeksInYear=rY;fe.weeksInWeekYear=sY;fe.isoWeeksInYear=tY;fe.isoWeeksInISOWeekYear=nY;fe.date=Ik;fe.day=fe.days=e5;fe.weekday=t5;fe.isoWeekday=n5;fe.dayOfYear=oY;fe.hour=fe.hours=u5;fe.minute=fe.minutes=lY;fe.second=fe.seconds=uY;fe.millisecond=fe.milliseconds=Ak;fe.utcOffset=W5;fe.utc=z5;fe.local=G5;fe.parseZone=K5;fe.hasAlignedHourOffset=Q5;fe.isDST=X5;fe.isLocal=Z5;fe.isUtcOffset=e9;fe.isUtc=fk;fe.isUTC=fk;fe.zoneAbbr=dY;fe.zoneName=hY;fe.dates=cr("dates accessor is deprecated. Use date instead.",Ik);fe.months=cr("months accessor is deprecated. Use month instead",ek);fe.years=cr("years accessor is deprecated. Use year instead",KA);fe.zone=cr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",q5);fe.isDSTShifted=cr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",J5);function fY(e){return Ct(e*1e3)}function pY(){return Ct.apply(null,arguments).parseZone()}function kk(e){return e}var dt=Ty.prototype;dt.calendar=Z6;dt.longDateFormat=rB;dt.invalidDate=iB;dt.ordinal=lB;dt.preparse=kk;dt.postformat=kk;dt.relativeTime=cB;dt.pastFuture=dB;dt.set=X6;dt.eras=U9;dt.erasParse=j9;dt.erasConvertYear=B9;dt.erasAbbrRegex=G9;dt.erasNameRegex=z9;dt.erasNarrowRegex=K9;dt.months=PB;dt.monthsShort=SB;dt.monthsParse=xB;dt.monthsRegex=OB;dt.monthsShortRegex=MB;dt.week=VB;dt.firstDayOfYear=FB;dt.firstDayOfWeek=LB;dt.weekdays=KB;dt.weekdaysMin=XB;dt.weekdaysShort=QB;dt.weekdaysParse=ZB;dt.weekdaysRegex=r5;dt.weekdaysShortRegex=s5;dt.weekdaysMinRegex=i5;dt.isPM=o5;dt.meridiem=c5;function od(e,t,n,r){var s=Os(),i=os().set(r,t);return s[n](i,e)}function Rk(e,t,n){if(Ds(e)&&(t=e,e=void 0),e=e||"",t!=null)return od(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=od(e,r,n,"month");return s}function Uy(e,t,n,r){typeof e=="boolean"?(Ds(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Ds(t)&&(n=t,t=void 0),t=t||"");var s=Os(),i=e?s._week.dow:0,a,o=[];if(n!=null)return od(t,(n+i)%7,r,"day");for(a=0;a<7;a++)o[a]=od(t,(a+i)%7,r,"day");return o}function mY(e,t){return Rk(e,t,"months")}function gY(e,t){return Rk(e,t,"monthsShort")}function yY(e,t,n){return Uy(e,t,n,"weekdays")}function _Y(e,t,n){return Uy(e,t,n,"weekdaysShort")}function vY(e,t,n){return Uy(e,t,n,"weekdaysMin")}fi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=et(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});we.lang=cr("moment.lang is deprecated. Use moment.locale instead.",fi);we.langData=cr("moment.langData is deprecated. Use moment.localeData instead.",Os);var ds=Math.abs;function wY(){var e=this._data;return this._milliseconds=ds(this._milliseconds),this._days=ds(this._days),this._months=ds(this._months),e.milliseconds=ds(e.milliseconds),e.seconds=ds(e.seconds),e.minutes=ds(e.minutes),e.hours=ds(e.hours),e.months=ds(e.months),e.years=ds(e.years),this}function Pk(e,t,n,r){var s=xr(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function bY(e,t){return Pk(this,e,t,1)}function TY(e,t){return Pk(this,e,t,-1)}function vw(e){return e<0?Math.floor(e):Math.ceil(e)}function EY(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,i,a,o,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=vw(im(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=nr(e/1e3),r.seconds=s%60,i=nr(s/60),r.minutes=i%60,a=nr(i/60),r.hours=a%24,t+=nr(a/24),l=nr(Sk(t)),n+=l,t-=vw(im(l)),o=nr(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function Sk(e){return e*4800/146097}function im(e){return e*146097/4800}function IY(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=dr(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Sk(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(im(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Ns(e){return function(){return this.as(e)}}var Ck=Ns("ms"),AY=Ns("s"),kY=Ns("m"),RY=Ns("h"),PY=Ns("d"),SY=Ns("w"),CY=Ns("M"),xY=Ns("Q"),DY=Ns("y"),MY=Ck;function OY(){return xr(this)}function NY(e){return e=dr(e),this.isValid()?this[e+"s"]():NaN}function Ia(e){return function(){return this.isValid()?this._data[e]:NaN}}var VY=Ia("milliseconds"),$Y=Ia("seconds"),LY=Ia("minutes"),FY=Ia("hours"),UY=Ia("days"),jY=Ia("months"),BY=Ia("years");function YY(){return nr(this.days()/7)}var fs=Math.round,Ua={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function HY(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function WY(e,t,n,r){var s=xr(e).abs(),i=fs(s.as("s")),a=fs(s.as("m")),o=fs(s.as("h")),l=fs(s.as("d")),u=fs(s.as("M")),c=fs(s.as("w")),d=fs(s.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=t,h[3]=+e>0,h[4]=r,HY.apply(null,h)}function qY(e){return e===void 0?fs:typeof e=="function"?(fs=e,!0):!1}function zY(e,t){return Ua[e]===void 0?!1:t===void 0?Ua[e]:(Ua[e]=t,e==="s"&&(Ua.ss=t-1),!0)}function GY(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ua,s,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Ua,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),i=WY(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var Bf=Math.abs;function Sa(e){return(e>0)-(e<0)||+e}function Nh(){if(!this.isValid())return this.localeData().invalidDate();var e=Bf(this._milliseconds)/1e3,t=Bf(this._days),n=Bf(this._months),r,s,i,a,o=this.asSeconds(),l,u,c,d;return o?(r=nr(e/60),s=nr(r/60),e%=60,r%=60,i=nr(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",u=Sa(this._months)!==Sa(o)?"-":"",c=Sa(this._days)!==Sa(o)?"-":"",d=Sa(this._milliseconds)!==Sa(o)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(s||r||e?"T":"")+(s?d+s+"H":"")+(r?d+r+"M":"")+(e?d+a+"S":"")):"P0D"}var ot=Mh.prototype;ot.isValid=j5;ot.abs=wY;ot.add=bY;ot.subtract=TY;ot.as=IY;ot.asMilliseconds=Ck;ot.asSeconds=AY;ot.asMinutes=kY;ot.asHours=RY;ot.asDays=PY;ot.asWeeks=SY;ot.asMonths=CY;ot.asQuarters=xY;ot.asYears=DY;ot.valueOf=MY;ot._bubble=EY;ot.clone=OY;ot.get=NY;ot.milliseconds=VY;ot.seconds=$Y;ot.minutes=LY;ot.hours=FY;ot.days=UY;ot.weeks=YY;ot.months=jY;ot.years=BY;ot.humanize=GY;ot.toISOString=Nh;ot.toString=Nh;ot.toJSON=Nh;ot.locale=yk;ot.localeData=vk;ot.toIsoString=cr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nh);ot.lang=_k;xe("X",0,0,"unix");xe("x",0,0,"valueOf");Te("x",Sh);Te("X",mB);Et("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Et("x",function(e,t,n){n._d=new Date(et(e))});//! moment.js
we.version="2.30.1";K6(Ct);we.fn=fe;we.min=$5;we.max=L5;we.now=F5;we.utc=os;we.unix=fY;we.months=mY;we.isDate=ku;we.locale=fi;we.invalid=Ah;we.duration=xr;we.isMoment=Sr;we.weekdays=yY;we.parseZone=pY;we.localeData=Os;we.isDuration=yc;we.monthsShort=gY;we.weekdaysMin=vY;we.defineLocale=Dy;we.updateLocale=p5;we.locales=m5;we.weekdaysShort=_Y;we.normalizeUnits=dr;we.relativeTimeRounding=qY;we.relativeTimeThreshold=zY;we.calendarFormat=c9;we.prototype=fe;we.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const KY={getStoreDate(e){return we(e).format("YYYY-MM-DD")}},QY={class:"grid grid-cols-1 gap-4"},XY={class:"w-full py-2 px-3 bg-gray-100 rounded-xl flex flex-col justify-center shadow duration-300 hover:bg-white hover:shadow-xl"},JY={class:"flex justify-between"},ZY={class:"text-lg font-semibold"},eH={key:0,class:"pt-4"},tH={class:"relative overflow-x-auto"},nH={class:"w-full text-sm text-left rtl:text-right text-gray-500"},rH=$("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[$("tr",null,[$("th",{scope:"col",class:"px-6 py-3"}," Type "),$("th",{scope:"col",class:"px-6 py-3 text-right"}," Price "),$("th",{scope:"col",class:"px-6 py-3 text-right"}," Current Qty "),$("th",{scope:"col",class:"px-6 py-3 text-right"}," Support Qty "),$("th",{scope:"col",class:"px-6 py-3"}," Operation "),$("th",{scope:"col",class:"px-6 py-3 text-right"}," Change By N "),$("th",{scope:"col",class:"px-6 py-3"}," Date ")])],-1),sH={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap capitalize"},iH={scope:"row",class:"px-6 py-4 text-right"},aH={scope:"row",class:"px-6 py-4 text-right"},oH={class:"px-6 py-4 text-right"},lH={class:"px-6 py-4"},uH={key:0,class:"capitalize bg-slate-600 px-1 py-0.5 rounded-md text-white"},cH={class:"px-6 py-4 text-right"},dH={class:"px-6 py-4"},hH={key:1,class:"bg-white border-b"},fH=$("td",{class:"px-6 py-4 text-center",colspan:"100%"}," No records found.",-1),pH=[fH],mH={key:0},gH={class:"fixed flex justify-center items-center top-0 left-0 h-full w-full bg-[#808080b5]"},yH={class:"flex justify-center max-sm:w-full md:w-1/3"},_H={class:"bg-white rounded-md w-full"},vH={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},wH={class:"text-xl font-semibold text-gray-900"},bH={class:"p-4"},TH={class:"flex flex-row gap-2"},EH={key:0,class:"flex flex-row gap-2"},IH={key:1,class:"flex flex-row gap-2"},AH={class:"flex flex-row gap-2"},kH={class:"flex float-end pb-3 gap-4"},RH={type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},PH=at({__name:"ProjectComponent",props:{project:{}},setup(e){const t=J(!1),n=as(),r=J(!1),s=J(null),i=J(!1),a=G(()=>[{value:"action",label:"Action"},...N.value.length>0?[{value:"state",label:"State"}]:[]]),o=G(()=>[{value:"added",label:"Added"},{value:"removed",label:"Removed"}]),l=e,u=J("state"),c=J(""),d=J(0),h=J(100),f=J(0),m=J(200),y=J(new Date),b=G(()=>({transactionType:{required:Mn.withMessage("Required.",pr)},transactionOperation:u.value=="action"?{required:Mn.withMessage("Required.",pr)}:{},transactionPrice:{required:Mn.withMessage("Required.",pr)},transactionCurrentQty:{required:Mn.withMessage("Required.",pr)},transactionSupportQty:{required:Mn.withMessage("Required.",pr)},transactionLastDate:{required:Mn.withMessage("Required.",pr)}})),I=yh(b,{transactionType:u,transactionOperation:c,transactionPrice:d,transactionCurrentQty:h,transactionSupportQty:f,transactionLastDate:y}),C=G(()=>h.value*100/m.value-100),E=async()=>{r.value=!0,I.value.$touch(),!I.value.$invalid&&n.selected_project!==null&&(await n.addProjectTransaction(n.selected_project.id,{type:u.value,price:d.value,current_qty:h.value,support_qty:f.value,operation:u.value=="action"?c.value:"",change_by_n:u.value=="state"?C.value:null,added_at:KY.getStoreDate(y.value)}),x(),await n.fetchProjectTransaction(l.project.id,!0)),r.value=!1},R=async()=>{i.value||await n.fetchProjectTransaction(l.project.id),i.value=!i.value},N=G(()=>Object.keys(n.project_transactions).includes(l.project.id)?n.project_transactions[l.project.id]:[]),D=j=>{if(n.selectProject(j),t.value=!0,M(),(!j.transactions||j.transactions.length<1)&&(u.value="action",c.value="added"),N.value.length>0){const H=N.value[N.value.length-1];d.value=H.price,h.value=H.current_qty,f.value=H.support_qty,m.value=H.current_qty}},x=()=>{n.selectProject(null),t.value=!1,M()},M=()=>{u.value="state",c.value="",d.value=0,h.value=0,f.value=0,m.value=0,y.value=new Date};return(j,H)=>(F(),Z("div",null,[$("div",QY,[$("div",XY,[$("div",JY,[$("div",ZY,We(j.project.name),1),$("div",null,[i.value?(F(),Z("button",{key:0,onClick:H[0]||(H[0]=re=>D(j.project)),class:"inline-flex px-2 py-0.5 text-white bg-yellow-600 hover:bg-yellow-700 focus:bg-yellow-700 rounded-md ml-6 mb-3"}," Add ")):oe("",!0),$("button",{onClick:H[1]||(H[1]=re=>R()),class:"inline-flex px-2 py-0.5 text-white bg-yellow-600 hover:bg-yellow-700 focus:bg-yellow-700 rounded-md ml-2 mb-3"},We(i.value?"Close":"Open"),1)])]),i.value?(F(),Z("div",eH,[$("div",tH,[$("table",nH,[rH,$("tbody",null,[N.value.length>0?(F(!0),Z(Me,{key:0},bt(N.value,(re,P)=>(F(),Z("tr",{key:P,class:"bg-white border-b"},[$("th",sH,We(re.type),1),$("th",iH,We(re.price),1),$("th",aH,We(re.current_qty),1),$("td",oH,We(re.support_qty),1),$("td",lH,[re.operation?(F(),Z("code",uH,We(re.operation),1)):oe("",!0)]),$("td",cH,We(re.change_by_n),1),$("td",dH,We(re.added_at.toString()),1)]))),128)):(F(),Z("tr",hH,pH))])])])])):oe("",!0)]),Le(is,null,{default:Qe(()=>{var re;return[t.value?(F(),Z("div",mH,[$("div",gH,[$("div",yH,[$("div",_H,[$("div",vH,[$("h3",wH," Project : "+We((re=T(n).selected_project)==null?void 0:re.name),1),$("button",{onClick:x,type:"button",class:"end-2.5 text-gray-400 bg-transparent rounded-lg text-sm w-9 h-9 ms-auto inline-flex justify-center items-center"},"  ")]),$("div",bH,[$("form",{class:"space-y-4",onSubmit:H[10]||(H[10]=ft(P=>E(),["prevent"]))},[$("div",TH,[Le(Q0,{options:a.value,value:u.value,"onUpdate:value":H[2]||(H[2]=P=>u.value=P),processing:r.value,class:"basis-1/2",name:"transactionType",label:"Type","error-message":T(I).transactionType.$errors.length>0?T(I).transactionType.$errors[0].$message:void 0,error:T(I).transactionType.$errors.length>0},null,8,["options","value","processing","error-message","error"]),Le(Oa,{value:d.value,"onUpdate:value":H[3]||(H[3]=P=>d.value=P),processing:r.value,class:"basis-1/2",name:"transactionPrice",label:"Price","error-message":T(I).transactionPrice.$errors.length>0?T(I).transactionPrice.$errors[0].$message:void 0,error:T(I).transactionPrice.$errors.length>0},null,8,["value","processing","error-message","error"]),Le(G6,{value:y.value,"onUpdate:value":H[4]||(H[4]=P=>y.value=P),processing:r.value,class:"basis-1/2",name:"transactionLastDate",label:"Date","error-message":T(I).transactionLastDate.$errors.length>0?T(I).transactionLastDate.$errors[0].$message:void 0,error:T(I).transactionLastDate.$errors.length>0},null,8,["value","processing","error-message","error"])]),u.value=="state"?(F(),Z("div",EH,[Le(Oa,{value:m.value,"onUpdate:value":H[5]||(H[5]=P=>m.value=P),processing:!0,class:"basis-1/2",name:"transactionLastCurrentQty",label:"Last Current Qty"},null,8,["value"]),Le(Oa,{value:C.value,"onUpdate:value":H[6]||(H[6]=P=>C.value=P),processing:!0,class:"basis-1/2",name:"transactionChangeByN",label:"Change By N"},null,8,["value"])])):oe("",!0),u.value=="action"?(F(),Z("div",IH,[Le(Q0,{options:o.value,value:c.value,"onUpdate:value":H[7]||(H[7]=P=>c.value=P),processing:r.value,class:"basis-1/2",name:"transactionOperation",label:"Type","error-message":T(I).transactionOperation.$errors.length>0?T(I).transactionOperation.$errors[0].$message:void 0,error:T(I).transactionOperation.$errors.length>0},null,8,["options","value","processing","error-message","error"])])):oe("",!0),$("div",AH,[Le(Oa,{value:h.value,"onUpdate:value":H[8]||(H[8]=P=>h.value=P),processing:r.value,class:"basis-1/2",name:"transactionCurrentQty",label:"Current Qty","error-message":T(I).transactionCurrentQty.$errors.length>0?T(I).transactionCurrentQty.$errors[0].$message:void 0,error:T(I).transactionCurrentQty.$errors.length>0},null,8,["value","processing","error-message","error"]),Le(Oa,{value:f.value,"onUpdate:value":H[9]||(H[9]=P=>f.value=P),processing:r.value,class:"basis-1/2",name:"transactionSupportQty",label:"Support Qty","error-message":T(I).transactionSupportQty.$errors.length>0?T(I).transactionSupportQty.$errors[0].$message:void 0,error:T(I).transactionSupportQty.$errors.length>0},null,8,["value","processing","error-message","error"])]),$("div",kH,[$("button",RH,We(s.value==null?"Add":"Update"),1)])],32)])])])])])):oe("",!0)]}),_:1})])]))}}),SH=$("div",{class:"mr-6"},[$("h1",{class:"text-2xl font-semibold mb-2"},"Projects"),$("h2",{class:"text-gray-600 ml-0.5"})],-1),CH={key:0,class:"text-zinc-700 text-xl xs:text-3.5xl font-bold text-center mt-6 sm:mt-9"},xH=$("p",null,"Loading ...",-1),DH=[xH],MH={key:1,class:"grid grid-cols-1 gap-4"},OH={key:0},NH={class:"fixed flex justify-center items-center top-0 left-0 h-full w-full bg-[#808080b5]"},VH={class:"flex justify-center max-sm:w-full md:w-1/3"},$H={class:"bg-white rounded-md w-full"},LH=$("h3",{class:"text-xl font-semibold text-gray-900"}," Details ",-1),FH={class:"p-4"},UH={class:"flex float-end pb-3 gap-4"},jH={type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},BH=at({__name:"ProjectsView",setup(e){const t=J(!1);J(!1);const n=J(!1),r=as(),s=J(!1),i=J(""),a=J(""),o=J(null);J(),J(!1);const l=J(!1),u=G(()=>r.getProjects);Kt(async()=>{l.value=!0,await r.fetchProjects(),l.value=!1});const c=G(()=>({name:{required:Mn.withMessage("Required.",pr),maxLength:Mn.withMessage("Max 200 characters.",zp(200))}})),d=yh(c,{name:i}),h=()=>{i.value="",a.value="",n.value=!1,t.value=!1,o.value=null},f=()=>{t.value=!0,o.value=null},m=()=>{d.value.$touch(),d.value.$invalid||(o.value!==null?r.updateProject(o.value,i.value,a.value):r.addProject(i.value),h())};return(y,b)=>(F(),Z("div",null,[$("div",{class:"sticky top-0 pt-3 bg-white flex flex-col space-y-6 md:space-y-0 md:flex-row justify-between mb-3"},[SH,$("div",{class:"flex flex-wrap items-start justify-end -mb-3"},[$("button",{onClick:f,class:"inline-flex px-3 py-1 text-white bg-yellow-600 hover:bg-yellow-700 focus:bg-yellow-700 rounded-md ml-6 mb-3"}," Add ")])]),l.value?(F(),Z("div",CH,DH)):(F(),Z("div",MH,[(F(!0),Z(Me,null,bt(u.value,(I,C)=>(F(),Je(PH,{key:C,project:I},null,8,["project"]))),128)),Le(is,null,{default:Qe(()=>[t.value?(F(),Z("div",OH,[$("div",NH,[$("div",VH,[$("div",$H,[$("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},[LH,$("button",{onClick:h,type:"button",class:"end-2.5 text-gray-400 bg-transparent rounded-lg text-sm w-9 h-9 ms-auto inline-flex justify-center items-center"},"  ")]),$("div",FH,[$("form",{class:"space-y-4",onSubmit:b[1]||(b[1]=ft(I=>m(),["prevent"]))},[Le(Oa,{value:i.value,"onUpdate:value":b[0]||(b[0]=I=>i.value=I),processing:s.value,class:"my-2",name:"name",label:"Name","error-message":T(d).name.$errors.length>0?T(d).name.$errors[0].$message:void 0,error:T(d).name.$errors.length>0},null,8,["value","processing","error-message","error"]),$("div",UH,[$("button",jH,We(o.value==null?"Add":"Update"),1)])],32)])])])])])):oe("",!0)]),_:1})]))]))}}),YH=Symbol(),HH={class:"w-full h-screen bg-neutral-100 md:px-28 pt-12 px-12 flex items-center"},WH={class:"w-full md:flex"},qH=$("div",{class:"w-1/2 max-md:w-full"},[$("p",{class:"text-2xl md:text-3xl lg:text-4xl font-bold max-md:w-full max-md:mb-10"},"Sign In to Direct")],-1),zH={class:"w-1/2 max-md:w-full"},GH={class:"max-md:w-full float-right"},KH={class:"space-y-5 md:space-y-5"},QH=["processing","error-message","error"],XH=["processing","error-message","error"],JH={key:0,class:"text-red-500"},ZH=["disabled"],eW=$("div",null,null,-1),tW=at({__name:"LoginView",setup(e){const t=J(!1),n=nu(),r=J(""),s=J(""),i=G(()=>({email:{required:Mn.withMessage("Required.",pr),email:Mn.withMessage("Invalid Email.",OU)},password:{required:Mn.withMessage("Required.",pr)}})),a=yh(i,{email:r,password:s}),o=dU(YH),l=as(),u=J(""),c=async()=>{if(a.value.$touch(),!a.value.$invalid){t.value=!0,u.value="";let d=await l.login(r.value,s.value);d.status?(o.emit({message:d.message,options:{type:"success"}}),n.push({name:"projects"})):u.value=d.message,t.value=!1}};return Kt(async()=>{l.getUser&&n.push({name:"projects"})}),(d,h)=>(F(),Z("div",null,[$("div",HH,[$("div",WH,[qH,$("div",zH,[$("div",GH,[$("form",{onSubmit:ft(c,["prevent"]),class:"space-y-4 md:space-y-6"},[$("div",KH,[vr($("input",{placeholder:"Enter Email",type:"email","onUpdate:modelValue":h[0]||(h[0]=f=>r.value=f),processing:t.value,class:"bg-slate-200 border text-black font-medium text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5","error-message":T(a).email.$errors.length>0?T(a).email.$errors[0].$message:void 0,error:T(a).email.$errors.length>0},null,8,QH),[[eo,r.value]]),vr($("input",{placeholder:"Password",type:"password","onUpdate:modelValue":h[1]||(h[1]=f=>s.value=f),processing:t.value,class:"bg-slate-200 border text-black font-medium text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5","error-message":T(a).password.$errors.length>0?T(a).password.$errors[0].$message:void 0,error:T(a).password.$errors.length>0},null,8,XH),[[eo,s.value]]),u.value.length?(F(),Z("small",JH,We(u.value),1)):oe("",!0)]),$("button",{type:"submit",disabled:t.value,class:"w-full bg-blue-500 text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mt-8"},We(t.value?"Processing...":"Sign In"),9,ZH)],32),eW])])])])]))}}),nW={class:"fixed right-0 top-0 left-60 bg-yellow-50 py-3 px-4 h-16"},rW={class:"max-w-4xl mx-auto"},sW={class:"flex items-center justify-between"},iW=$("div",null,null,-1),aW={class:"text-lg font-bold leading-10"},oW=$("div",null,null,-1),lW=at({__name:"AppHeader",setup(e){nu(),Sd(),as();const t=mh(),n=G(()=>{var r;return t.isProjectLoad?(r=t.project)==null?void 0:r.name:""});return(r,s)=>(F(),Z("header",nW,[$("div",rW,[$("div",sW,[iW,$("div",aW,We(n.value),1),oW])])]))}}),uW={class:"fixed inset-y-0 left-0 bg-white shadow-md max-h-screen w-60"},cW={class:"flex flex-col justify-between h-full"},dW={class:"flex-grow"},hW={class:"px-4 py-6 border-b"},fW={class:"text-xl font-bold leading-none"},pW={class:"text-yellow-700 text-center"},mW=$("br",null,null,-1),gW={class:"text-xs"},yW={class:"p-4"},_W={class:"space-y-1"},vW=["onClick"],wW={class:"p-4"},bW=$("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"",viewBox:"0 0 16 16"},[$("path",{d:"M12 1a1 1 0 0 1 1 1v13h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V2a1 1 0 0 1 1-1h8zm-2 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})],-1),TW=$("span",{class:"font-bold text-sm ml-2"},"Logout",-1),EW=[bW,TW],IW={key:0},AW={class:"fixed flex justify-center items-center inset-y-0 left-0 h-full w-full bg-[#808080b5] z-50"},kW={class:"w-80"},RW={class:"bg-white rounded-md w-full"},PW=$("div",{class:"w-full flex justify-center p-5"},[$("p",{class:"text-xl font-semibold text-gray-900"}," Are you sure want to Logout ? ")],-1),SW={class:"border-t-2 rounded-t flex text-white font-medium"},CW={class:"flex my-4 mx-10 w-full justify-between"},xW=at({__name:"AppAside",setup(e){const t=as(),n=nu(),r=Sd(),s=J(!1),i=mh(),a=G(()=>[...t.has_permission===!0?[{label:"Projects",routeName:"projects",onClick:()=>{n.push({name:"projects",params:{}})}}]:[],...i.isProjectLoad?[{label:"Pages",routeName:"pages",onClick:()=>{n.push({name:"pages",params:{project_id:i.projectUid}})}},{label:"Home",routeName:"home",onClick:()=>{n.push({name:"home",params:{project_id:i.projectUid}})}}]:[]]),o=async()=>{s.value===!0&&(await t.logout(),n.push({name:"login"}))};return(l,u)=>(F(),Z(Me,null,[$("aside",uW,[$("div",cW,[$("div",dW,[$("div",hW,[$("h1",fW,[$("span",pW,We(T(t).getUser.name),1),mW,$("small",gW,We(T(t).getUser.email),1)])]),$("div",yW,[$("ul",_W,[(F(!0),Z(Me,null,bt(a.value,(c,d)=>(F(),Z("li",{key:d},[$("a",{onClick:c.onClick,class:Xe(["flex bg-white hover:bg-yellow-50 rounded-xl font-bold text-sm text-gray-900 py-3 px-4",{"bg-yellow-200":c.routeName==T(r).name}])},We(c.label),11,vW)]))),128))])])]),$("div",wW,[$("button",{onClick:u[0]||(u[0]=c=>s.value=!0),type:"button",class:"inline-flex items-center justify-center h-9 px-4 rounded-xl bg-gray-900 text-gray-300 hover:text-white text-sm font-semibold transition"},EW)])])]),s.value?(F(),Z("div",IW,[$("div",AW,[$("div",kW,[$("div",RW,[PW,$("div",SW,[$("div",CW,[$("div",null,[$("button",{onClick:u[1]||(u[1]=c=>s.value=!1),type:"button",class:"bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg text-sm px-4 py-2"},"Cancel")]),$("div",null,[$("button",{onClick:o,type:"button",class:"bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg text-sm px-4 py-2"},"Ok")])])])])])])])):oe("",!0)],64))}}),DW=Tb('<h1 class="text-3xl font-bold mb-10">Messaging ID framework development for the marketing branch</h1><div class="flex items-center justify-between"><div class="flex items-stretch"><div class="text-gray-400 text-xs">Members<br>connected</div><div class="h-100 border-l mx-4"></div><div class="flex flex-nowrap -space-x-3"><div class="h-9 w-9"><img class="object-cover w-full h-full rounded-full" src="https://ui-avatars.com/api/?background=random"></div><div class="h-9 w-9"><img class="object-cover w-full h-full rounded-full" src="https://ui-avatars.com/api/?background=random"></div></div></div><div class="flex items-center gap-x-2"><button type="button" class="inline-flex items-center justify-center h-9 px-3 rounded-xl border hover:border-gray-400 text-gray-800 hover:text-gray-900 transition"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="bi bi-chat-fill" viewBox="0 0 16 16"><path d="M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9.06 9.06 0 0 0 8 15z"></path></svg></button><button type="button" class="inline-flex items-center justify-center h-9 px-5 rounded-xl bg-gray-900 text-gray-300 hover:text-white text-sm font-semibold transition"> Open </button></div></div><hr class="my-10"><div class="grid grid-cols-2 gap-x-20"><div><h2 class="text-2xl font-bold mb-4">Stats</h2><div class="grid grid-cols-2 gap-4"><div class="col-span-2"><div class="p-4 bg-green-100 rounded-xl"><div class="font-bold text-xl text-gray-800 leading-none">Good day, <br>Kristin</div><div class="mt-5"><button type="button" class="inline-flex items-center justify-center py-2 px-3 rounded-xl bg-white text-gray-800 hover:text-green-500 text-sm font-semibold transition"> Start tracking </button></div></div></div><div class="p-4 bg-yellow-100 rounded-xl text-gray-800"><div class="font-bold text-2xl leading-none">20</div><div class="mt-2">Tasks finished</div></div><div class="p-4 bg-yellow-100 rounded-xl text-gray-800"><div class="font-bold text-2xl leading-none">5,5</div><div class="mt-2">Tracked hours</div></div><div class="col-span-2"><div class="p-4 bg-purple-100 rounded-xl text-gray-800"><div class="font-bold text-xl leading-none">Your daily plan</div><div class="mt-2">5 of 8 completed</div></div></div></div></div><div><h2 class="text-2xl font-bold mb-4">Your tasks today</h2><div class="space-y-4"><div class="p-4 bg-white border rounded-xl text-gray-800 space-y-2"><div class="flex justify-between"><div class="text-gray-400 text-xs">Number 10</div><div class="text-gray-400 text-xs">4h</div></div><a href="javascript:void(0)" class="font-bold hover:text-yellow-800 hover:underline">Blog and social posts</a><div class="text-sm text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="text-gray-800 inline align-middle mr-1" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"></path></svg>Deadline is today </div></div><div class="p-4 bg-white border rounded-xl text-gray-800 space-y-2"><div class="flex justify-between"><div class="text-gray-400 text-xs">Grace Aroma</div><div class="text-gray-400 text-xs">7d</div></div><a href="javascript:void(0)" class="font-bold hover:text-yellow-800 hover:underline">New campaign review</a><div class="text-sm text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="text-gray-800 inline align-middle mr-1" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"></path></svg>New feedback </div></div><div class="p-4 bg-white border rounded-xl text-gray-800 space-y-2"><div class="flex justify-between"><div class="text-gray-400 text-xs">Petz App</div><div class="text-gray-400 text-xs">2h</div></div><a href="javascript:void(0)" class="font-bold hover:text-yellow-800 hover:underline">Cross-platform and browser QA</a></div></div></div></div>',4),MW=[DW],OW=at({__name:"DemoView",setup(e){return nu(),as(),(t,n)=>(F(),Z("div",null,MW))}}),NW={class:"ml-60 pt-16 max-h-screen overflow-auto"},VW={class:"px-6 py-8"},$W={key:0,class:"max-w-4xl mx-auto"},LW=at({__name:"MainLayout",setup(e){const t=as();return(n,r)=>(F(),Z(Me,null,[Le(lW),Le(xW),$("main",NW,[$("div",VW,[T(t).applicationUser?(F(),Z("div",$W,[Le(T(Pd))])):oe("",!0)])])],64))}}),FW={class:"flex w-full justify-center mx-auto mt-2"},UW={class:"bg-white shadow-lg rounded-lg"},jW={class:"w-full"},BW={class:"flex items-center cursor-pointer select-none px-7 py-7 font-medium text-xl text-center"},YW={class:"text-black"},HW={class:"relative ml-40"},zo=at({__name:"ToggleSwitchComponent",props:{label:{},value:{type:Boolean}},emits:["handleCheckboxChange"],setup(e,{emit:t}){const n=e,r=t,s=gh(n,"value",r),i=()=>{r("handleCheckboxChange")};return(a,o)=>(F(),Z("div",null,[$("div",FW,[$("div",UW,[$("div",jW,[$("label",BW,[$("span",YW,We(a.label),1),$("div",HW,[vr($("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=l=>vt(s)?s.value=l:null),class:"sr-only",onClick:i},null,512),[[Rb,T(s)]]),$("div",{class:Xe(["block h-8 w-14 rounded-full border border-slate-300",{"bg-ivory":T(s)}])},null,2),$("div",{class:Xe([{"translate-x-full !bg-amber-200":T(s)},"absolute w-6 h-6 transition rounded-full dot bg-slate-200 left-1 top-1"])},null,2)])])])])])]))}}),WW=at({__name:"PagesView",setup(e){const t=J(!1),n=J(!1),r=J(!1),s=J(!1),i=J(!1),a=()=>{t.value=!t.value},o=()=>{n.value=!n.value},l=()=>{r.value=!r.value},u=()=>{s.value=!s.value},c=()=>{i.value=!i.value};return(d,h)=>(F(),Z("div",null,[Le(zo,{label:"Home",onHandleCheckboxChange:h[0]||(h[0]=f=>a()),value:t.value},null,8,["value"]),Le(zo,{label:"About",onHandleCheckboxChange:h[1]||(h[1]=f=>o()),value:n.value},null,8,["value"]),Le(zo,{label:"Contact",onHandleCheckboxChange:h[2]||(h[2]=f=>l()),value:r.value},null,8,["value"]),Le(zo,{label:"Gallery",onHandleCheckboxChange:h[3]||(h[3]=f=>u()),value:s.value},null,8,["value"]),Le(zo,{label:"Pages",onHandleCheckboxChange:h[4]||(h[4]=f=>c()),value:i.value},null,8,["value"])]))}}),qW="/assets/homePageBanner-tzYm7NE-.webp",zW={class:"main-container"},GW={class:"banner-img-model relative"},KW=["src"],QW=Tb('<div class="w-[80%] m-auto"><div class="flex flex-col items-end absolute w-[80%] bottom-0.5"><button class="p-2.5 bg-yellow-500 rounded-xl hover:rounded-3xl hover:bg-yellow-600 transition-all duration-300 text-white"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button></div></div>',1),XW={class:"w-[80%] mx-auto mt-14"},JW={class:"w-[80%] mx-auto"},ZW={class:"flex justify-between w-[30%] mx-auto mt-8"},eq=at({__name:"HomeView",setup(e){as();const t=J(""),n=J("");J();const r=G(()=>({heading:{required:Mn.withMessage("Required.",pr),maxLength:Mn.withMessage("Max 50 characters.",zp(50))},subHeading:{required:Mn.withMessage("Required.",pr),maxLength:Mn.withMessage("Max 200 characters.",zp(200))}})),s=yh(r,{heading:t,subHeading:n}),i=()=>{s.value.$touch(),console.log(s.value)};return(a,o)=>{const l=NR("ejs-imageeditor");return F(),Z(Me,null,[$("div",null,[$("div",zW,[$("div",GW,[$("div",null,[$("img",{src:T(qW),class:"w-[80%] m-auto rounded shadow-home-banner"},null,8,KW)]),QW]),$("div",XW,[$("div",JW,[vr($("input",{type:"text",placeholder:"Heading","onUpdate:modelValue":o[0]||(o[0]=u=>t.value=u),class:"w-full h-10 rounded shadow-home-banner my-2 pl-2 outline-none"},null,512),[[eo,t.value]]),vr($("input",{type:"text",placeholder:"Sub Heading","onUpdate:modelValue":o[1]||(o[1]=u=>n.value=u),class:"border w-full h-10 rounded shadow-home-banner my-2 pl-2 outline-none"},null,512),[[eo,n.value]])]),$("div",ZW,[$("button",{type:"button",onClick:o[2]||(o[2]=u=>i()),class:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br shadow-lg dark:shadow-lg font-medium rounded text-sm py-2.5 text-center me-2 mb-2 w-full"},"Update")])])])]),$("div",null,[Le(l,{id:"image-editor",ref:"imageEditorObj",height:"350px",width:"550px"},null,512)])],64)}}}),tq={key:0},nq={key:1},rq=$("div",null,"Project Not Found",-1),sq=[rq],iq=at({__name:"ProjectGroupView",setup(e){const t=mh(),n=Sd(),r=J(""),s=G(()=>Object.keys(n.params).includes("project_id")&&n.params.project_id==t.projectUid);return Kt(()=>{r.value=Object.keys(n.params).includes("project_id")?n.params.project_id.toString():"",t.loanProject(r.value)}),(i,a)=>s.value?(F(),Z("div",tq,[Le(T(Pd))])):(F(),Z("div",nq,sq))}}),jy=(e,t=[])=>{for(const n of e)n.name&&t.push(n.name.toString()),n.children&&n.children.length>0&&t.push(...jy(n.children));return t},xk=[{path:"/login",name:"login",component:tW,meta:{guard:"unauth"}}],Dk=[{path:"/",component:LW,meta:{guard:"auth"},children:[{path:"",name:"projects",component:BH},{path:"project/:project_id",name:"project",component:iq,children:[{path:"",name:"pages",component:WW},{path:"home",name:"home",component:eq}]},{path:"/demo",name:"demo",component:OW}]}],Mk=vC({history:VS("/"),routes:[...Dk,...xk]}),aq=jy(xk),oq=jy(Dk);Mk.beforeEach(async(e,t)=>{const n=as(),r=n.user!==null;if(typeof e.name=="string"&&n.initProcessDone){if(r&&aq.includes(e.name))return{name:"project"};if(!r&&oq.includes(e.name))return{name:"login"}}});const By=uS(lU);By.use(fS());By.use(Mk);By.mount("#app")});export default lq();
